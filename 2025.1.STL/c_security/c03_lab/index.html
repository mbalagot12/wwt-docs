<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Arista Campus Workshop">
      
      
      
      
        <link rel="prev" href="../c02_lab/">
      
      
        <link rel="next" href="../../references/agenda/">
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.17">
    
    
      
        <title>C03 - AGNI and Wired EAP-TLS 802.1X - Arista Campus Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#c-03-agni-and-wired-eap-tls-8021x" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Arista Campus Workshop" class="md-header__button md-logo" aria-label="Arista Campus Workshop" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Arista Campus Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              C03 - AGNI and Wired EAP-TLS 802.1X
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../a_wired/a01_lab/" class="md-tabs__link">
          
  
  Wired Lab Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../b_wireless/b01_lab/" class="md-tabs__link">
          
  
  Wireless Lab Guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../c01_lab/" class="md-tabs__link">
          
  
  Security Lab Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../references/agenda/" class="md-tabs__link">
          
  
  References

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Arista Campus Workshop" class="md-nav__button md-logo" aria-label="Arista Campus Workshop" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Arista Campus Workshop
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1">
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab/access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Access
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Wired Lab Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Wired Lab Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a_wired/a01_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A01 - Explore EOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a_wired/a03_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A03 - Access Interface Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a_wired/a04_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A04 - Operations, Dashboards, and Events
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Wireless Lab Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Wireless Lab Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../b_wireless/b01_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B01 - Wireless Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../b_wireless/b02_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B02 - WiFi Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../b_wireless/b03_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B03 - Guest Wireless with AGNI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../b_wireless/b04_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B04 - Smart System Upgrade
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Security Lab Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Security Lab Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c01_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C01 - AGNI and WiFi EAP-TLS 802.1X
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c02_lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C02 - AGNI UPSK Wireless Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    C03 - AGNI and Wired EAP-TLS 802.1X
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    C03 - AGNI and Wired EAP-TLS 802.1X
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topology" class="md-nav__link">
    <span class="md-ellipsis">
      Topology
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    References
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1">
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            General
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/agenda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agenda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/wifi_password/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WiFi Passwords
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/lab_assignment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Assignment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2">
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arista Configuration Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Arista Configuration Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/config_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intangi Iris
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3">
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arista Advance EOS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Arista Advance EOS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/arista_eos_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arista EOS Tips &amp; Tricks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4">
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arista @Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Arista @Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/arista_home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring Arista switches and APs for Home Use
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5">
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Working with Certificates
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Working with Certificates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/radsec_on_eos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RadSec on EOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/cut_paste_certs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cut-and-Paste Method
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6">
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Wired
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Wired
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/interface_diag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interface Diagnostics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/agni_tacacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AGNI Tacacs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7">
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Wireless
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Wireless
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/radius/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring Radius
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/l2tunnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guest AP Tunnel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/radsec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RadSec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/wips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WIPS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topology" class="md-nav__link">
    <span class="md-ellipsis">
      Topology
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                


    <a href="../../print_page" title="Site PDF" class="md-content__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-9.5 8.5c0 .8-.7 1.5-1.5 1.5H7v2H5.5V9H8c.8 0 1.5.7 1.5 1.5v1m5 2c0 .8-.7 1.5-1.5 1.5h-2.5V9H13c.8 0 1.5.7 1.5 1.5v3m4-3H17v1h1.5V13H17v2h-1.5V9h3v1.5m-6.5 0h1v3h-1v-3m-5 0h1v1H7v-1Z"></path></svg>
    </a>



                  


<h1 id="c-03-agni-and-wired-eap-tls-8021x">C-03 | AGNI and Wired EAP-TLS 802.1X<a class="headerlink" href="#c-03-agni-and-wired-eap-tls-8021x" title="Permanent link">¶</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>In this lab we enhance the port security to our Raspberry Pi! We will do the following:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked><span class="task-list-indicator"></span></label> Update our port profile</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked><span class="task-list-indicator"></span></label> Configure our switch to communicate over RadSec to AGNI</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked><span class="task-list-indicator"></span></label> Configure the AGNI EAP-TLS wired policy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked><span class="task-list-indicator"></span></label> Verify it all works!</li>
</ul>
<h2 id="topology">Topology<a class="headerlink" href="#topology" title="Permanent link">¶</a></h2>
<details class="example">
<summary>Lab Topology</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/topology/atd_student-light.png#only-light" data-desc-position="bottom"><img alt="ATD Student Pod" src="../../assets/images/topology/atd_student-light.png#only-light"></a>
<a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/topology/atd_student-dark.png#only-dark" data-desc-position="bottom"><img alt="ATD Student Pod" src="../../assets/images/topology/atd_student-dark.png#only-dark"></a></p>
</details>
<!-- === "Student Lab"
    ![ATD Student Pod](../assets/images/login/atd_student-light.png#only-light)
    ![ATD Student Pod](../assets/images/login/atd_student-dark.png#only-dark)

=== "Full Lab topology"
    ![ATD Low Level](../assets/images/login/atd_low_level.png) 
-->

<details class="tip">
<summary>Important: Your switches need to be onboarded in AGNI with RadSec before proceeding. Follow the steps here</summary>
<h1 id="configuring-radsec-on-eos">Configuring RadSec on <abbr title="Arista's Extensible Operating System">EOS</abbr><a class="headerlink" href="#configuring-radsec-on-eos" title="Permanent link">¶</a></h1>
<p>Arista Switches can form a RadSec tunnel using SSL encryption with AGNI. RadSec is a protocol that supports RADIUS over TCP and TLS. For mutual authentication it is required to install a client certificate with corresponding private key as well as your AGNI CA certificate. The steps below assumes the use of AGNI's internal PKI.</p>
<p>Follow the steps to create, upload and establish the RadSec tunnel.</p>
<ol>
<li>Generate private key and CSR</li>
<li>Generate client certificate for the Switch in AGNI. </li>
<li>Upload the Certificate to the Switch.</li>
<li>Configure an SSL profile and and RadSec profile  </li>
</ol>
<h2 id="agni-login">AGNI Login<a class="headerlink" href="#agni-login" title="Permanent link">¶</a></h2>
<p>If you're not already logged into AGNI, navigate to the <a href="https://launchpad.wifi.arista.com/" target="_blank">Arista Launchpad</a> for your lab.</p>
<p><a class="md-button md-button--primary" href="https://launchpad.wifi.arista.com/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27l-2.77 6.1M5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M19.22 4c.28 0 .53 0 .74.05.17 1.39-.02 4.25-3.3 7.53-1.7 1.71-3.73 3.02-6.01 3.89l-2.15-2.1c.92-2.31 2.23-4.34 3.92-6.03C15.18 4.58 17.64 4 19.22 4m0-2c-1.98 0-4.98.69-8.22 3.93-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.38.38.89.61 1.42.61.23 0 .47-.06.7-.15A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61S20.7 2 19.22 2m-4.68 7.46c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83-.78.78-2.05.78-2.83 0m-5.66 7.07-1.41-1.41 1.41 1.41M6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22h1.41M2 22h1.41l4.77-4.76-1.42-1.41L2 20.59V22m0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76v1.41Z"></path></svg></span> Open Launchpad</a></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Login Step 1</label><label for="__tabbed_1_2">Login Step 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/login/01_launchpad_login.png" data-desc-position="bottom"><img alt="Launchpad Login" src="../../assets/images/login/01_launchpad_login.png"></a></p>
</div>
<div class="tabbed-block">
<p>You will see the various tools tied to your tenant, this includes CVP, AGNI (<abbr title="Network Access Control">NAC</abbr>), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/login/login_agni.png" data-desc-position="bottom"><img alt="Launchpad Login" src="../../assets/images/login/login_agni.png"></a></p>
</div>
</div>
</div>
<h2 id="configuration-steps">Configuration Steps<a class="headerlink" href="#configuration-steps" title="Permanent link">¶</a></h2>
<ol>
<li>
<p>Generate the key pair</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="l l-Scalar l-Scalar-Plain">security pki key generate rsa 2048 switch.key</span>
</code></pre></div>
</li>
<li>
<p>Generate the certificate signing request using the key just created.</p>
<details class="tip" open="open">
<summary>Common Name must correspond to the Switch MAC address and the DNS needs to match the hostname of the switch</summary>
</details>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="l l-Scalar l-Scalar-Plain">security pki certificate generate signing-request key switch.key</span>
</code></pre></div>
<details class="quote">
<summary>Certificate Signing Request</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="hll"><span class="nt">Common Name for use in subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2c:dd:e9:fe:cd:68</span><span class="w"> </span>
</span><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="hll"><span class="nt">Two-Letter Country Code for use in subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">US</span><span class="w"> </span>
</span><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="hll"><span class="nt">State for use in subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FL</span><span class="w"> </span>
</span><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="hll"><span class="nt">Locality Name for use in subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NFM</span><span class="w"> </span>
</span><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="hll"><span class="nt">Organization Name for use in subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Arista</span><span class="w"> </span>
</span><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="hll"><span class="nt">Organization Unit Name for use in subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">acws</span><span class="w"> </span>
</span><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nt">Email address for use in subject</span><span class="p">:</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nt">IP addresses (space separated) for use in subject-alternative-name</span><span class="p">:</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="hll"><span class="nt">DNS names (space separated) for use in subject-alternative-name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pod00-leaf1a</span><span class="w"> </span>
</span><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="nt">Email addresses (space separated) for use in subject-alternative-name</span><span class="p">:</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="nt">URIs (space separated) for use in subject-alternative-name</span><span class="p">:</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="l l-Scalar l-Scalar-Plain">-----BEGIN CERTIFICATE REQUEST-----</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="l l-Scalar l-Scalar-Plain">MIIC0DCCAbgCAQAwYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAkZMMQwwCgYDVQQH</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="l l-Scalar l-Scalar-Plain">DANORk0xDTALBgNVBAoMBGFjd3MxDDAKBgNVBAsMA2NzZTEaMBgGA1UEAwwRMmM6</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="l l-Scalar l-Scalar-Plain">ZGQ6ZTk6ZmY6MzI6YjIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC1</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="l l-Scalar l-Scalar-Plain">UDFDsidF4qhGzIEgNUlcNPtfvAGic/hQelaD9MgvOUbbVUhEg0hcbA/LLcyZQ+f/</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="l l-Scalar l-Scalar-Plain">B0f/UK7eyuNhtS3lTYf7A1TqCQ7md8d4opcKbiP7vFg6+dpvAXT8giBlstv790LY</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="l l-Scalar l-Scalar-Plain">wEpuCKX4igkLx+jMlNNOP7tKnuX2tuK/EYi20O2a0e4LR77ebBZpztiia9prCyvk</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="l l-Scalar l-Scalar-Plain">neNhtAPMeb/O/kUBnmPwpPDy4jtpPhp8I+xX9zo4nRNjVlFcRRNao/N72kIpnmX8</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="l l-Scalar l-Scalar-Plain">nnAXIcG/I1bLsgspWIwwiV3MUL3pOKUNqXaKf824/ZJgPAtUA2zgp9JayMbbddOE</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="l l-Scalar l-Scalar-Plain">A3dKTwBkGOXihZkVDTnrAgMBAAGgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQ</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="l l-Scalar l-Scalar-Plain">MA6CDHBvZDAwLWxlYWYxYTANBgkqhkiG9w0BAQsFAAOCAQEAp8pxdX1qJ8uPFrQW</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="l l-Scalar l-Scalar-Plain">ZmMmOZ+RM3lEDOJkhNA2aRVonWeejp0bz5qToT8E41RPyLIdQ56Pa+zeGx5occg8</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="l l-Scalar l-Scalar-Plain">3nK3aFAu1ARPR1EJ8E04656c9v6zpF9np3juwLJm0uiM16XgUMvEmQd1anRELndn</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="l l-Scalar l-Scalar-Plain">r53jlXKAcsKdFMSaW0MqXY6DN8a1PmI3KL0zzOKpwtcRSjvAXFTN8viSPOL/vrRL</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="l l-Scalar l-Scalar-Plain">XTqVaa+P1d7PgRBoSi5DFY6U9nwHD42yP0kCbq98wxDrLyTfMV20ymY083XHdKPz</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="l l-Scalar l-Scalar-Plain">Y4dI+YfHeK48QLBSLUKB9CrOC0XyhIMtCxBGkJ+umZy3wktZHCCkvDej7NoiNZal</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="l l-Scalar l-Scalar-Plain">4uEbIg==</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="l l-Scalar l-Scalar-Plain">-----END CERTIFICATE REQUEST-----</span>
</code></pre></div>
</details>
</li>
<li>
<p>Copy the certificate including the text “-----BEGIN CERTIFICATE REQUEST-----” and “-----END CERTIFICATE REQUEST-----”</p>
</li>
<li>
<p>Select your Access Device from the list and select Get Client Certificate.</p>
</li>
<li>
<p>Select Use CSR (Single Device) and Paste CSR.</p>
<details class="tip" open="open">
<summary>Note 1: CSR can also be uploaded from file by selecting action Upload CSR File</summary>
</details>
<details class="tip" open="open">
<summary>Note 2: For signing multiple CSRs select Upload Zip with multiple CSRs</summary>
</details>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../references/assets/images/agni/agni_generate_switch_crt.png" data-desc-position="bottom"><img alt="AGNI Switch Certificate" src="../../references/assets/images/agni/agni_generate_switch_crt.png"></a></p>
</li>
<li>
<p>Click Generate Certificate. A certificate <code>pod00-leaf1.pem</code> will be generated and downloaded. Rename this file to <code>switch.pem</code></p>
</li>
<li>
<p>Go to RadSec Setting in the Navigator under Administration section to download the CA certificate.</p>
</li>
<li>
<p>Download the RadSec CA certificate (radsec_ca_certificate.pem) by clicking Download Certificate.</p>
<p>In AGNI Click on <code>Configuration → System → RadSec Settings</code> on the left hand side.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../references/assets/images/radius/01_agni.png" data-desc-position="bottom"><img alt="AGNI Switch Certificate" src="../../references/assets/images/radius/01_agni.png"></a></p>
<p>Copy the FQDN <code>radsec.beta.agni.arista.io</code> and <code>Download the Certificate</code> at the bottom.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../references/assets/images/radius/03_agni.png" data-desc-position="bottom"><img alt="AGNI Switch Certificate" src="../../references/assets/images/radius/03_agni.png"></a></p>
</li>
<li>
<p>Copy certificates to the switch
    The certificate and root certificate need to be copied to the switch flash using SCP.
    Prerequisites:
    Settings on switch to be able to SCP over the certs. Provide a username and password with network-admin role. Ensure the following settings are configured on the switch:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="l l-Scalar l-Scalar-Plain">aaa authentication login console local</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="l l-Scalar l-Scalar-Plain">aaa authorization exec default local</span>
</code></pre></div>
</li>
<li>
<p>Copy the certificates to the switch flash using SCP.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">scp switch.pem radsec_ca_certificate.pem arista@&lt;switch_ip&gt;:/mnt/flash</span><span class="p">:</span>
</code></pre></div>
</li>
<li>
<p>Login to your switch using the <code>arista</code> user credentials and verify the certificates are present in the flash.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="l l-Scalar l-Scalar-Plain">dir</span>
</code></pre></div>
</li>
<li>
<p>Copy the certificates to the certificate store.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="l l-Scalar l-Scalar-Plain">copy flash:switch.pem certificate:switch.pem</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="l l-Scalar l-Scalar-Plain">copy flash:radsec_ca_certificate.pem certificate:radsec_ca_certificate.pem</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="l l-Scalar l-Scalar-Plain">dir certificate</span><span class="p p-Indicator">:</span>
</code></pre></div>
</li>
<li>
<p>Verify the certificate validity.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="l l-Scalar l-Scalar-Plain">show management security ssl profile agni-server</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Profile     State</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">----------- -----</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="hll"><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">agni-server valid</span>
</span></code></pre></div>
</li>
</ol>
</details>
<details class="tip">
<summary>Reminder on logging in and creating a workspace</summary>
<h2 id="cloudvision-login">CloudVision Login<a class="headerlink" href="#cloudvision-login" title="Permanent link">¶</a></h2>
<p>&lt;!-- If you're not already logged into CloudVision (CVaaS), navigate to the <a href="https://arista.io/">Arista Launchpad</a> for your lab.</p>
<p><a class="md-button md-button--primary" href="https://launchpad.wifi.arista.com/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27l-2.77 6.1M5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M19.22 4c.28 0 .53 0 .74.05.17 1.39-.02 4.25-3.3 7.53-1.7 1.71-3.73 3.02-6.01 3.89l-2.15-2.1c.92-2.31 2.23-4.34 3.92-6.03C15.18 4.58 17.64 4 19.22 4m0-2c-1.98 0-4.98.69-8.22 3.93-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.38.38.89.61 1.42.61.23 0 .47-.06.7-.15A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61S20.7 2 19.22 2m-4.68 7.46c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83-.78.78-2.05.78-2.83 0m-5.66 7.07-1.41-1.41 1.41 1.41M6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22h1.41M2 22h1.41l4.77-4.76-1.42-1.41L2 20.59V22m0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76v1.41Z"></path></svg></span> Open Launchpad</a> →</p>
<!-- === "WiFi Login"
    Workshop SSID: <code>Arista-Workshop</code>
    Workshop Password: <code>AristaRox!</code> (case sensitive) -->
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Login to CloudVision-as-a-Service</label><label for="__tabbed_2_2">Login to CV-CUE</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><code>Log in with CVaaS</code> and provide your assigned organization name:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/login/00_cvaas_login_new.png" data-desc-position="bottom"><img alt="Launchpad Login" src="../../assets/images/login/00_cvaas_login_new.png"></a></p>
</div>
<div class="tabbed-block">
<p>You will see the various tools tied to your tenant, this includes AGNI (<abbr title="Network Access Control">NAC</abbr>), and CV-CUE for wireless.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/login/login_cv.png" data-desc-position="bottom"><img alt="Launchpad Login" src="../../assets/images/login/login_cv.png"></a></p>
</div>
</div>
</div>
<h2 id="create-a-workspace">Create a Workspace<a class="headerlink" href="#create-a-workspace" title="Permanent link">¶</a></h2>
<p>We are going to create a workspace to propose changes to the Network Infrastructure.  A workspace acts as a sandbox where you can stage your configuration changes before deploying them.</p>
<details class="tip">
<summary>What is a Workspace?</summary>
<p>To make a comparison, a workspace is like a <a href="https://www.arista.com/en/um-eos/eos-configure-session"><code>configuration session</code></a> in <abbr title="Arista's Extensible Operating System">EOS</abbr> or a branch in Git!</p>
</details>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Studios Step 1</label><label for="__tabbed_3_2">Studios Step 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Click on the <code>Provisioning</code> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M352 320c88.4 0 160-71.6 160-160 0-15.3-2.2-30.1-6.2-44.2-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16v-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0c-88.4 0-160 71.6-160 160 0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1 0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9l181.6-181.6c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"></path></svg></span> on the left side, then choose <code>Studios</code>.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/workspace/01_studios_main.png" data-desc-position="bottom"><img alt="Campus Studios" src="../../assets/images/workspace/01_studios_main.png"></a></p>
</div>
<div class="tabbed-block">
<p>Click <code>Create a Workspace</code>, give it any name you would like and click <code>Create</code>.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/workspace/02_create_workspace.png" data-desc-position="bottom"><img alt="Create Workspace" src="../../assets/images/workspace/02_create_workspace.png"></a></p>
</div>
</div>
</div>
</details>
<h2 id="update-port-profile">Update Port Profile<a class="headerlink" href="#update-port-profile" title="Permanent link">¶</a></h2>
<p>Here we will update our existing raspberry pi port profile to enable 802.1X</p>
<div class="admonition danger">
<p class="admonition-title">Single Workspace</p>
<p>You and your fellow student will work together to create the port profile for your campus fabric in a <strong>single workspace</strong>.</p>
</div>
<ol>
<li>
<p>From the <code>Studios</code> home page, disable the <code>Active Studios</code> toggle to display all available CloudVision Studios (which when enabled will only show used/active Studios).</p>
<div class="admonition note">
<p class="admonition-title">The toggle may already be in the disabled position</p>
</div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../a_wired/assets/images/a02/01_access_config.png" data-desc-position="bottom"><img alt="Campus Studios" src="../../a_wired/assets/images/a02/01_access_config.png"></a></p>
</li>
<li>
<p>Let's update the <code>Wired-RasPi</code> port profile for our Raspberry Pi and enable 802.1x, click the arrow on the right and enable the following:</p>
<details class="example" open="open">
<summary>Wired-RasPi</summary>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>802.1X</td>
<td>Enabled</td>
</tr>
<tr>
<td>MAC Based Authentication</td>
<td>Yes</td>
</tr>
</tbody>
</table>
</details>
</li>
<li>
<p>Our port profiles have been staged, click <code>Review Workspace</code></p>
</li>
<li>
<p>We can see the only studio changed is the <code>Access Interface Configuration</code>, we will see the ports assigned are updated.</p>
</li>
<li>
<p>Go ahead and <code>Submit the Workspace</code> when you ready</p>
</li>
<li>
<p>Click View <code>Change Control</code></p>
</li>
<li>
<p>Review the Change Control and select <code>Review and Approve</code></p>
</li>
<li>
<p>Toggle the <code>Execute Immediately</code> button and select <code>Approve and Execute</code></p>
</li>
<li>
<p>The port is now enabled for 802.1X, let's now get your switch talking back to AGNI.</p>
</li>
</ol>
<h2 id="enable-radsec">Enable RadSec<a class="headerlink" href="#enable-radsec" title="Permanent link">¶</a></h2>
<p>In this lab you will be configuring RadSec on your lab switches by adding the RadSec configuration to the switches via the Static Configuration Studio.</p>
<ol>
<li>Click on the <code>Provisioning</code> menu option, then choose <code>Studios</code>.</li>
<li>Let's open the <code>Static Configuration Studio</code></li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/01_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/01_radsec.png"></a></p>
<ol>
<li>Select your respective switch</li>
<li>In the <code>Device Container</code> window, click on <code>+ Configlet</code> followed by <code>Configlet Library</code>.</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/02_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/02_radsec.png"></a></p>
<ol>
<li>Select the configlet named for your switch, should be <code>radsec</code> and click <code>Assign</code> to add the configlet to the switch</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/03_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/03_radsec.png"></a></p>
<ol>
<li>
<p>Click <code>Review Workspace</code> to review all the changes proposed to the CloudVision Studio</p>
</li>
<li>
<p>Review the workspace details showing the summary of modified studios, the build status, and the proposed configuration changes for each device. When ready click <code>Submit Workspace</code></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/05_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/05_radsec.png"></a></p>
<details>
<summary>What does this configuration do?!</summary>
<p>Click below on the lines to understand what each line does</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kt">!</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="l l-Scalar l-Scalar-Plain">management security</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">ssl profile agni-server</span><span class="w"> </span><span class="c1">#(1)!</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">certificate pod00-leaf1a.crt key agni-private.key</span><span class="w"> </span><span class="c1">#(2)!</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">trust certificate radsec_ca_certificate.pem</span><span class="w"> </span><span class="c1">#(3)!</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="kt">!</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="l l-Scalar l-Scalar-Plain">radius-server host radsec.beta.agni.arista.io tls ssl-profile agni-server</span><span class="w"> </span><span class="c1">#(4)!</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="kt">!</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="l l-Scalar l-Scalar-Plain">aaa group server radius agni-server-group</span><span class="w"> </span><span class="c1">#(5)!</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">server radsec.beta.agni.arista.io tls</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="l l-Scalar l-Scalar-Plain">!</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="l l-Scalar l-Scalar-Plain">aaa authentication dot1x default group agni-server-group</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="l l-Scalar l-Scalar-Plain">aaa accounting dot1x default start-stop group agni-server-group</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="l l-Scalar l-Scalar-Plain">!</span>
</code></pre></div>
<ol>
<li>Create an SSL profile</li>
<li>This is the switch key and certificate, this certificate was generated on <abbr title="Arista's Extensible Operating System">EOS</abbr>, signed by AGNI, and installed in the store.</li>
<li>This is the trusted certificate downloaded from AGNI and installed on the <abbr title="Arista's Extensible Operating System">EOS</abbr> certificate store</li>
<li>This enabled RadSec on the device, configured to using our SSL profile</li>
<li>Create the AAA radius server group, we use this to enforce client authentication via dot1x later on in this lab</li>
</ol>
</details>
</li>
<li>
<p>Click <code>View Change Control</code> and review the Change Control, hit <code>Review and Approve</code> when ready.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/07_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/07_radsec.png"></a></p>
</li>
<li>
<p>Select <code>Execute immediately</code> and click <code>Approve and Execute</code></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/08_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/08_radsec.png"></a></p>
</li>
<li>
<p>The change control will execute and apply all the RadSec configuration changes to the device. This will enable RadSec connectivity between the switch and AGNI.</p>
<p>&lt;!-- !!! tip "Automating Certificates"</p>
<div class="highlight"><pre><span></span><code>The switch and AGNI certs were generated, signed, and installed using automation before hand. Specifically ansible and leveraging both the switch eAPI and AGNI API. You can read more on how this role works [EOS AGNI Radsec (GitHub)](https://github.com/carl-baillargeon/eos_agni_radsec/tree/main){target="_blank"}
</code></pre></div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/09_radsec.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/09_radsec.png"></a></p>
</li>
<li>
<p>See the <a href="../../references/radsec_on_eos/">Configuring RadSec</a> in <abbr title="Arista's Extensible Operating System">EOS</abbr> for additional information. →</p>
</li>
</ol>
<h2 id="agni-login_1">AGNI Login<a class="headerlink" href="#agni-login_1" title="Permanent link">¶</a></h2>
<p>If you're not already logged into AGNI, navigate to the <a href="https://launchpad.wifi.arista.com/" target="_blank">Arista Launchpad</a> for your lab.</p>
<p><a class="md-button md-button--primary" href="https://launchpad.wifi.arista.com/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27l-2.77 6.1M5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M19.22 4c.28 0 .53 0 .74.05.17 1.39-.02 4.25-3.3 7.53-1.7 1.71-3.73 3.02-6.01 3.89l-2.15-2.1c.92-2.31 2.23-4.34 3.92-6.03C15.18 4.58 17.64 4 19.22 4m0-2c-1.98 0-4.98.69-8.22 3.93-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.38.38.89.61 1.42.61.23 0 .47-.06.7-.15A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61S20.7 2 19.22 2m-4.68 7.46c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83-.78.78-2.05.78-2.83 0m-5.66 7.07-1.41-1.41 1.41 1.41M6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22h1.41M2 22h1.41l4.77-4.76-1.42-1.41L2 20.59V22m0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76v1.41Z"></path></svg></span> Open Launchpad</a></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">Login Step 1</label><label for="__tabbed_4_2">Login Step 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/login/01_launchpad_login.png" data-desc-position="bottom"><img alt="Launchpad Login" src="../../assets/images/login/01_launchpad_login.png"></a></p>
</div>
<div class="tabbed-block">
<p>You will see the various tools tied to your tenant, this includes CVP, AGNI (<abbr title="Network Access Control">NAC</abbr>), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/login/login_agni.png" data-desc-position="bottom"><img alt="Launchpad Login" src="../../assets/images/login/login_agni.png"></a></p>
</div>
</div>
</div>
<h2 id="create-wired-eap-tls-network-and-segment">Create Wired EAP-TLS Network and Segment<a class="headerlink" href="#create-wired-eap-tls-network-and-segment" title="Permanent link">¶</a></h2>
<ol>
<li>
<p>Click on <code>Access Devices &gt; Devices</code> to confirm the RadSec connection is up.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/01_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/01_agni.png"></a></p>
</li>
<li>
<p>In this section we will create a Network and Segment in CloudVision AGNI to utilize a certificate based TLS authentication method on a wired connection with a Raspberry Pi.</p>
</li>
<li>
<p>Click on <code>Networks</code> and select <code>+ Add Network</code></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/02_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/02_agni.png"></a></p>
</li>
<li>
<p>Before configuring the network, see <code>Access Device Group</code>, click on the <code>+</code> to create a new device group.</p>
<details class="example" open="open">
<summary>Network Settings</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th style="text-align: center;">Student 1</th>
<th style="text-align: center;">Student 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td style="text-align: center;">WIRED-A</td>
<td style="text-align: center;">WIRED-A</td>
</tr>
<tr>
<td>Description</td>
<td style="text-align: center;">WIRED-A</td>
<td style="text-align: center;">WIRED-A</td>
</tr>
<tr>
<td>Available Devices (<code>+ Add</code>)</td>
<td style="text-align: center;">pod##-leaf1</td>
<td style="text-align: center;">pod##-leaf1</td>
</tr>
</tbody>
</table>
</details>
</li>
<li>
<p>Fill in and select the Following fields on the <code>Add Network</code> page.</p>
<details class="example" open="open">
<summary>Network Settings</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th style="text-align: center;">Student 1</th>
<th style="text-align: center;">Student 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td style="text-align: center;">ATD-##-WIRED</td>
<td style="text-align: center;">ATD-##-WIRED</td>
</tr>
<tr>
<td>Connection Type</td>
<td style="text-align: center;">Wired</td>
<td style="text-align: center;">Wired</td>
</tr>
<tr>
<td>Access Device Group</td>
<td style="text-align: center;">WIRED-A</td>
<td style="text-align: center;">WIRED-A</td>
</tr>
<tr>
<td>Status</td>
<td style="text-align: center;">Enabled</td>
<td style="text-align: center;">Enabled</td>
</tr>
<tr>
<td>Authentication type</td>
<td style="text-align: center;">Client Certificate (EAP-TLS)</td>
<td style="text-align: center;">Client Certificate (EAP-TLS)</td>
</tr>
<tr>
<td>Fallback to mac Authentication</td>
<td style="text-align: center;">Enabled</td>
<td style="text-align: center;">Enabled</td>
</tr>
<tr>
<td>MAC Authentication Type</td>
<td style="text-align: center;">Allow Registered Clients Only</td>
<td style="text-align: center;">Allow Registered Clients Only</td>
</tr>
<tr>
<td>Onboarding</td>
<td style="text-align: center;">Enabled</td>
<td style="text-align: center;">Enabled</td>
</tr>
<tr>
<td>Authorized User Groups</td>
<td style="text-align: center;">Arista</td>
<td style="text-align: center;">Arista</td>
</tr>
</tbody>
</table>
</details>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/03_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/03_agni.png"></a></p>
</li>
<li>
<p>When done, click on <code>Add Network</code> at the bottom of the screen.</p>
</li>
<li>
<p>Next, click on <code>Segments</code> and then <code>+ Add Segment</code></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/04_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/04_agni.png"></a></p>
</li>
<li>
<p>Configure the network segment with the following settings:</p>
<details class="example" open="open">
<summary>Segment Settings</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th style="text-align: center;">Student 1</th>
<th style="text-align: center;">Student 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td style="text-align: center;">ATD-##-WIRED</td>
<td style="text-align: center;">ATD-##-WIRED</td>
</tr>
<tr>
<td>Description</td>
<td style="text-align: center;">ATD-##-WIRED</td>
<td style="text-align: center;">ATD-##-WIRED</td>
</tr>
<tr>
<td>Condition #1</td>
<td style="text-align: center;"><code>Network:Name is ATD-##A-WIRED</code></td>
<td style="text-align: center;"><code>Network:Name is ATD-##-WIRED</code></td>
</tr>
<tr>
<td>Condition #2</td>
<td style="text-align: center;"><code>Network:Authentication Type is Client Certificate (EAP-TLS)</code></td>
<td style="text-align: center;"><code>Network:Authentication Type is Client Certificate (EAP-TLS)</code></td>
</tr>
<tr>
<td>Action #1</td>
<td style="text-align: center;"><code>Allow Access</code></td>
<td style="text-align: center;"><code>Allow Access</code></td>
</tr>
</tbody>
</table>
</details>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/06_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/06_agni.png"></a></p>
</li>
<li>
<p>Finally, select <code>Add Segment</code> at the bottom of the page.</p>
</li>
<li>
<p>You should now be able to expand and review your segment.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/07_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/07_agni.png"></a></p>
</li>
<li>
<p>Next, click on <code>Sessions</code> to see if your ATD Raspberry Pi has a connection via the Wired connection.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/c03/agni/07_agni.png" data-desc-position="bottom"><img alt="Campus Studio" src="../assets/images/c03/agni/07_agni.png"></a></p>
<div class="admonition note">
<p class="admonition-title">Client Certificate</p>
<p>The Client Certificate has already been applied to the Raspberry Pi.</p>
</div>
</li>
</ol>
<h2 id="validate-and-verify-wired-eap-tls-device">Validate and Verify Wired EAP-TLS Device<a class="headerlink" href="#validate-and-verify-wired-eap-tls-device" title="Permanent link">¶</a></h2>
<h3 id="agni">AGNI<a class="headerlink" href="#agni" title="Permanent link">¶</a></h3>
<ol>
<li>Once the device is connected you will be able to view the status of the connection and additional session details if you click on the Eye to the right of the device.</li>
<li>AGNI will then display more in depth session information regarding the device and connection.</li>
</ol>
<h3 id="cloudvision-endpoint-overview">CloudVision Endpoint Overview<a class="headerlink" href="#cloudvision-endpoint-overview" title="Permanent link">¶</a></h3>
<p>Show Endpoint Overview, search for a device on the students pod, sflow will be enabled, should be able to see more info about authentication, traffic flows, and</p>
<h3 id="eos-cli"><abbr title="Arista's Extensible Operating System">EOS</abbr> CLI<a class="headerlink" href="#eos-cli" title="Permanent link">¶</a></h3>
<p>You can also validate the session on the switch by issuing the following commands in the switch CLI</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="l l-Scalar l-Scalar-Plain">show dot1x host</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="l l-Scalar l-Scalar-Plain">show dot1x host mac d83a.dd98.6183 detail</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="l l-Scalar l-Scalar-Plain">pod00-leaf1a#show dot1x host</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="l l-Scalar l-Scalar-Plain">Port      Supplicant MAC Auth  State                   Fallback               VLAN</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="l l-Scalar l-Scalar-Plain">--------- -------------- ----- ----------------------- ---------------------- ----</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="hll"><span class="l l-Scalar l-Scalar-Plain">Et2       d83a.dd98.6183 EAPOL SUCCESS                 NONE</span>
</span><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="l l-Scalar l-Scalar-Plain">pod00-leaf1a#show dot1x host mac d83a.dd98.6183 detail</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="l l-Scalar l-Scalar-Plain">Operational</span><span class="p p-Indicator">:</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="hll"><span class="nt">Supplicant MAC</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">d83a.dd98.6183</span>
</span><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="nt">User name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aristaatd01@outlook.com</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="hll"><span class="nt">Interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ethernet2</span>
</span><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="hll"><span class="nt">Authentication method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EAPOL</span>
</span><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="hll"><span class="nt">Supplicant state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUCCESS</span>
</span><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="nt">Fallback applied</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NONE</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="nt">Calling-Station-Id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">D8-3A-DD-98-61-83</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="nt">Reauthentication behaviour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DO-NOT-RE-AUTH</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="nt">Reauthentication interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0 seconds</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="nt">VLAN ID</span><span class="p">:</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="nt">Accounting-Session-Id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1x00000004</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="nt">Captive portal</span><span class="p">:</span>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="nt">AAA Server Returned</span><span class="p">:</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="nt">Arista-WebAuth</span><span class="p">:</span>
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="nt">Class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Rcnlkerh9ci3s72u197e0|C4151a596-baab-444b-a4fd-ad40946d8b5f</span>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="nt">Filter-Id</span><span class="p">:</span>
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="nt">Framed-IP-Address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.101.21 sourceArp</span>
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="nt">NAS-Filter-Rule</span><span class="p">:</span>
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="nt">Service-Type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="nt">Session-Timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400 seconds</span>
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="nt">Termination-Action</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RADIUS-REQUEST</span>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="nt">Tunnel-Private-GroupId</span><span class="p">:</span>
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="nt">Arista-PeriodicIdentity</span><span class="p">:</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">🎉 CONGRATS! You have completed the Security labs! 🎉</p>
</div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"></path></svg>
    </span>
    2025-09-03
  </span>

    
    
    
    
  </aside>





                

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2025 Arista Networks
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/AristaNetworks" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.arista.com" target="_blank" rel="noopener" title="www.arista.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.4c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6h116.7zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.6z"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.path", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>