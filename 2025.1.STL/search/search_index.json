{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#arista-campus-workshop","title":"Arista Campus WorkshopCampus Workshop","text":"<p>Welcome to our Arista hands-on campus workshop! \ud83d\ude80</p> <p>We appreciate your desire to get your hands dirty and diving into the Arista campus solutions. Over the next two days, you'll have the opportunity to work with real hardware and software, just as it's deployed in the field. Each lab is designed to simulate real-world scenarios, giving you practical experience. Whether you're deploying and configuring switches, operating the network, or troubleshooting client connectivity issues, you'll gain a better understanding of the campus lifecycle. Get ready to dive in, experiment, and learn by doing!</p>              Hands-On Experience          ARISTA <p>Master Modern Campus Networking SolutionsReal Hardware \u2022 Real Scenarios \u2022 Real Results</p> \ud83d\udd0c Wired Solutions EOS, ZTP, CloudVision Studios \ud83d\udce1 Wireless Edge CV-CUE, WiFi 6E/7, AGNI \ud83d\udee1\ufe0f Security EAP-TLS, UPSK, Zero Trust \ud83d\udcca Observability Monitoring, Analytics, AI Insights <ul> <li> <p> Lab Access</p> <p>Your instructor will guide you with more details, but feel free to jump right in and understand what you have in front of you!</p> <p> Let's get started!</p> </li> </ul>"},{"location":"#wired-guides","title":"Wired Guides","text":"<ul> <li> <p> A01-Lab: Explore EOS</p> <p>Get familiar with Arista's Extensible Operating System using the CLI</p> <p> Hop into A-01</p> </li> </ul> <ul> <li> <p> A02-ATD-Lab: Day 1 Operations - Virtual Lab</p> <p>Experience campus fabric provisioning using Arista Test Drive (ATD) virtual lab environment with CloudVision Studios.</p> <p> Hop into A-02-ATD</p> </li> <li> <p> A03-Lab: Day 2 Operations</p> <p>Continue with day 2 operations, using CloudVision to manage campus port profiles, access port configuration, and streamlined task execution.</p> <p> Hop into A-03</p> </li> <li> <p> A04-Lab: Operations and Monitoring</p> <p>The campus is deployed, explore the CloudVision observability, altering, troubleshooting, and more!</p> <p> Hop into A-04</p> </li> </ul>"},{"location":"#wireless-guides","title":"Wireless Guides","text":"<ul> <li> <p> B01-Lab: Wireless Setup</p> <p>Deploy and explore the features of CloudVision Cognitive Unified Edge (CV-CUE)</p> <p> Hop into B-01</p> </li> <li> <p> B02-Lab: Troubleshooting WiFi</p> <p>Explore the wireless client troubleshooting tools like packet capture and client testing</p> <p> Hop into B-02</p> </li> <li> <p> B03-Lab: Guest WiFi with AGNI</p> <p>Configure a guest WiFi SSID with a captive guest portal and tunnel wireless traffic</p> <p> Hop into B-03</p> </li> <li> <p> B04-Lab: Smart System Upgrade</p> <p>Using Arista EOS Smart System Upgrade (SSU) we can avoid downtime when upgrading our wired network!</p> <p> Hop into B-04</p> </li> </ul>"},{"location":"#security-guides","title":"Security Guides","text":"<ul> <li> <p> C01-Lab: EAP-TLS Wireless Policy</p> <p>Use Arista AGNI to enforce wireless access via dot1x EAP-TLS policy on a given SSID</p> <p> Hop into C-01</p> </li> <li> <p> C02-Lab: UPSK Wireless Policy</p> <p>Configure unique pre-shared keys for an SSID and get familiar with device groupings</p> <p> Hop into C-02</p> </li> <li> <p> C03-Lab: EAP-TLS Wired Policy</p> <p>Using Arista AGNI to enforce wired access via dot1x EAP-TLS policy</p> <p> Hop into C-03</p> </li> </ul>"},{"location":"#tools-for-the-job","title":"Tools For The Job","text":"<ul> <li> <p> D01-Lab: Iris Design, Configuration and Pricing</p> <p>Use Intangi Iris to design, configurre and price Arista campus products and solutions</p> <p> Hop into D-01</p> </li> </ul>"},{"location":"index-backup/","title":"Arista Campus Workshop","text":""},{"location":"index-backup/#arista-campus-workshop","title":"Arista Campus Workshop","text":"<p>Welcome to our Arista hands-on campus workshop! \ud83d\ude80</p> <p>We appreciate your desire to get your hands dirty and diving into the Arista campus solutions. Over the next two days, you'll have the opportunity to work with real hardware and software, just as it's deployed in the field. Each lab is designed to simulate real-world scenarios, giving you practical experience. Whether you're deploying and configuring switches, operating the network, or troubleshooting client connectivity issues, you'll gain a better understanding of the campus lifecycle. Get ready to dive in, experiment, and learn by doing!</p> <p></p> <ul> <li> <p> Lab Access</p> <p>Your instructor will guide you with more details, but feel free to jump right in and understand what you have in front of you!</p> <p> Let's get started!</p> </li> </ul>"},{"location":"index-backup/#wired-guides","title":"Wired Guides","text":"<ul> <li> <p> A01-Lab: Explore EOS</p> <p>Get familiar with Arista's Extensible Operating System using the CLI</p> <p> Hop into A-01</p> </li> </ul> <ul> <li> <p> A02-ATD-Lab: Day 1 Operations - Virtual Lab</p> <p>Experience campus fabric provisioning using Arista Test Drive (ATD) virtual lab environment with CloudVision Studios.</p> <p> Hop into A-02-ATD</p> </li> <li> <p> A03-Lab: Day 2 Operations</p> <p>Continue with day 2 operations, using CloudVision to manage campus port profiles, access port configuration, and streamlined task execution.</p> <p> Hop into A-03</p> </li> <li> <p> A04-Lab: Operations and Monitoring</p> <p>The campus is deployed, explore the CloudVision observability, altering, troubleshooting, and more!</p> <p> Hop into A-04</p> </li> </ul>"},{"location":"index-backup/#wireless-guides","title":"Wireless Guides","text":"<ul> <li> <p> B01-Lab: Wireless Setup</p> <p>Deploy and explore the features of CloudVision Cognitive Unified Edge (CV-CUE)</p> <p> Hop into B-01</p> </li> <li> <p> B02-Lab: Troubleshooting WiFi</p> <p>Explore the wireless client troubleshooting tools like packet capture and client testing</p> <p> Hop into B-02</p> </li> <li> <p> B03-Lab: Guest WiFi with AGNI</p> <p>Configure a guest WiFi SSID with a captive guest portal and tunnel wireless traffic</p> <p> Hop into B-03</p> </li> <li> <p> B04-Lab: Smart System Upgrade</p> <p>Using Arista EOS Smart System Upgrade (SSU) we can avoid downtime when upgrading our wired network!</p> <p> Hop into B-04</p> </li> </ul>"},{"location":"index-backup/#security-guides","title":"Security Guides","text":"<ul> <li> <p> C01-Lab: EAP-TLS Wireless Policy</p> <p>Use Arista AGNI to enforce wireless access via dot1x EAP-TLS policy on a given SSID</p> <p> Hop into C-01</p> </li> <li> <p> C02-Lab: UPSK Wireless Policy</p> <p>Configure unique pre-shared keys for an SSID and get familiar with device groupings</p> <p> Hop into C-02</p> </li> <li> <p> C03-Lab: EAP-TLS Wired Policy</p> <p>Using Arista AGNI to enforce wired access via dot1x EAP-TLS policy</p> <p> Hop into C-03</p> </li> </ul>"},{"location":"index-backup/#tools-for-the-job","title":"Tools For The Job","text":"<ul> <li> <p> D01-Lab: Iris Design, Configuration and Pricing</p> <p>Use Intangi Iris to design, configurre and price Arista campus products and solutions</p> <p> Hop into D-01</p> </li> </ul>"},{"location":"a_wired/a01_lab/","title":"A01 - Explore EOS","text":""},{"location":"a_wired/a01_lab/#a-01-explore-eos","title":"A-01 | Explore EOS","text":""},{"location":"a_wired/a01_lab/#overview","title":"Overview","text":"<p>In this lab, you'll learn how to log into an Arista switch and explore configuration. All Arista switches, whether they\u2019re used in data center, campus, WAN, or other environments, run on Arista's Extensible Operating System (EOS). We\u2019ll also cover MLAG, how to configure it, and how to troubleshoot issues!</p> <p>Let\u2019s take a closer look at the EOS interface\u2014while it might feel familiar, it\u2019s also distinctly unique!</p>"},{"location":"a_wired/a01_lab/#completely-different-totally-familiar","title":"Completely Different, Totally Familiar","text":"<p>Let's log into the workshop spine switches.</p> I have a console cable or WiFi <p>If you have a console cable, feel free to console into your switch. The switch is in ZTP, you can explore the same commands! You may also use the <code>WiFi</code> to connect to the spine switches. The spine switch is running configuration your switch will not contain, but login using <code>admin</code>, hit Enter and type in <code>enable</code> to start exploring</p> <ol> <li> <p>Login to the spine using the address below and the username <code>student#</code>, password <code>Arista123</code>.</p> <pre><code># Student 1\nssh student1@10.1.100.2\n\n# Student 2\nssh student2@10.1.100.3\n</code></pre> </li> <li> <p>First thing, let's validate you are on the spine switch and explore the hardware.</p> <pre><code>show version\n</code></pre> Example Output Example Output<pre><code>Arista CCS-722XPM-48ZY8-F #(1)!\nHardware version: 11.01\nSerial number: HBG23270736 #(2)!\nHardware MAC address: ac3d.9450.afc6\nSystem MAC address: ac3d.9450.afc6\n\nSoftware image version: 4.31.5M #(3)!\nArchitecture: i686 #(4)!\nInternal build version: 4.31.5M-38783123.4315M\nInternal build ID: a514fb70-598b-4084-975c-4f5978421b10\nImage format version: 3.0\nImage optimization: Strata-4GB\n\nUptime: 4 hours and 58 minutes #(5)!\nTotal memory: 3952960 kB\nFree memory: 2054376 kB\n</code></pre> <ol> <li>The full switch model</li> <li>The serial number of the switch</li> <li>Current EOS image running</li> <li>This EOS software is a 32-bit version, Arista EOS is also provided in a 64-bit version</li> <li>The current uptime</li> </ol> </li> <li> <p>Let's explore the hardware in a bit more detail. Text output is great, but imagine you have been asked to pull all device information programmatically. Tools like TextFSM are common to parse unstructured data, wouldn't it be great if this data was structured? Try validating this command will also render as <code>json</code>.</p> <pre><code>show inventory\nshow inventory | json\n</code></pre> Example Output Example Output<pre><code>System information\n    Model                    Description\n    ------------------------ ----------------------------------------------------\n    CCS-722XPM-48ZY8         48 2.5GBase-T PoE &amp; 8-port SFP28 MacSec Switch #(1)!\n\n    HW Version  Serial Number  Mfg Date   Epoch\n    ----------- -------------- ---------- -----\n    11.01       HBG23270736    2023-07-14 01.00 #(2)!\n\nSystem has 2 power supply slots\n    Slot Model            Serial Number\n    ---- ---------------- ----------------\n    1    PWR-1021-AC-RED  GGJT36P13J0 #(3)!\n    2    Not Inserted\n\nSystem has 3 fan modules\n    Module  Number of Fans  Model            Serial Number\n    ------- --------------- ---------------- ----------------\n    1       1               FAN-7000-F       N/A\n    2       1               FAN-7000-F       N/A\n    3       1               FAN-7000-F       N/A\n\nSystem has 65 ports\n    Type               Count\n    ------------------ ----\n    Management         1\n    Switched           52\n    SwitchedBootstrap  4\n    Fabric             8\n\nSystem has 56 switched transceiver slots\n    Port Manufacturer     Model            Serial Number    Rev\n    ---- ---------------- ---------------- ---------------- ----\n    1    Arista Networks  CCS-722XPM-48ZY8\n    2    Arista Networks  CCS-722XPM-48ZY8\n    ...\n    49   Arista Networks  SFP-10G-SR       ACW1710002F0     20\n    50   Not Present\n    51   Arista Networks  SFP-10G-SR       XTH16080010E     0002 #(5)!\n    52   Not Present\n    53   Not Present\n    54   Not Present\n    55   Not Present\n    56   Not Present\n\nSystem has 1 storage device\n    Mount      Type Model                Serial Number Rev Size (GB)\n    ---------- ---- -------------------- ------------- --- ---------\n    /mnt/flash eMMC Smart Modular 16GP1A 801f4198      1.0 8\n</code></pre> <ol> <li>More information about this switch platform capabilities</li> <li>You can see when this switch was manufactured and hardware versioning</li> <li>Power supply details, like model and serial number</li> <li>If you have fan modules, similar detail to that of power supplies</li> <li>Get optics manufacturer, serial number, and model</li> </ol> </li> <li> <p>Let's explore the interfaces and what's connected. Take note</p> <ol> <li> Your pod has one connection to the spine (we're not in a full mesh)</li> <li> Workshop access point and raspberry pi (lab guides) are connected</li> <li> MLAG interfaces</li> <li> Your POD is configured as part of a Port-Channel</li> </ol> <pre><code>show interfaces status\n</code></pre> Example Output Example Output<pre><code>Port       Name       Status       Vlan      Duplex Speed  Type         Flags Encapsulation\nEt1        POD01      connected    in Po101  a-full a-1G   2.5GBASE-T\nEt2        POD01      notconnect   in Po101  auto   auto   2.5GBASE-T\nEt3        POD02      connected    trunk     auto   auto   2.5GBASE-T\nEt4        POD02      notconnect   trunk     auto   auto   2.5GBASE-T\nEt5        POD03      connected    trunk     auto   auto   2.5GBASE-T\nEt6        POD03      notconnect   trunk     auto   auto   2.5GBASE-T\nEt7        POD04      connected    trunk     auto   auto   2.5GBASE-T\nEt8        POD04      notconnect   trunk     auto   auto   2.5GBASE-T\nEt9        POD05      connected    trunk     auto   auto   2.5GBASE-T\nEt10       POD05      notconnect   trunk     auto   auto   2.5GBASE-T\nEt11       POD06      connected    trunk     auto   auto   2.5GBASE-T\nEt12       POD06      notconnect   trunk     auto   auto   2.5GBASE-T\nEt13       POD07      connected    trunk     auto   auto   2.5GBASE-T\nEt14       POD07      notconnect   trunk     auto   auto   2.5GBASE-T\nEt15       POD08      connected    trunk     auto   auto   2.5GBASE-T\nEt16       POD08      notconnect   trunk     auto   auto   2.5GBASE-T\nEt17       POD09      connected    trunk     auto   auto   2.5GBASE-T\nEt18       POD09      notconnect   trunk     auto   auto   2.5GBASE-T\nEt19       POD10      connected    trunk     auto   auto   2.5GBASE-T\nEt20       POD10      notconnect   trunk     auto   auto   2.5GBASE-T\nEt21       POD11      connected    trunk     auto   auto   2.5GBASE-T\nEt22       POD11      notconnect   trunk     auto   auto   2.5GBASE-T\nEt23       POD12      connected    trunk     auto   auto   2.5GBASE-T\nEt24       POD12      notconnect   trunk     auto   auto   2.5GBASE-T\nEt25       POD13      connected    trunk     auto   auto   2.5GBASE-T\nEt26       POD13      notconnect   trunk     auto   auto   2.5GBASE-T\n...\nEt33       ATD_WiFi   disabled     100       auto   auto   2.5GBASE-T\nEt34       ATD_PI     disabled     100       auto   auto   2.5GBASE-T\n...\nEt47       MLAG       connected    in Po1000 auto   auto   5GBASE-T\nEt48       MLAG       connected    in Po1000 auto   auto   5GBASE-T\n...\nPo101      POD01      connected    trunk     full   2G     N/A\nPo102      POD02      connected    trunk     full   unconf N/A\nPo103      POD03      connected    trunk     full   unconf N/A\nPo104      POD04      connected    trunk     full   unconf N/A\nPo105      POD05      connected    trunk     full   unconf N/A\nPo106      POD06      connected    trunk     full   unconf N/A\nPo107      POD07      connected    trunk     full   unconf N/A\nPo108      POD08      connected    trunk     full   unconf N/A\nPo109      POD09      connected    trunk     full   unconf N/A\nPo110      POD10      connected    trunk     full   unconf N/A\nPo111      POD11      connected    trunk     full   unconf N/A\nPo112      POD12      connected    trunk     full   unconf N/A\nPo113      POD13      connected    trunk     full   unconf N/A\nPo1000     MLAG       connected    trunk     full   20G    N/A\n</code></pre> </li> <li> <p>Try some filtering of our output, there are some familiar filtering options like <code>include</code>, <code>exclude</code>, <code>begin</code>, etc, but as we go through this workshop we will explore further!</p> <p>Read Only Mode</p> <p>You have read only on the spines, which excludes access to EOS' underlying Linux subsystem. You will have full access to this in the workshop, where you can leverage tools like <code>grep</code>, <code>awk</code>, <code>sed</code>, etc to filter content further.</p> <pre><code>show interfaces status | ?\nshow interfaces status | inc POD01\nshow interfaces | inc MTU|Eth\nshow interfaces | sec Ethernet(25|26)\n</code></pre> Example Output<pre><code>LINE      Filter command by common Linux tools such as grep/awk/sed/wc\nappend    Append redirected output to URL\nbegin     Start output at the first matching line\nexclude   Do not print lines matching the given pattern\ninclude   Print lines matching the given pattern\njson      Produce JSON output for this command\nno-more   Disable pagination for this command\nnz        Include only non-zero counters\nredirect  Redirect output to URL\nsection   Include sections that match\ntee       Copy output to URL\n</code></pre> </li> <li> <p>The spines in this workshop will act as our gateway for the various pods, let's validate our ip addressing and the virtual router addresses (gateways).</p> <pre><code>show ip interface brief\nshow ip virtual-router\n</code></pre> Example Output Example Output: interface brief<pre><code>                                                                                Address\nInterface         IP Address             Status       Protocol           MTU    Owner\n----------------- ---------------------- ------------ -------------- ---------- -------\nEthernet49        192.168.254.1/31       up           up                9214\nManagement1       unassigned             down         down              1500\nVlan100           10.1.100.2/24          up           up                9214\nVlan101           10.1.1.2/24            up           up                9214\nVlan102           10.1.2.2/24            up           up                9214\nVlan103           10.1.3.2/24            up           up                9214\nVlan104           10.1.4.2/24            up           up                9214\nVlan105           10.1.5.2/24            up           up                9214\nVlan106           10.1.6.2/24            up           up                9214\nVlan107           10.1.7.2/24            up           up                9214\nVlan108           10.1.8.2/24            up           up                9214\nVlan109           10.1.9.2/24            up           up                9214\nVlan110           10.1.10.2/24           up           up                9214\nVlan111           10.1.11.2/24           up           up                9214\nVlan112           10.1.12.2/24           up           up                9214\nVlan113           10.1.13.2/24           up           up                9214\nVlan4094          192.168.255.1/30       up           up                9214\n</code></pre> Example Output: virtual-router<pre><code>IP virtual router is configured with MAC address: 00:1c:73:00:00:01\nIP virtual router address subnet routes not enabled\nIP router is not configured with Mlag peer MAC address\nMAC address advertisement interval: 30 seconds\n\nProtocol: U - Up, D - Down, T - Testing, UN - Unknown\n        NP - Not Present, LLD - Lower Layer Down\n\nInterface       Vrf           Virtual IP Address       Protocol       State\n--------------- ------------- ------------------------ -------------- ------\nVl100           default       10.1.100.1               U              active\nVl101           default       10.1.1.1                 U              active\nVl102           default       10.1.2.1                 U              active\nVl103           default       10.1.3.1                 U              active\nVl104           default       10.1.4.1                 U              active\nVl105           default       10.1.5.1                 U              active\nVl106           default       10.1.6.1                 U              active\nVl107           default       10.1.7.1                 U              active\nVl108           default       10.1.8.1                 U              active\nVl109           default       10.1.9.1                 U              active\nVl110           default       10.1.10.1                U              active\nVl111           default       10.1.11.1                U              active\nVl112           default       10.1.12.1                U              active\nVl113           default       10.1.13.1                U              active\n</code></pre> </li> <li> <p>Ok, let's look at all the LLDP information, note the models and EOS version details and interesting command <code>atdpods</code>. Explore the aliases configured on this device.</p> <pre><code>show lldp neighbors detail\nacwspods\nshow aliases\n</code></pre> Example Output Example Output: LLDP Detail<pre><code>Last table change time   : 0:00:02 ago\n\nNumber of table inserts  : 51\nNumber of table deletes  : 35\nNumber of table drops    : 0\nNumber of table age-outs : 0\n\nPort          Neighbor Device ID       Neighbor Port ID    TTL\n---------- ------------------------ ---------------------- ---\nEt1           sw-10.1.1.51             Ethernet15          120\nEt3           sw-10.1.2.42             Ethernet15          120\nEt5           sw-10.1.3.40             Ethernet15          120\nEt7           sw-10.1.4.41             Ethernet15          120\nEt9           sw-10.1.5.40             Ethernet15          120\nEt11          sw-10.1.6.41             Ethernet15          120\nEt13          sw-10.1.7.41             Ethernet15          120\nEt15          sw-10.1.8.40             Ethernet15          120\nEt17          sw-10.1.9.41             Ethernet15          120\nEt19          sw-10.1.10.41            Ethernet15          120\nEt21          sw-10.1.11.40            Ethernet15          120\nEt23          sw-10.1.12.40            Ethernet15          120\nEt25          sw-10.1.13.40            Ethernet15          120\nEt33          Arista_18:66:BF          3086.2d18.66bf      120\nEt47          SPINE02                  Ethernet47          120\nEt48          SPINE02                  Ethernet48          120\nEt49          CORE01                   Ethernet49          120\n</code></pre> Example Output: atdpods<pre><code>Interface Ethernet1 detected 1 LLDP neighbors:\n   - System Description: \"Arista Networks EOS version 4.31.6M running on an Arista Networks CCS-710P-12\"\nInterface Ethernet51 detected 1 LLDP neighbors:\n   - System Description: \"Arista Networks EOS version 4.31.6M running on an Arista Networks CCS-720XP-48ZC2\"\nInterface Ethernet52 detected 1 LLDP neighbors:\n   - System Description: \"Arista Networks EOS version 4.31.6M running on an Arista Networks CCS-720XP-48ZC2\"\n</code></pre> Example Output: aliases<pre><code>acwspods        sh lldp neighbors detail | inc (detected 1|System Descr)\nc               bash clear\nsh-acg          trace monitor acg\nsh-streaming    show agent TerminAttr logs | tail\n</code></pre> </li> <li> <p>Let's look at traffic on our interfaces, let's also leverage the <code>watch</code> command with the <code>nz</code> (non-zero) command to monitor rates.</p> <pre><code>show int counters rates\nshow int counters rates | nz\nwatch 1 diff show int counters rates | nz\n</code></pre> </li> <li> <p>Sometimes it's the little things that make a big difference! This was a brief introduction into the CLI. All features start in EOS, with respective show and configuration commands. We'll further explore the symbiotic relationship between EOS and CloudVision!</p> Wait! There's more! <p>If you're interested in exploring more fun EOS commands, we published the Arista EOS Tips for Network Operators. If you would like access, ask your Arista team for more information!</p> <p>There are many more commands like:</p> <ul> <li>Configuration sessions</li> <li>CLI command finder</li> <li>Event handlers</li> <li>Event monitor</li> <li>Packet captures</li> <li>Scheduler</li> <li>Tech Support Bundles/Checkpoints</li> <li>So much more</li> </ul> </li> </ol>"},{"location":"a_wired/a01_lab/#mlag-varp","title":"MLAG &amp; VARP","text":"<p>Arista's Multi-Chassis Link Aggregation (MLAG) is a technology that allows two physical switches to act as a single logical switch. By syncing the control plane without the need for proprietary cabling or protocols, it provides an active-active, non-blocking redundancy between multiple pairs of switches.</p> <p>Let's explore the configuration and how to troubleshoot</p> <ol> <li> <p>From the switch run the <code>show mlag</code> command to validate the high level state</p> <pre><code>show mlag\n</code></pre> Example Output Example Output<pre><code>MLAG Configuration:\ndomain-id                          :                MLAG\nlocal-interface                    :            Vlan4094\npeer-address                       :       192.168.255.2\npeer-link                          :      Port-Channel11\nhb-peer-address                    :             0.0.0.0\npeer-config                        :          consistent\n\nMLAG Status:\nstate                              :              Active\nnegotiation status                 :           Connected\npeer-link status                   :                  Up\nlocal-int status                   :                  Up\nsystem-id                          :   ae:3d:94:50:af:c6\ndual-primary detection             :            Disabled\ndual-primary interface errdisabled :               False\n\nMLAG Ports:\nDisabled                           :                   0\nConfigured                         :                   0\nInactive                           :                  13\nActive-partial                     :                   0\nActive-full                        :                   0\n</code></pre> </li> <li> <p>You can also dive deeper in using the <code>show mlag detail</code></p> <pre><code>show mlag detail\n</code></pre> Example Output Example Output<pre><code>...\nMLAG Detailed Status:\nState                           :              primary\nPeer State                      :            secondary\nState changes                   :                    2\nLast state change time          :          4:56:38 ago\nHardware ready                  :                 True\nFailover                        :                False\nFailover Cause(s)               :              Unknown\nLast failover change time       :                never\nSecondary from failover         :                False\nPeer MAC address                :    ac:3d:94:50:d2:aa\nPeer MAC routing supported      :                 True\nReload delay                    :          300 seconds\nNon-MLAG reload delay           :          300 seconds\nPeer ports errdisabled          :                False\nLacp standby                    :                False\nConfigured heartbeat interval   :              4000 ms\nEffective heartbeat interval    :              4000 ms\nHeartbeat timeout               :             60000 ms\nLast heartbeat timeout          :                never\nHeartbeat timeouts since reboot :                    0\nUDP heartbeat alive             :                 True\nHeartbeats sent/received        :            4499/4450\nPeer monotonic clock offset     :   -56.025806 seconds\nAgent should be running         :                 True\nP2p mount state changes         :                    1\nFast MAC redirection enabled    :                 True\nInterface activation interlock  :         unconfigured\n</code></pre> </li> <li> <p>Let's look at the configuration to enable MLAG, first run the command to show the block of mlag configuration</p> <pre><code>show running-config section mlag configuration\n</code></pre> Example Output Example Output<pre><code>mlag configuration\n    domain-id MLAG #(1)!\n    local-interface Vlan4094 #(2)!\n    peer-address 169.254.0.0 #(3)!\n    peer-address heartbeat 10.1.1.4 #(4)!\n    peer-link Port-Channel11 #(5)!\n    dual-primary detection delay 5 action errdisable all-interfaces\n    reload-delay mlag 300\n    reload-delay non-mlag 330\n</code></pre> <ol> <li>MLAG domain is locally significant to the MLAG pair of switches, this can be any descriptor. Whether it's simply <code>MLAG</code> like shown or the name of say a pod: <code>POD01</code></li> <li>The local interface used to peer to the MLAG neighbor, this will always be an SVI</li> <li>The MLAG neighbors address that resides within the <code>local-interface</code> subnet</li> <li>This is an optional configuration called Dual Primary Detection, you can read more on this topic.</li> <li>The peer link is the layer 2 port-channel used to trunk our MLAG vlans, we'll explore below how that's configured.</li> </ol> </li> <li> <p>Let's take a closer look at the peer link itself</p> <pre><code>run show run interface Eth25-26; show run int Port-Channel1000; show port-channel 1000 detailed\n</code></pre> Example Output Example Output<pre><code>!\ninterface Ethernet25\n    description MLAG\n    channel-group 25mode active\n!\ninterface Ethernet26\n    description MLAG\n    channel-group 25 mode active\n!\ninterface Port-Channel25\n    description MLAG_spine2_Ethernet25\n    switchport mode trunk\n    switchport trunk group MLAG\n!\nPort Channel Port-Channel25 (Fallback State: Unconfigured):\nMinimum links: unconfigured\nMinimum speed: unconfigured\nCurrent weight/Max weight: 2/8\nActive Ports:\n    Port             Time Became Active       Protocol       Mode         Weight    State\n    ---------------- ------------------------ -------------- ------------ ------------ -----\n    Ethernet25       11:51:27                 LACP           Active         1       Rx,Tx\n    Ethernet26       9:24:02                  LACP           Active         1       Rx,Tx\n</code></pre> </li> <li> <p>The port-channel is using a <code>trunk group</code>, lets look at that trunk group</p> <p>Linux Sub-system</p> <p>On top of the typical <code>includes</code>, <code>section</code>, <code>begin</code>, etc we commonly use to filter output. You also have access to many of the linux sub-system commands like <code>grep</code>, <code>sed</code>, <code>awk</code>, etc to filter and manipulate the output.</p> <pre><code>show vlan trunk group | grep -E \"MLAG|Groups|-\"\n</code></pre> Example Output<pre><code>VLAN     Trunk Groups\n----     ----------------------------------------------------------------------\n4094     MLAG\n</code></pre> </li> <li> <p>Note that <code>vlan 4094</code> is a part of that trunk group, trunk groups are used to ensure those vlans assigned to trunk group <code>MLAG</code> are pruned from all interfaces except those explicitly configured. In this case <code>Port-Channel11</code> is assigned the trunk group, therefore it's the only interface forwarding <code>Vlan 4094</code>.</p> </li> <li> <p>Let's look at the peering SVI <code>Vlan4094</code></p> <pre><code>show running-config interfaces vlan 4094\n</code></pre> Example Output: SPINE01<pre><code>interface Vlan4094\n    description MLAG_PEER\n    mtu 9200\n    no autostate #(1)!\n    ip address 169.254.0.0/31 #(2)!\n</code></pre> <ol> <li>We disable autostate to force the VLAN to be active</li> <li>This peering address is only locally significant, it's common to use an APIPA IP address range (/31) that's repeated across all MLAG pairs. The neighbor address is used in the mlag configuration to peer over the trunk.</li> </ol> </li> <li> <p>In the previous <code>show mlag</code> section we got a brief overview of status. During troubleshooting steps, there is a built in command to ensure MLAG configuration parity between the two devices. Run the following command to validate configuration matches between the two devices</p> <pre><code>show mlag config-sanity\n</code></pre> Example Output<pre><code>No global configuration inconsistencies found.\n\nNo per interface configuration inconsistencies found.\n</code></pre> </li> <li> <p>Looking at the interfaces down to the POD, let's validate the interface configuration</p> <pre><code>show run interface Ethernet 1-2\nshow run interface Port-Channel101\n</code></pre> Example Output Example Output<pre><code>!\ninterface Ethernet1\n    description POD01\n    switchport mode trunk\n    channel-group 101 mode active\n    lldp tlv transmit ztp vlan 101\n!\ninterface Ethernet2\n    description POD01\n    switchport mode trunk\n    channel-group 101 mode active\n    lldp tlv transmit ztp vlan 101\n!\ninterface Port-Channel101\n    description POD01\n    switchport trunk allowed vlan 101,201\n    switchport mode trunk\n    port-channel lacp fallback individual\n    port-channel lacp fallback timeout 20\n    mlag 101\n!\n</code></pre> </li> <li> <p>If we do detect issues or want to verify the MLAG interfaces upstream/downstream are <code>up/up</code> we can validate</p> <pre><code>show mlag interfaces\n</code></pre> Example Output Example Output<pre><code>SPINE01#show mlag interfaces\n                                                        local/remote\nmlag       desc           state       local       remote          status\n---------- ----------- -------------- ----------- ------------ ------------\n101       POD01       inactive       Po101        Po101       down/down\n102       POD02       inactive       Po102        Po102       down/down\n103       POD03       inactive       Po103        Po103       down/down\n104       POD04       inactive       Po104        Po104       down/down\n105       POD05       inactive       Po105        Po105       down/down\n106       POD06       inactive       Po106        Po106       down/down\n107       POD07       inactive       Po107        Po107       down/down\n108       POD08       inactive       Po108        Po108       down/down\n109       POD09       inactive       Po109        Po109       down/down\n110       POD10       inactive       Po110        Po110       down/down\n111       POD11       inactive       Po111        Po111       down/down\n112       POD12       inactive       Po112        Po112       down/down\n113       POD13       inactive       Po113        Po113       down/down\n</code></pre> </li> <li> <p>Lastly, how do we maintain active/active forwarding with MLAG, this where VARP comes in. A virtual router address and common MAC is all it takes.</p> <pre><code>show run sec virtual-router\nshow ip virtual-router\n</code></pre> Example Output <pre><code>!\ninterface Vlan101\n    ip virtual-router address 10.1.1.1 #(1)!\ninterface Vlan102\n    ip virtual-router address 10.1.2.1\ninterface Vlan103\n    ip virtual-router address 10.1.3.1\n...\n!\nip virtual-router mac-address 00:1c:73:00:00:01 #(2)!\n!\n</code></pre> <pre><code>IP virtual router is configured with MAC address: feed.dead.beef\nIP virtual router address subnet routes not enabled\nIP router is not configured with Mlag peer MAC address\nMAC address advertisement interval: 30 seconds\n\nProtocol: U - Up, D - Down, T - Testing, UN - Unknown\n        NP - Not Present, LLD - Lower Layer Down\n\nInterface       Vrf           Virtual IP Address       Protocol       State\n--------------- ------------- ------------------------ -------------- ------\nVl1             default       192.168.3.1              U              active\nVl100           default       10.1.100.1               U              active\nVl101           default       10.1.1.1                 U              active\nVl102           default       10.1.2.1                 U              active\nVl103           default       10.1.3.1                 U              active\nVl104           default       10.1.4.1                 U              active\nVl105           default       10.1.5.1                 U              active\nVl106           default       10.1.6.1                 U              active\nVl107           default       10.1.7.1                 U              active\nVl108           default       10.1.8.1                 U              active\nVl109           default       10.1.9.1                 U              active\nVl110           default       10.1.10.1                U              active\nVl111           default       10.1.11.1                U              active\nVl112           default       10.1.12.1                U              active\nVl113           default       10.1.13.1                U              active\n</code></pre> <ol> <li>This is the virtual IP address configured on both MLAG pairs.</li> <li>This vMAC will be used as the gateway vMAC associated with the Gateway VIP configured with either ip address virtual or ip virtual-router address (vARP). This vMAC will be consistent across all SVIs configured with a VIP.</li> </ol> </li> <li> <p>That's it for this lab, you should have a bit better understanding of how MLAG is configured</p> </li> </ol>"},{"location":"a_wired/a01_lab/#closing-out","title":"Closing Out","text":""},{"location":"a_wired/a01_lab/#streaming-telemetry","title":"Streaming Telemetry","text":"<p>Let's take a look at the steaming telemetry agent that communicates back to CloudVision. You may not be able to do this on you switch (current in zero-touch). Feel free to come back to this section to explore, your instructor will showcase this.</p> <ol> <li> <p>Let's view the telemetry agent daemon</p> <pre><code>show running-config section TerminAttr\n</code></pre> Example Output <pre><code>daemon TerminAttr\n    exec /usr/bin/TerminAttr\n        -disableaaa\n        -cvaddr=apiserver.cv-prod-us-central1-b.arista.io:443\n        -taillogs\n        -cvproxy=\n        -cvauth=certs,/persist/secure/ssl/terminattr/primary/certs/client.crt,/persist/secure/ssl/terminattr/primary/keys/client.key\n        -smashexcludes=ale,flexCounter,hardware,kni,pulse,strata\n    no shutdown\n</code></pre> </li> <li> <p>Now let's see this in action, login to CloudVision and navigate to the <code>Devices &gt; Inventory</code></p> </li> <li> <p>Make a change to the hostname using a configuration session</p> <pre><code>!\nconfigure session namechange #(1)!\nhostname SOMEONEWASHERE\n!\nshow session-config diffs #(2)!\n!\ncommit timer 00:05:00 #(3)!\n</code></pre> <ol> <li>Create a configuration session, similar to branching in git, this will stage changes and wait for a commit to apply as a replace in configuration</li> <li>Show the differences of designed vs what's configured</li> <li>Commit the configuration to roll back in 5 minutes (<code>hh:mm:ss</code>), if you do not commit after the fact, this will roll back.</li> </ol> Session Configuration Diff<pre><code>SPINE01[16:13:56](config-s-namechange)#show session-config diffs\n--- system:/running-config\n+++ session:/namechange-session-config\n-hostname SPINE01\n+hostname SOMEONEWASHERE\n</code></pre> </li> <li> <p>You should see the hostname change immediately inside CloudVision! This is not a poll... this is a continuous stream of state from device to CloudVision.</p> </li> </ol>"},{"location":"a_wired/a01_lab/#additional-fun-commands","title":"Additional Fun Commands","text":"<p>There are few other commands you can explore in your lab after deployment. As we move away from the CLI, remember all interactions with Arista EOS both via terminal or automation are leveraging the same commands.</p> <ul> <li> <p> Bash</p> <p>Access to the underlying Linux system is available. Quick example is exploring the flash</p> <pre><code>bash\ncd /mnt/flash/\nls -latr\n</code></pre> </li> <li> <p> Packet Capture</p> <p>You have the ability to capture traffic, capturing control plane traffic or mirroring data plane to CPU.</p> <pre><code>bash\ntcpdump -vvvnei et1\n</code></pre> </li> <li> <p> AAA Logs</p> <p>Validate what commands have been run on the switch</p> <pre><code>show aaa accounting logs | tail\n</code></pre> </li> <li> <p> Configuration Session</p> <p>Leverage a configuration session to stage config, commit as a full replace, and even configure a timed rollback.</p> <pre><code>configure session ATD\n!\nhostname IWASHERE\n!\nshow session-config diffs\n!\ncommit timer 00:00:30\n!\nshow conf sessions\n!\n</code></pre> </li> </ul> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p> <p>--8\u2194</p>"},{"location":"a_wired/a02_atd/","title":"A-02-ATD | Provisioning a Campus Fabric - Virtual Lab","text":""},{"location":"a_wired/a02_atd/#a-02-atd-provisioning-a-campus-fabric-virtual-lab","title":"A-02-ATD | Provisioning a Campus Fabric - Virtual Lab","text":""},{"location":"a_wired/a02_atd/#overview","title":"Overview","text":"<p>In this lab you will be using Arista Test Drive (ATD) to simulate a campus leaf switch using CloudVision Studios, adding your new campus leaf switch to an existing Campus Fabric using Arista's Test Drive (ATD) virtual lab environment.</p> <p>ATD provides a fully virtualized network topology that mirrors real-world campus deployments, allowing you to experience Arista's campus solutions without physical hardware. Your virtual environment includes:</p> <ul> <li>Pre-configured Campus Infrastructure: Virtual spine switches acting as your campus core</li> <li>Virtual Leaf Switches: Simulated campus access switches already onboarded with CloudVision</li> <li>CloudVision Integration: Full access to CloudVision Studios for fabric management</li> <li>Realistic Network Scenarios: Experience the same workflows you'd use in production</li> </ul> <p>Your environment has been pre-configured with a sample Campus to assist with these new concepts. Studios is equipped with flexible constructs that give you the ability to describe your campus footprint. These will be common throughout this workshop:</p>"},{"location":"a_wired/a02_atd/#atd-lab-access","title":"ATD Lab Access","text":"<p>To begin this lab, you'll need to access your assigned ATD (Arista Test Drive) virtual lab environment.</p> <ol> <li>Navigate to your assigned ATD Token lab URL provided by your instructor</li> </ol>"},{"location":"a_wired/a02_atd/#student-and-pod-assignment","title":"Student and Pod Assignment","text":"Email Lab Assignment Student Pod # ATD Token derek.legler@wwt.com student1 pod01 ATD Instance 1 greg.asher@wwt.com student2 pod02 ATD Instance 2 Ignatius.Chibale@wwt.com student3 pod03 ATD Instance 3 joseph.marentette@wwt.com student4 pod04 ATD Instance 4 matt.jones@wwt.com student5 pod05 ATD Instance 5 nate.jennemann@wwt.com student6 pod06 ATD Instance 6 nathan.bogan@wwt.com student7 pod07 ATD Instance 7 tanner.paige@wwt.com student8 pod08 ATD Instance 8 dennis.jaeger@wwt.com student9 pod09 ATD Instance 9 nicolas.rodgers@wwt.com student10 pod10 ATD Instance 10 nathan.litz@wwt.com student11 pod11 ATD Instance 11 john.stillwell@wwt.com student12 pod12 ATD Instance 12 tyler.turner@wwt.com student13 pod13 ATD Instance 13 dave.keiner@wwt.com student14 pod14 ATD Instance 14 bob.seiter@wwt.com student15 pod15 ATD Instance 15 justin.girdler@wwt.com student16 pod16 ATD Instance 16 ryan.salihar@wwt.com student17 pod17 ATD Instance 17 nathan.nielsen@wwt.com student18 pod18 ATD Instance 18 Christopher.Hoff@wwt.com student19 pod19 ATD Instance 19 rita.younger@wwt.com student20 pod20 ATD Instance 20 brandon.mainock+cws@arista.com student21 pod21 ATD Instance 21 dcapetz@arista.com - - ATD Instance 22 <ol> <li>Login using the credentials provided for your lab instance</li> <li> <p>Once logged in, you should see the ATD welcome screen similar to the example below. Click on the \"Click Here to Access Topology\" button to enter the lab environment.</p> <p></p> <p></p> </li> <li> <p>To access the lab guides within your virtual environment, look for the vertical navigation bar on the left side of the screen and click on \"Lab Guides\" as shown below. You'll also find your lab credentials provided at the bottom of the page.</p> <p></p> <p></p> </li> <li> <p>Once in the Lab Guides section, choose the \"Campus\" lab from the horizontal navigation bar to access the campus-specific lab instructions.</p> <p></p> <p></p> </li> <li> <p>Choose the \"CV Studios - Layer 2 Leaf Spine\" lab and click on the \"Access This Lab\" button to begin the campus fabric provisioning exercise.</p> <p></p> <p></p> </li> <li> <p>Choose the \"CloudVision Studios - L2LS\" labs to access the specific lab instructions for this exercise. Follow the lab instructions to complete all the steps required to create a campus fabric.</p> <p></p> <p></p> </li> </ol> <p>The ATD environment provides you with a complete virtual campus network topology where you can practice the same provisioning workflows used in production environments.</p> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"a_wired/a02_lab/","title":"A-02 | Provisioning a Campus Fabric","text":""},{"location":"a_wired/a02_lab/#a-02-provisioning-a-campus-fabric","title":"A-02 | Provisioning a Campus Fabric","text":""},{"location":"a_wired/a02_lab/#overview","title":"Overview","text":"<p>In this lab you will be onboarding your switch using CloudVision Studios, adding your new campus leaf switch to an existing Campus Fabric.</p> <p>Your environment has been pre-configured with a sample Campus to assist with these new concepts. Studios is equipped with flexible constructs that give you the ability to describe your campus footprint. These will be common throughout this workshop:</p> <ul> <li>Campus Fabrics: Your campus <code>Workshop</code> has been created, this would be equivalent to a site or region.</li> <li>Campus Pod: Your pod <code>Home Office</code> could be a building or MDF</li> <li>Access Pod: Your access pod <code>IDF1</code> could be a floor or IDF</li> </ul> Show me an example! <p>CloudVision Network Hierarchy gives a better visual representation of how this might look in a real environment.</p> <p></p> <p>The switch in front of you is in Zero-Touch Provisioning (ZTP) mode as they would come from the factory. We will take this new switch from out of the box to provisioned without the use of CLI or the trusty console cable.</p> Out with the console cable <p>Zero-Touch Provisioning in this lab is performed using a bootstrap script delivered over DHCP option 67. This tells your device where to begin streaming for onboarding, you can read more on the CloudVision Help Center</p>"},{"location":"a_wired/a02_lab/#topology","title":"Topology","text":"Lab Topology"},{"location":"a_wired/a02_lab/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"a_wired/a02_lab/#create-a-workspace","title":"Create a Workspace","text":"<p>We are going to create a workspace to propose changes to the Network Infrastructure.  A workspace acts as a sandbox where you can stage your configuration changes before deploying them.</p> What is a Workspace? <p>To make a comparison, a workspace is like a <code>configuration session</code> in EOS or a branch in Git!</p> Studios Step 1Studios Step 2 <p>Click on the <code>Provisioning</code>  on the left side, then choose <code>Studios</code>.</p> <p></p> <p>Click <code>Create a Workspace</code>, give it any name you would like and click <code>Create</code>.</p> <p></p>"},{"location":"a_wired/a02_lab/#onboarding-device","title":"Onboarding Device","text":""},{"location":"a_wired/a02_lab/#workshop-lab-access-point-and-switch-serial-numbers","title":"Workshop Lab Access Point and Switch Serial Numbers","text":"Email AP#1 AP#2 Switch derek.legler@wwt.com 30862DC6B66F 30862DC6B2AF nan greg.asher@wwt.com 30862DC6B2DF 30862DC6B27F nan Ignatius.Chibale@wwt.com 30862DC6B39F 30862DC6B3FF nan joseph.marentette@wwt.com 30862DC6B45F 30862DC6B3CF nan matt.jones@wwt.com 30862DC6B42F 30862DC6B48F nan nate.jennemann@wwt.com 30862DC67A3F 30862DC67A9F nan nathan.bogan@wwt.com 30862DC67AFF 30862DC67A0F nan tanner.paige@wwt.com 30862DC67A6F 30862DC67ACF nan dennis.jaeger@wwt.com 30862DC6B06F 30862DC6B0CF nan nicolas.rodgers@wwt.com 30862DC6B12F 30862DC6B03F nan nathan.litz@wwt.com 30862DC6B09F 30862DC6B0FF nan john.stillwell@wwt.com 30862DC6332F 30862DC633BF nan tyler.turner@wwt.com 30862DC6341F 30862DC6329F nan dave.keiner@wwt.com 30862DC6335F 30862DC633EF nan bob.seiter@wwt.com 30862DC6AF4F 30862DC6AFAF nan justin.girdler@wwt.com 30862DC6B00F 30862DC6AF1F nan ryan.salihar@wwt.com 30862DC6AF7F 30862DC6AFDF nan nathan.nielsen@wwt.com 30862DC8E9AF 30862DC8EB5F nan Christopher.Hoff@wwt.com 30862DC8F4BF 30862DC8E1CF nan rita.younger@wwt.com 30862DC8EA3F 30862DC8F45F nan brandon.mainock+cws@arista.com - - - dcapetz@arista.com - - - <ol> <li> <p>Navigate to the <code>Devices</code> tab on the left and let's look at the <code>Inventory</code>. There should be two devices with their <code>Streaming</code> status as <code>Active</code>. Identify your serial number (<code>Device ID</code>) and associated hostname (<code>Device</code>). We will use these to choose which switch is <code>leaf1a</code> and <code>leaf1b</code></p> <p>Single Workspace</p> <p>You and your fellow student will work together to onboard your switch pair in a single workspace.</p> <p>Your CloudVision is tied to your pod, anywhere it says <code>pod-##</code> you will replace with your assigned pod number.</p> <p>What's that hostname?</p> <p>The ZTP process used here will use the DHCP ip address as a suffix and produce a <code>sw-X.X.X.X</code> hostname. This is a good indication a switch is in ZTP.</p> <p></p> </li> <li> <p>Navigate to the Network Fabric Studio <code>Campus Fabric (L2/L3/EVPN)</code></p> <p>Active Studios</p> <p>If you do not see the studios option below, there is a toggle on the right hand side you can toggle \"off\" the <code>Active Studios</code> to show all.</p> <p></p> </li> <li> <p>Click on the <code>Add Campus Devices</code> to launch the workflow</p> <p></p> </li> <li> <p>This workflow will take you through onboarding the device, follow the tabs below to complete the onboarding process.</p> Step 1Step 2Step 3Step 4Step 5 <p>Select the <code>Workshop &gt; Home Office &gt; IDF1</code> and add your assigned device from the <code>Available Devices</code></p> <p></p> <p>In the <code>Role Assignment</code> click on the <code>Hostname</code> field and name your switch <code>pod##-leaf1X</code>. Where ## is your pod number and <code>X</code> is either student A or B. Also select the role as <code>Leaf</code> and <code>Continue</code></p> <p></p> <p>Validate your <code>Inband Management Subnet</code> and <code>Inband Management VLAN</code> match your assigned pod number, this will already be configured for you.</p> <ul> <li>Subnet: <code>10.1.#.0/24</code> where <code>#</code> is the pod number</li> <li>VLAN: <code>1##</code> where <code>#</code> is the pod number</li> </ul> <p></p> <p>This is a review of what you have configured to onboard your device, click on <code>Build Workspace</code> when you are ready.</p> <p></p> <p>During this step, the Quick Action is adding your devices to the Studios inventory anf generating configuration for your new MLAG pair. If we had selected an EOS image, a task would have been created to upgrade the device during our onboarding.</p> <p></p> </li> <li> <p>The workflow is completing several steps to onboard the device, click <code>Review Workspace</code> to explore</p> <p></p> </li> <li> <p>We should see the detailed view of what's changing</p> <p></p> </li> <li> <p>In the workspace note the top leaf <code>Summary</code> box, there are several studios modified:</p> <ol> <li><code>Inventory and Topology</code>: Devices selected are simply added to the Campus inventory</li> <li><code>Campus Fabric (L2/L3/EVPN)</code>: Devices we're added to their respective Campus Access Pod <code>IDF1</code> and will inherit configuration from that part of the campus.</li> </ol> </li> <li> <p>Let's leave this for now and navigate back to <code>Studios</code> home page and next we add some base configuration.</p> <p>You may need to click twice</p> <p>Studios will take you back to where you left off, you may need to click <code>Studios</code> on the side bar twice, or select <code>Studios</code> near the top left of your screen.</p> <p></p> </li> </ol>"},{"location":"a_wired/a02_lab/#applying-configuration","title":"Applying Configuration","text":"<ol> <li> <p>Click on <code>Static Configuration</code></p> <p></p> </li> <li> <p>Let's add our new devices to this studio using the steps below</p> Add Devices Step 1Add Devices Step 2 <p>Click on the <code>Add +</code> and select <code>Devices</code></p> <p></p> <p>Select your devices you recently added through the workflow</p> <p></p> </li> <li> <p>Now let's add our base configuration to these devices, this will include items like logging, banners, etc. for the lab. Use the steps below</p> <p>Device Configuration</p> <p>Here the base device configuration was generated for these devices before hand and include additional configuration for the workshop. This was done using Arista Validated Designs (AVD)</p> Add Config Step 1Add Config Step 2 (Leaf1A)Add Config Step 3Add Config Step 4 (Leaf1B) <p>Select a device and on the left and click the <code>+ Configlet</code> to the right and select <code>Configlet Library</code></p> <p></p> <p>Select the correct configuration for the device selected.</p> <p></p> <p>Ensure the configuration has applied!</p> <p></p> <p>Do the same for the other leaf, selecting the correct configuration file.</p> <p></p> </li> <li> <p>Let's now review our workspace and the changes we've made by clicking on <code>Review Workspace</code></p> <p></p> </li> <li> <p>You can review the configuration changes to the devices</p> What happens to the ZTP Configuration?! <p>We are replacing the Zero Touch configuration with a combination of base configuration (generated using AVD) and some dynamic configuration using Campus Studios</p> <p></p> </li> <li> <p>Click <code>Submit Workspace</code> to generate the Change Control</p> <p></p> </li> <li> <p>Click on <code>View Change Control</code> and let's explore executing a change control in the next section.</p> </li> </ol>"},{"location":"a_wired/a02_lab/#executing-a-change-control","title":"Executing a Change Control","text":"<ol> <li> <p>Within the Change Control, you can review the configurations as we just did in the workspace. This is geared towards encouraging or enforcing review of changes prior to execution.</p> <p></p> </li> <li> <p>When you are ready, you can review <code>Review and Approve</code> at the top right, select the <code>Execute Immediately</code> toggle, and <code>Approve and Execute</code>.</p> I approved my own change?! <p>Yes, for this workshop you can approve your own change. In <code>Settings &gt; General Settings</code> the toggle for <code>Non-Author Change Control Review</code> can be enabled enforce a change control review from a \"non-author\".</p> <p></p> </li> <li> <p>Let's explore what is going on during the execution of the change control, while this is happening, feel free to click <code>Logs</code> near the top right to watch what's happening.</p> CC StartCC FinishCC Device Logs <p>So what is the device doing?! There are a number of things that device goes through through a ZTP onboard</p> <ol> <li>The device configuration will be applied to the device</li> <li>The switch will reboot to bring the device out of ZTP mode (this will take about 10 mins)</li> <li>We did not upgrade the device, but if we had, software upgrade would then take place and reboot once more.</li> </ol> <p></p> <p>Now that change control has finished, you will see a summary of any tasks that failed.</p> <p></p> <p>There are a number of logs you can review, the list is long, but great detail about what's going on behind the scenes.</p> <p></p> </li> <li> <p>You can now return the <code>Devices</code> tab on the left and see our devices should be streaming with it's new hostname!</p> <p></p> </li> <li> <p>That's it! Your new campus switch went from out of the box ZTP mode to a configured member of the Campus fabric. We're going to explore further changes to this switch in the next lab!</p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"a_wired/a03_lab/","title":"A03 - Access Interface Configuration","text":""},{"location":"a_wired/a03_lab/#a-03-switch-onboarding-with-inventory-studio-access-interface-configuration","title":"A-03 | Switch Onboarding with Inventory Studio &amp; Access Interface Configuration","text":""},{"location":"a_wired/a03_lab/#overview","title":"Overview","text":"<p>This lab combines two essential CloudVision workflows: onboarding switches using Inventory Studio and configuring access interfaces. You'll learn to use CloudVision's visual interface to add new devices and then configure port profiles for connected hosts.</p>"},{"location":"a_wired/a03_lab/#topology","title":"Topology","text":"Lab Topology"},{"location":"a_wired/a03_lab/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"a_wired/a03_lab/#create-a-workspace","title":"Create a Workspace","text":"<p>We are going to create a workspace to propose changes to the Network Infrastructure.  A workspace acts as a sandbox where you can stage your configuration changes before deploying them.</p> What is a Workspace? <p>To make a comparison, a workspace is like a <code>configuration session</code> in EOS or a branch in Git!</p> Studios Step 1Studios Step 2 <p>Click on the <code>Provisioning</code>  on the left side, then choose <code>Studios</code>.</p> <p></p> <p>Click <code>Create a Workspace</code>, give it any name you would like and click <code>Create</code>.</p> <p></p>"},{"location":"a_wired/a03_lab/#part-1-switch-onboarding-with-inventory-studio","title":"Part 1: Switch Onboarding with Inventory Studio","text":""},{"location":"a_wired/a03_lab/#video-walkthrough","title":"Video Walkthrough","text":"<p>Before we begin the hands-on portion, watch this demonstration video that shows the complete switch onboarding process using Inventory Studio:</p> <p>\u26a0\ufe0f Video cannot be loaded</p> <p>This might be due to:</p> <ul> <li>Missing video file in the demos folder</li> <li>Incorrect file path</li> <li>Browser compatibility issues</li> </ul> <p> \ud83d\udd04 Retry Loading </p> <p>\ud83d\udcfa Loading video...</p>        \ud83d\udca1 Tip: Use spacebar to play/pause, arrow keys to skip forward/back"},{"location":"a_wired/a03_lab/#onboarding-your-switch","title":"Onboarding Your Switch","text":"<p>Now that you've seen the process, let's onboard your assigned switch using the same workflow demonstrated in the video.</p> <p>Single Workspace</p> <p>Make sure you complete this in a single workspace.</p>"},{"location":"a_wired/a03_lab/#step-1-access-inventory-studio","title":"Step 1: Access Inventory Studio","text":"<ol> <li>Navigate to <code>Studios</code> from the main CloudVision menu</li> <li>Locate and click on <code>Inventory Studio</code></li> <li>Create a new workspace or use an existing one</li> </ol>"},{"location":"a_wired/a03_lab/#step-2-identify-your-device","title":"Step 2: Identify Your Device","text":"<ol> <li>In the Inventory Studio interface, look for devices in the \"Network Updates\" section</li> <li>Identify your assigned switch using the serial number from your lab assignment</li> <li>Your device should appear with a hostname like <code>sw-X.X.X.X</code> indicating it's in ZTP mode</li> <li>Select your device by checking the box next to it. Click on <code>Accept Updates</code>, then click <code>Accept</code> in the confirmation dialog</li> <li>Complete the <code>Workspace</code> as shown in the video walkthrough</li> </ol>"},{"location":"a_wired/a03_lab/#video-walkthrough-applying-base-configuration","title":"Video Walkthrough - Applying base configuration","text":"<p>\u26a0\ufe0f Video cannot be loaded</p> <p>This might be due to:</p> <ul> <li>Missing video file in the demos folder</li> <li>Incorrect file path</li> <li>Browser compatibility issues</li> </ul> <p> \ud83d\udd04 Retry Loading </p> <p>\ud83d\udcfa Loading video...</p>        \ud83d\udca1 Tip: Use spacebar to play/pause, arrow keys to skip forward/back      <p>Following the video demonstration:</p>"},{"location":"a_wired/a03_lab/#step-3-apply-base-network-configuration","title":"Step 3: Apply Base Network Configuration","text":"<ol> <li>In <code>Static Configuration</code> studio, Click on <code>Configlet Library</code></li> <li>Search for your base config: <code>base-pod##</code> (where ## is your pod number)</li> <li>Optionally review it</li> <li>Create <code>SubContainer</code> for your device and tag <code>base_config</code> and value <code>pod##</code></li> <li>Note: Studios will prompt you to build the Workspace several times. Click on <code>Build Workspace</code></li> <li>Apply the base configuration to your device as shown in the video</li> <li>Click <code>Review Workspace</code></li> <li>Click <code>Submit Workspace</code></li> <li>Click <code>View Change Control</code></li> <li>Click <code>Review and Approve</code></li> <li>Toggle <code>Execute Immediately</code> and click <code>Approve and Execute</code></li> </ol>"},{"location":"a_wired/a03_lab/#verification","title":"Verification","text":"<p>After the onboarding process completes:</p> <ol> <li>Navigate to <code>Devices</code> &gt; <code>Inventory</code> to verify your switch appears with the correct hostname</li> <li>Check that the device status shows as <code>Active</code> and <code>Streaming</code></li> <li>Verify the device appears in the correct location within your campus hierarchy</li> </ol>"},{"location":"a_wired/a03_lab/#troubleshooting","title":"Troubleshooting","text":""},{"location":"a_wired/a03_lab/#switch-onboarding-issues","title":"Switch Onboarding Issues","text":"<p>If you encounter issues during onboarding:</p> <ul> <li>Ensure your device is properly connected to the network</li> <li>Verify the device is receiving DHCP and can reach CloudVision</li> </ul>"},{"location":"a_wired/a03_lab/#part-2-access-interface-configuration","title":"Part 2: Access Interface Configuration","text":"<p>Now that your switches are onboarded, let's configure port profiles and apply them to interfaces in your network. But first, let's build the campus fabric.</p>"},{"location":"a_wired/a03_lab/#video-walkthrough-build-the-campus-fabric","title":"Video Walkthrough - Build the Campus Fabric","text":"<p>\u26a0\ufe0f Video cannot be loaded</p> <p>This might be due to:</p> <ul> <li>Missing video file in the demos folder</li> <li>Incorrect file path</li> <li>Browser compatibility issues</li> </ul> <p> \ud83d\udd04 Retry Loading </p> <p>\ud83d\udcfa Loading video...</p>        \ud83d\udca1 Tip: Use spacebar to play/pause, arrow keys to skip forward/back"},{"location":"a_wired/a03_lab/#creating-port-profiles","title":"Creating Port Profiles","text":"<ol> <li> <p>From the <code>Studios</code> home page, disable the <code>Active Studios</code> toggle to display all available CloudVision Studios (which when enabled will only show used/active Studios).</p> <p>The toggle may already be in the disabled position</p> <p></p> </li> <li> <p>Let's create two port profiles using the <code>Access Interface Configuration</code> studio that will be used to provision connected hosts.</p> <ol> <li>Launch the <code>Access Interface Configuration</code></li> <li> <p>Click <code>+ Add Port Profile</code>, name it <code>WAP</code>, and click the arrow on the right</p> </li> <li> <p>Enter the following values on this configuration page, you can leave all other configuration items left as default. See the settings are configured in the screenshot below</p> <p>*VLAN pod numbers between 01-20 that was assigned to your lab/Pod. Example: <code>Pod01</code> is <code>VLAN101</code>, <code>Pod13</code> is <code>VLAN113</code></p> WAP Key Value Description <code>WAP</code> Enable Yes Mode Access VLANS <code>1##</code> where <code>##</code> is your 2 digit pod number* Portfast Edge POE Reboot Action Maintain POE Link Down Action Maintain POE Shutdown Action Power-Off <p>*VLAN pod numbers between 01-20 that was assigned to your lab/Pod. Example: <code>Pod01</code> is <code>VLAN101</code>, <code>Pod13</code> is <code>VLAN113</code></p> </li> </ol> <p></p> <ol> <li>Once you are done with configuration, navigate back to <code>Access interface Configuration</code> near the top of the page, under the <code>Quick Actions</code></li> </ol> <p></p> </li> <li> <p>Let's add another port profile for our Raspberry Pi, click <code>Add Port Profile</code>, name it <code>Wired-RasPi</code>, and click the arrow on the right</p> Wired-RasPi Key Value Description <code>Wired-RasPi</code> Enable Yes Mode Access VLANS <code>1##</code> where <code>##</code> is your 2 digit pod number* Portfast Edge 802.1X Enabled MAC Based Authentication Yes POE Reboot Action Maintain POE Link Down Action Maintain POE Shutdown Action Power-Off <p>*VLAN pod numbers between 01-20 that was assigned to your lab/Pod. Example: <code>Pod01</code> is <code>VLAN101</code>, <code>Pod13</code> is <code>VLAN113</code></p> </li> <li> <p>Our port profiles have been staged, click <code>Review Workspace</code></p> </li> <li> <p>We can see the only studio changed is the <code>Access Interface Configuration</code>, no configuration on the devices has changed.</p> <p></p> </li> <li> <p>Go ahead and <code>Submit the Workspace</code> when you ready</p> <p>Note that device configuration has NOT changed after submitting this workspace. If you see something different, create a new workspace and try again or reach out to the event staff.</p> </li> </ol>"},{"location":"a_wired/a03_lab/#assigning-port-profiles","title":"Assigning Port Profiles","text":"<p>No Workspace</p> <p>Now that you have port profiles, you can each individually configure ports on your assigned switch! No workspace required here \ud83d\ude04</p> <ol> <li> <p>We are going to assign our new port profiles to our switch, specifically assign ports for</p> <ol> <li><code>Ethernet1</code>: our access port for the Raspberry Pi</li> <li><code>Ethernet7</code>: our access port for the Access Point</li> <li><code>Ethernet9</code>: our access port for the Access Point</li> </ol> </li> <li> <p>Let's configure our Access Point port, make sure you identify your assigned switch <code>pod&lt;##&gt;-leaf1</code></p> <p>Your Device</p> <p>NOTE: You will see a slightly different front panel layout, this is the difference between the 710P-12P and the 710P-16P you have in front of you.</p> Student 1 <ol> <li>Click on port <code>Ethernet7</code> on your assigned switch</li> <li>Choose the <code>Port Profile</code> of <code>WAP</code></li> <li>Click <code>Yes</code> radio button under <code>Enabled</code></li> <li>Repeat steps 1-3 for port <code>Ethernet9</code></li> <li>Click <code>Review</code></li> </ol> <p></p> </li> <li> <p>You can review the configuration before pushing, but all in the same workflow. Hit <code>Confirm</code> to push the access port config when ready!</p> <p></p> </li> <li> <p>Once the <code>Change Control</code> has been executed, click <code>Configure Additional Inputs</code> to configure another access port</p> <p></p> </li> <li> <p>Let's now configure our Raspberry Pi port, make sure you identify your assigned switch <code>pod&lt;##&gt;-leaf1</code></p> <p>Your Device</p> <p>Make sure to select your device, see the tabs below!</p> <p>NOTE: You will see a slightly different front panel layout, this is the difference between the 710P-12P and the 710P-16P you have in front of you.</p> Student 1 <p></p> </li> <li> <p>This time Click <code>Submit</code></p> </li> <li> <p>This has pushed the configuration without review! This streamlined the process for low risk changes like access port changes. Once <code>Change Control</code> has been executed, click <code>Finish</code></p> <p></p> </li> <li> <p>Quick actions is using the same CloudVision Change Control workflow, the exception here is it's auto approved to allow low risk/impact changes easier. You can view this change control in the <code>Change Control</code> tab and see the generated task.</p> <p></p> </li> </ol>"},{"location":"a_wired/a03_lab/#adding-a-vlan","title":"Adding a VLAN","text":"<p>Adding a VLAN is a common provisioning task. Let\u2019s use the existing Campus Fabric Studio to add an incremental configuration (add a VLAN). This VLAN will be specific to your pod and not routable outside.</p> <p>Single Workspace</p> <p>You and your fellow student will work together to create a new VLAN in your campus fabric using a single workspace.</p> <ol> <li> <p>Once the workspace is created, open the existing <code>Campus Fabric (L2/L3/EVPN)</code> studio.</p> <p></p> <ol> <li> <p>Validate that the <code>Device Selection</code> still applies to <code>All Devices</code></p> </li> <li> <p><code>Within the Campus Services (Non-VXLAN)</code> navigate to <code>Campus: Workshop &gt; Campus-Pod: Home Office</code> using the arrow  on the right</p> </li> </ol> WorkshopHome Office <p></p> <p></p> </li> <li> <p>We are going to add a new VLAN and add to the <code>Home Office</code> Campus POD.</p> <ol> <li> <p>Click the <code>+ Add VLAN</code> button</p> </li> <li> <p>Add the <code>VLAN 2##</code>, where <code>##</code> is your pod number and click the right arrow </p> <p></p> </li> <li> <p>Customize the new VLAN by giving it a <code>Name</code></p> </li> <li> <p>Add the VLAN to the Access-Pod by clicking <code>+ Add Pod</code> and selecting <code>IDF1</code></p> <p></p> </li> <li> <p>Let's click <code>Review Workspace</code> to submit the staged changes.</p> </li> </ol> </li> <li> <p>Review and Submit Workspace</p> <ol> <li> <p>Notice that the Studio is adding the VLAN to the two devices within the Pod.</p> <p>Pruning VLANS</p> <p>Outside of this lab topology, when you add vlans to a Layer 2 leaf like this, Studios will generate the necessary configuration to trunk the new VLAN to the spines or upstream MLAG pair when using LSS.</p> No changes?! <p>If you are not seeing any proposed changes, make sure you selected an <code>Access-Pod</code> within the VLAN configuration. (See step 2e)</p> </li> <li> <p>Once you review the changes, click <code>Submit Workspace</code></p> <p></p> </li> <li> <p>Click View <code>Change Control</code></p> <p></p> </li> <li> <p>Review the Change Control and select <code>Review and Approve</code></p> <p></p> </li> <li> <p>Toggle the <code>Execute Immediately</code> button and select <code>Approve and Execute</code></p> <p></p> </li> </ol> </li> <li> <p>Verify the VLAN has been added to the device configuration by using the Device <code>Comparison</code> function.</p> <ol> <li> <p>Click <code>Devices</code>, the click on <code>Comparison</code>, and select a <code>Time Comparison</code></p> <p></p> </li> <li> <p>Choose a device from the list, such as <code>leaf1a</code></p> </li> <li> <p>Select a time period, for example <code>30 minutes ago</code> and click the <code>Compare</code> button</p> <p></p> </li> <li> <p>The first screen presented shows the overview, navigate to the <code>Configuration</code> tab on the left</p> <p></p> </li> <li> <p>Select the Configuration section</p> <p>Timeseries in CloudVision</p> <p>We expect the configuration changed within the last 30 minutes, but all streaming data from the switch (including configuration) is stored in a timeseries database. So anything from routing table, MAC, ARP, and more is accessible for historical review and comparisons like this!</p> <p></p> </li> </ol> </li> <li> <p>Lab section completed! In the next lab section you will see how to roll back a previous change control</p> </li> </ol>"},{"location":"a_wired/a03_lab/#rollback-a-change-control","title":"Rollback a Change Control","text":"<p>There is no question at some point in  your career, there has been a situation you've been asked to roll back a configuration change and restore back to previous state. You may need to do this for all devices affected by a change, or only a subset of devices under troubleshooting.</p> <p>CloudVision Change Controls are built with this flexibility in mind, granular change management per device or fleet-wide. Specifically targeting actions or tasks that have taken place can be identified and rolled back when needed.</p> <ol> <li> <p>Let\u2019s roll back the change control we used to add a VLAN via Studios.</p> </li> <li> <p>First go to <code>Provisioning</code> then <code>Change Control</code>. Select the change control corresponding to your VLAN addition</p> <p></p> </li> <li> <p>Click the <code>Rollback</code> button</p> <p></p> </li> <li> <p>In the next screen, select the top list check mark to select all the devices and click <code>Create Rollback Change Control</code></p> <p></p> </li> <li> <p>Verify the Configuration Changes section by clicking <code>Diff Summary</code>  Once you have reviewed the change, click the <code>Review and Approve</code> button</p> <p></p> </li> <li> <p>Again, you'll be presented with one more opportunity to review the changes. Select <code>Execute Immediately</code> if not already toggled on and <code>Approve and Execute</code></p> <p></p> </li> <li> <p>Monitor the change control for completion to ensure the added VLAN is cleaned up on all switches.</p> StartFinish <p></p> <p></p> </li> <li> <p>You have now successfully added a VLAN through Studios and then rolled back that change across all switches.</p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p>Your switch is now successfully onboarded and ready for further configuration. You've also learned how to create and assign port profiles for access interfaces.</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"a_wired/a03_lab_v2/","title":"A-03 | Switch Onboarding with Inventory Studio","text":""},{"location":"a_wired/a03_lab_v2/#a-03-switch-onboarding-with-inventory-studio","title":"A-03 | Switch Onboarding with Inventory Studio","text":""},{"location":"a_wired/a03_lab_v2/#overview","title":"Overview","text":"<p>In this lab, you will learn how to onboard switches using CloudVision's Inventory Studio. This streamlined approach provides a visual and intuitive way to add new devices to your network infrastructure.</p>"},{"location":"a_wired/a03_lab_v2/#topology","title":"Topology","text":"Lab Topology"},{"location":"a_wired/a03_lab_v2/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"a_wired/a03_lab_v2/#create-a-workspace","title":"Create a Workspace","text":"<p>We are going to create a workspace to propose changes to the Network Infrastructure.  A workspace acts as a sandbox where you can stage your configuration changes before deploying them.</p> What is a Workspace? <p>To make a comparison, a workspace is like a <code>configuration session</code> in EOS or a branch in Git!</p> Studios Step 1Studios Step 2 <p>Click on the <code>Provisioning</code>  on the left side, then choose <code>Studios</code>.</p> <p></p> <p>Click <code>Create a Workspace</code>, give it any name you would like and click <code>Create</code>.</p> <p></p>"},{"location":"a_wired/a03_lab_v2/#video-walkthrough","title":"Video Walkthrough","text":"<p>Before we begin the hands-on portion, watch this demonstration video that shows the complete switch onboarding process using Inventory Studio:</p> <p>Video Setup Required</p> <p>If the video doesn't play, please check:</p> <ol> <li>File exists: Ensure <code>01_inventory_studio.mp4</code> is in your <code>docs/demos/</code> folder</li> <li>File path: Verify the relative path matches your MkDocs structure</li> <li>File format: MP4 with H.264 codec works best across all browsers</li> </ol> <p>\u26a0\ufe0f Video cannot be loaded</p> <p>This might be due to:</p> <ul> <li>Missing video file in the demos folder</li> <li>Incorrect file path</li> <li>Browser compatibility issues</li> </ul> <p> \ud83d\udd04 Retry Loading </p> <p>\ud83d\udcfa Loading video...</p> <p>\u274c Video failed to load</p> \ud83d\udd27 Troubleshooting Options Try these solutions: <ol> <li>Check file location: Ensure video file is at <code>docs/demos/01_inventory_studio.mp4</code></li> <li>Test direct access: Test Path 1 |             Test Path 2 |             Test Path 3 |             Test Path 4 </li> <li>Use external hosting: Upload to YouTube, Vimeo, or cloud storage</li> </ol>        \ud83d\udca1 Tip: Use spacebar to play/pause, arrow keys to skip forward/back      \ud83c\udfac Alternative Video Options  If the embedded video doesn't work, try these alternatives:  ### Option 1: Direct Download    \ud83d\udce5 Download Video (MP4)   ### Option 2: External Player If you've uploaded the video to a cloud service, replace this with your URL:  <pre><code>&lt;!-- YouTube example --&gt;\n&lt;iframe width=\"100%\" height=\"400\" \n  src=\"https://www.youtube.com/embed/YOUR_VIDEO_ID\" \n  frameborder=\"0\" allowfullscreen&gt;\n&lt;/iframe&gt;\n\n&lt;!-- Vimeo example --&gt;\n&lt;iframe width=\"100%\" height=\"400\"\n  src=\"https://player.vimeo.com/video/YOUR_VIDEO_ID\"\n  frameborder=\"0\" allowfullscreen&gt;\n&lt;/iframe&gt;\n</code></pre>  ### Option 3: Self-Hosted with Absolute Path If using MkDocs serve locally, try: <pre><code>&lt;video controls width=\"100%\"&gt;\n  &lt;source src=\"http://localhost:8000/demos/01_inventory_studio.mp4\" type=\"video/mp4\"&gt;\n&lt;/video&gt;\n</code></pre> <p>Video Overview</p> <p>This video demonstrates:</p> <ul> <li>Accessing CloudVision Inventory Studio (0:00-1:30)</li> <li>Identifying available devices for onboarding (1:30-3:00)</li> <li>Configuring device settings and roles (3:00-5:30)</li> <li>Applying network configurations (5:30-7:00)</li> <li>Verifying successful device integration (7:00-8:30)</li> </ul> <p>Video Accessibility</p> <ul> <li>Captions: Click the CC button for subtitles</li> <li>Speed Control: Right-click video \u2192 Playback speed</li> <li>Full Screen: Click the expand icon or press F key</li> <li>Keyboard Navigation: Spacebar (play/pause), \u2190 \u2192 (skip), \u2191 \u2193 (volume)</li> </ul>"},{"location":"a_wired/a03_lab_v2/#onboarding-your-switch","title":"Onboarding Your Switch","text":"<p>Now that you've seen the process, let's onboard your assigned switch using the same workflow demonstrated in the video.</p> <p>Single Workspace</p> <p>You and your fellow student will work together to onboard your switch pair in a single workspace.</p>"},{"location":"a_wired/a03_lab_v2/#step-1-access-inventory-studio","title":"Step 1: Access Inventory Studio","text":"<ol> <li>Navigate to <code>Studios</code> from the main CloudVision menu</li> <li>Locate and click on <code>Inventory Studio</code></li> <li>Create a new workspace or use an existing one</li> </ol>"},{"location":"a_wired/a03_lab_v2/#step-2-identify-your-device","title":"Step 2: Identify Your Device","text":"<ol> <li>In the Inventory Studio interface, look for devices in the \"Available Devices\" section</li> <li>Identify your assigned switch using the serial number from your lab assignment</li> <li>Your device should appear with a hostname like <code>sw-X.X.X.X</code> indicating it's in ZTP mode</li> </ol>"},{"location":"a_wired/a03_lab_v2/#step-3-configure-device-settings","title":"Step 3: Configure Device Settings","text":"<p>Following the video demonstration:</p> <ol> <li>Select your device from the available devices list</li> <li>Configure the following settings:</li> <li>Hostname: <code>pod##-leaf1X</code> (where ## is your pod number and X is A or B)</li> <li>Role: Select <code>Leaf</code></li> <li>Location: Choose <code>Workshop &gt; Home Office &gt; IDF1</code></li> </ol>"},{"location":"a_wired/a03_lab_v2/#step-4-apply-network-configuration","title":"Step 4: Apply Network Configuration","text":"<ol> <li>Configure the management network settings:</li> <li>Management Subnet: <code>10.1.##.0/24</code> (where ## is your pod number)</li> <li> <p>Management VLAN: <code>1##</code> (where ## is your pod number)</p> </li> <li> <p>Review all settings before proceeding</p> </li> </ol>"},{"location":"a_wired/a03_lab_v2/#step-5-deploy-configuration","title":"Step 5: Deploy Configuration","text":"<ol> <li>Click <code>Review Workspace</code> to see all proposed changes</li> <li>Verify the configuration matches your requirements</li> <li>Click <code>Submit Workspace</code> to generate the Change Control</li> <li>Review and approve the Change Control</li> <li>Execute the changes</li> </ol>"},{"location":"a_wired/a03_lab_v2/#verification","title":"Verification","text":"<p>After the onboarding process completes:</p> <ol> <li>Navigate to <code>Devices</code> &gt; <code>Inventory</code> to verify your switch appears with the correct hostname</li> <li>Check that the device status shows as <code>Active</code> and <code>Streaming</code></li> <li>Verify the device appears in the correct location within your campus hierarchy</li> </ol>"},{"location":"a_wired/a03_lab_v2/#troubleshooting","title":"Troubleshooting","text":""},{"location":"a_wired/a03_lab_v2/#video-playback-issues","title":"Video Playback Issues","text":"<p>If you're experiencing video playback problems:</p> <ul> <li>Chrome/Edge: Should support MP4 natively</li> <li>Firefox: Try refreshing the page or use the alternative player</li> <li>Safari: MP4 should work, check if hardware acceleration is enabled</li> <li>Mobile browsers: Video should be responsive and touch-friendly</li> </ul>"},{"location":"a_wired/a03_lab_v2/#switch-onboarding-issues","title":"Switch Onboarding Issues","text":"<p>If you encounter issues during onboarding:</p> <ul> <li>Ensure your device is properly connected to the network</li> <li>Verify the device is receiving DHCP and can reach CloudVision</li> <li>Check that ZTP is enabled on the device</li> <li>Confirm the device serial number matches your lab assignment</li> </ul> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p>Your switch is now successfully onboarded and ready for further configuration.</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"a_wired/a04_lab/","title":"A04 - Operations, Dashboards, and Events","text":""},{"location":"a_wired/a04_lab/#a-04-operations-dashboards-and-events","title":"A-04 | Operations, Dashboards, and Events","text":""},{"location":"a_wired/a04_lab/#overview","title":"Overview","text":"<p>In this lab we will explore some of the features of CloudVision to manage and operate your campus network.</p>"},{"location":"a_wired/a04_lab/#intro-to-network-hierarchy","title":"Intro to Network Hierarchy","text":"<p>Campus networks can be rather extensive in size and their reach, including many sites, buildings, and floors where your precious network gear is deployed. The Network Hierarchy view aligns closely with the same way you'll manage your wireless access points in CV-CUE:</p> <ol> <li> <p>Click on the <code>Network Hierarchy</code> tab on the left</p> <p></p> </li> <li> <p>Note your <code>Network</code> contains the workshop campus, campus pod, and access-pod as you drill down.</p> </li> <li>Click on <code>Workshop</code> to view a summary of all the devices deployed under the top level campus <code>Workshop</code></li> <li> <p>Click on <code>IDF1</code> and note we now get more detail about the switches and clients connected to those devices in the <code>Overview</code> tab.</p> <p></p> </li> <li> <p>Click on the <code>Front Panel</code> tab to view more detail about what's connected, the capabilities of your switches in the stack, and access to quick actions to make changes on the interfaces.</p> <p></p> </li> <li> <p>Let's now use Network Hierarchy to drill down into a compliance issue.</p> </li> </ol>"},{"location":"a_wired/a04_lab/#configuration-compliance","title":"Configuration Compliance","text":"<p>The Network Hierarchy view is one of many ways to visualize your campus, namely to drill down to a specific area of the network to configure or troubleshoot an issue.</p> <p>to showcase compliance panel and 2 devices should flagged (due to rollback above). This will open the compliance dashboard and we can sync the config from there via Change Control.</p> <ol> <li>If you're not already on the <code>Network Hierarchy</code> page, click the tab on the left.</li> <li> <p>Click the top level <code>Network</code> object, and take note of the <code>Compliance</code> panel on the right</p> <p></p> </li> <li> <p>We have 2 devices that are violating the <code>Configuration</code> compliance item</p> </li> <li> <p>Click on <code>Compliance</code> and you should see the <code>Compliance Overview</code> with our 2 devices out of configuration compliance</p> </li> <li> <p>Let's select your device below and click <code>Sync Config</code></p> <p></p> </li> <li> <p>This will create a <code>Change Control</code> with our two devices</p> <p></p> </li> <li> <p>Click on the <code>Review and Approve</code></p> <p>Why is our configuration out of sync?!</p> <p>Recall CloudVision is designed to act as the \"Source of Truth\" for your configuration. It contains a designed configuration it considers the standard, driven through configuration in Studios. When we added our Vlan in the previous step, we rolled that change back, and now there is a discrepancy.</p> <p>This could be a real life scenario where a VLAN was added, rolled back due to an unforeseen issue, and scheduled to be added at a later date. We need that vlan, we are reminded the device is out of compliance, and possibly for a good reason!</p> </li> <li> <p>Click on <code>Approve and Execute</code> when you're ready</p> <p></p> </li> <li> <p>This is pushing the designed configuration back to the device</p> </li> <li> <p>Let's go back to our <code>Network Hierarchy</code> or <code>Devices &gt; Compliance Overview</code> and we should see are switches are not in compliance again.</p> Network HierarchyCompliance Overview <p></p> <p></p> </li> </ol>"},{"location":"a_wired/a04_lab/#dashboards","title":"Dashboards","text":"<p>Dashboards are an important way to visualize commonly requested information, we've already seen the Campus Health Dashboard a few times in previous labs. This lab section shows you how to navigate the built-in dashboards and customize your own.</p>"},{"location":"a_wired/a04_lab/#campus-health-overview","title":"Campus Health Overview","text":"<ol> <li> <p>Open the Dashboards Section and we will see the Campus Health Overview dashboard is set to our home dashboard.</p> <p>Dashboard Home Page</p> <p>CloudVision has a couple features that customize a users experience. There is a built in profile for <code>Campus Monitoring</code> that can be applied to a user role, this will set the \"Campus Health Overview\" dashboard as the primary dashboard. A user can also select any built-in or custom dashboard as the home/primary dashboard.</p> <p></p> </li> <li> <p>You\u2019ll be presented with a curated selection of common campus related monitoring tools</p> <p></p> </li> <li> <p>Feel free to explore the Campus Health dashboard briefly and then navigate back to the Dashboards landing page by selecting Dashboards in the upper left.</p> <p></p> </li> </ol>"},{"location":"a_wired/a04_lab/#device-health","title":"Device Health","text":"<ol> <li> <p>Next, Select the Device Hardware dashboard</p> <p></p> </li> <li> <p>By default, this dashboard selects all devices.</p> <p></p> </li> <li> <p>Change the dashboard to select only <code>leaf1a</code> or <code>leaf1b</code> by changing from <code>device: *</code> to <code>device:</code> to match a single device. Once you\u2019ve selected an individual device, the dashboard will filter to results for only this device.</p> <p></p> </li> <li> <p>Navigate back to the Dashboards landing page by clicking Dashboards in upper left.</p> </li> </ol>"},{"location":"a_wired/a04_lab/#custom-dashboard","title":"Custom Dashboard","text":"<p>Next, let\u2019s add a new customized dashboard. There are three main constructs we will touch on here:</p> <ul> <li>Metrics (Devices): telemetry data specific to a device</li> <li>Metrics (Interfaces): telemetry data specific to the interfaces of a device</li> <li>Summaries: a metric or set of metrics summarized into a single view</li> </ul> <p>There is a lot to unpack in dashboards as you have a significant amount of power in customizing the data and look of your dashboard. See how dashboards are quickly created before we get started.</p> <p>Let's get started:</p> <ol> <li> <p>Click the <code>+ New Dashboard</code> button.</p> <p></p> </li> <li> <p>Provide a useful <code>Name</code> for the Dashboard, such as <code>Pod##-Student#</code></p> <p></p> </li> <li> <p>Next, let\u2019s add a combination of visualizations that we want to capture</p> </li> <li>First, click the drop down on the upper right and change from <code>Metrics</code> to <code>Summaries</code></li> <li> <p>Within the <code>Summaries</code> list, click on, or drag the <code>Events</code> widget into the dashboard canvas</p> <p></p> </li> <li> <p>Within the <code>Events</code> tile now added to your dashboard, click the <code>Configure</code> button</p> </li> <li> <p>Within the right side menu bar, select the following:</p> <p>Dashboard Settings</p> Key Value View Mode Severity Timeline Show Active Only True Dataset <code>Access-Pod: IDF1</code> <p></p> </li> <li> <p>Dismiss the customization menu by clicking the  in upper right corner</p> </li> <li> <p>Next, change the <code>Summaries</code> menu back to <code>Metrics</code></p> <p></p> </li> <li> <p>Within the Metrics menu, click and drag a <code>Table</code> and a <code>Horizon Graph</code> to the canvas</p> <p>Drag the tiles</p> <p>You can drag the tiles around by the respective menu bars and resize each tile using the lower right corner handles.</p> <p></p> </li> <li> <p>Let's configure the <code>Table</code> first by clicking the then click the three-dots  menu and click <code>Configure</code></p> <p>Table Settings</p> Key Value Data Source Devices Metrics #1 802.1X Interface Count Metrics #2 CPU Utilization Metrics #3 Total Power Granted Metrics #4 ARP Table Size Metrics #5 Boot Time <p></p> </li> <li> <p>Dismiss the customization menu with the  button in upper right</p> </li> <li> <p>Now let's configure the <code>Horizon Graph</code> by clicking the then click the three-dots  menu and click <code>Configure</code></p> <p>Horizon Graph Settings</p> <p>Target your student device below!</p> Key Value Data Source Interfaces View Type Multiple Metrics for One Source Interface (device) <code>pod##-leaf1</code> Interface (interface) <code>Ethernet1</code> Metrics #1 Bitrate In Metrics #2 Bitrate Out Metrics #3 Operational Status Metrics #4 Interface Authentication State <p></p> </li> <li> <p>Dismiss the customization menu with the  button in upper right</p> </li> <li> <p>You can resize and drag the components around, but you should have a new dashboard that looks something like this.</p> <p></p> </li> <li> <p>Save and completed the dashboard customization by clicking the <code>Done</code> button in upper menu bar</p> </li> </ol>"},{"location":"a_wired/a04_lab/#events","title":"Events","text":"<p>In this section, we will explore the Events stream and the tools and filters to help process and manage critical errors versus informational data.</p> <ol> <li> <p>First, open <code>Events</code> from the menu bar</p> <p></p> </li> <li> <p>Next, select a different time frame for the summary visualization, click the current time selection and change this to <code>1 Hour</code></p> <p></p> </li> <li> <p>You can also toggle between a bar graph and event count display</p> Events GraphEvents Table <p></p> <p></p> </li> <li> <p>Focusing on the <code>Event List</code> next, Note the <code>Export</code> button to download the current Event list as CSV. Notice you can download <code>All Events</code> or only <code>Selected</code></p> <p></p> </li> <li> <p>Next, select the Gear  icon to toggle <code>Event List Roll Up</code>. This setting combines repeated events into groups. Toggle this On and Off, watch the effect this has on the list of Events.</p> <p></p> </li> <li> <p>Next, utilizing the Event Filters on the right pane is important to reduce the amount of data displayed.</p> Filter Settings Key Value Severity <code>Critical</code>, <code>Error</code> Type #1 `Unexpected Link Shutdown Type #2 <code>Device Clock Out of Sync</code> <p></p> </li> <li> <p>Acknowledge and Unacknowledging events</p> <ol> <li> <p>To acknowledge from the filtered event list, select specific events and Acknowledge them.</p> <p></p> </li> <li> <p>Adding a note is optional, select the <code>Acknowledge</code> button to mark these selected events.</p> <p></p> </li> <li> <p>Acknowledged events are not deleted from the event list, only flagged as acknowledged and can be referenced by changing the filtered <code>Acknowledgement State</code>. Click <code>Acknowledgement State</code> and select <code>Acknowledged</code></p> <p></p> </li> <li> <p>Un-acknowledging an event can be done in the same way, click the box to the left of the <code>Acknowledged event</code>, and click <code>Unacknowledge</code> at the top of the event list.</p> <p></p> </li> </ol> </li> <li> <p>Events and filtering lab section complete!</p> </li> </ol>"},{"location":"a_wired/a04_lab/#customize-notifications","title":"Customize Notifications","text":"<p>In this lab, you will configure CloudVision to send an email alert to an email address using the built-in \u201cSendGrid\u201d email service. There are other notification systems natively supported in CloudVision, but we'll focus on email for this lab (Example: email, chat, SNMP, Syslog, etc).</p> <ol> <li>Configure <code>SendGrid</code> email service.</li> <li>If you are not already, click on the <code>Events</code> menu option.</li> <li> <p>Click on the <code>Notifications</code> button in the top right of the screen.</p> <p></p> </li> <li> <p>Check the system status for the <code>Config back-end</code> and <code>Relay back-end</code></p> <p>Status Unknown!?</p> <p>Before receivers and notifications are configured, the status will be \u201cUnknown\u201d.</p> Status UnknownStatus Ready <p></p> <p></p> </li> <li> <p>Now, configure the SendGrid receiver by clicking on <code>Receivers</code> in the menu, then click on the <code>Add Receiver</code> button. Name the receiver <code>SendGrid for Campus ATD</code>, then click the <code>Add Configuration</code> button and select <code>SendGrid</code> from the menu options.</p> <p></p> </li> <li> <p>Type in a 'cvaas-alerts@arista.com' in the email address field. This is a shared email address that you can receive emails at during this lab and check the <code>Send notification when events are resolved</code> checkbox. Click the <code>Save</code> button in the upper right hand side of the screen to save your new receiver.</p> <p></p> </li> <li> <p>Once you are happy with receiver\u2019s configuration, click the <code>Save</code> button at the top of the screen</p> </li> <li> <p>Next, configure a <code>Rule</code> to use the new receiver. Click on the <code>Rules</code> menu option, then click <code>Add Rule</code></p> <p></p> </li> <li> <p>Configure <code>Rule Conditions</code> for this rule. Click on the <code>+ Device</code> button, then choose your switch from the <code>Device</code> drop down box.</p> Add DeviceSelect Device <p></p> <p></p> </li> <li> <p>Now click on the <code>+ Event Type</code> button. Add <code>Event Types</code> by choosing them from the drop down box as shown in the image below:</p> Add EventSelect Event <p></p> <p></p> </li> <li> <p>Select all of the severity options by clicking on the <code>+ Severity</code> button and choosing the options from the drop down box.</p> <p></p> </li> <li> <p>Next, choose your new <code>SendGrid for Campus ATD</code> receiver from the <code>Receiver</code> dropdown box, select the <code>Continue Checking Rules</code> box, and save your changes by clicking on the <code>Save</code> button.</p> <p>SAVE the changes!!</p> <p>Make sure to save your changes in this screen with the Save button along the top of your screen.</p> <p></p> </li> <li> <p>Now lets test your new receiver and rule</p> </li> <li> <p>Click on the <code>Status</code> menu option. Configure the <code>Test Notification Sender</code> by changing the <code>Event Type</code> to be <code>Device Stopped Streaming</code> and selecting your switch from the <code>Device</code> drop down box. Click the <code>Send Test Notification</code> button.</p> Send NotificationNotification Sent <p></p> <p></p> </li> <li> <p>After a minute or two, you should receive the email alert at the email address you configured in the Receiver</p> <p></p> </li> <li> <p>You can remove your event receiver to avoid additional emails before continuing!</p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed the Wired labs! \ud83c\udf89</p>"},{"location":"b_wireless/b00_lab/","title":"B-00 | Arista Wireless Setup","text":""},{"location":"b_wireless/b00_lab/#b-00-arista-wireless-setup","title":"B-00 | Arista Wireless Setup","text":""},{"location":"b_wireless/b00_lab/#overview","title":"Overview","text":"<p>The Arista Wireless AP management plane (CV-CUE) is hosted within Arista\u2019s public cloud presence, worldwide. In order to complete this lab section, a default gateway is pre-configured by event staff to facilitate internet connectivity.</p> <p>Arista Wireless Ports &amp; Protocols</p> <p>For more information on the TCP/UDP ports and protocols involved for management functions, see the links below:</p> <ul> <li>AP Wireless Manager Communication</li> <li>TCP/UDP Ports Used by Arista Wireless</li> </ul>"},{"location":"b_wireless/b00_lab/#cv-cue-login","title":"CV-CUE Login","text":"<p>If you're not already logged into CV-CUE, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wirless. Click into <code>CV-CUE (CloudVision Wifi)</code> tile to begin this lab.</p> <p></p> <p>Go to the Arista CloudVision CUE portal via: https://launchpad.wifi.arista.com/{target=\"_blank\"}</p>"},{"location":"b_wireless/b00_lab/#01-launchpad","title":"01 | Launchpad","text":"<p>Launchpad is the portal to access your Arista cloud services including WiFi Management (CV-CUE) and AGNI (Network Access Control). When you open the launcher, you are presented with management applications on the Dashboard menu and access controls with the Admin menu.</p> <p>Dashboard Applications Summary:</p> <ul> <li>CV-CUE (CloudVision WiFI): Wireless management and monitoring</li> <li>Canvas: Access portal splash pages, and marketing Campaign management.</li> <li>Guest Manager: Analyze and report on user activity within your environment.</li> <li>Nano: Manage your environment from your smartphone</li> <li>Packets: An online packet capture (.pcap) debug tool allowing you to examine the association and packet information.</li> <li>WiFi Resources: Includes documentation and over 6 \u00bd hours of training, also included.</li> <li>WiFi Device Registration: Process for importing APs onto your account</li> <li>AGNI (Beta): Arista Guardian for Network Identity (Network Access Control)</li> </ul>"},{"location":"b_wireless/b00_lab/#wifi-device-registration","title":"WiFi Device Registration","text":"<p>In light of time, we have done this for you. However, we will review how Arista Access Points are onboarded through Launchpad.</p> <p>These steps have already been done for you!</p> <p>Arista AP serial numbers are automatically assigned to the user\u2019s CV-CUE staging area when purchased. In addition, specific devices can be registered for management using the WiFi Device Registration  function, accessible from Launchpad Dashboard.</p> <p>Device registration requires both the:</p> <ul> <li> Serial Number</li> <li> Registration Key</li> </ul> <p>This information found on the back of the APs. Additionally, a CSV containing this information can be uploaded for bulk registration operations.</p> <p>Within the Import Function you can provide individual AP serials and keys or upload a CSV.</p>"},{"location":"b_wireless/b00_lab/#02-cv-cue-access","title":"02 | CV-CUE Access","text":"<p>CloudVision CUE - Cognitive Unified Edge, provides the management plane and monitoring functions for the Arista WiFi solution.</p> <ol> <li> <p>You should have clicked on the <code>CV-CUE (CloudVision WiFi)</code> Tile in the LaunchPad from the Dashboard menu.</p> </li> <li> <p>When the CV-CUE interface launches, you are presented with an initial dashboard to monitor your wireless environment at a glance, we will revisit these metrics later in the lab. Since this is a new setup the initial dashboard screen will be mostly empty.</p> </li> <li> <p>Use the left menu bar to select monitoring and configuration functions.</p> </li> <li> <p>Take careful note of the Locations Hierarchy indicator throughout the user interface. This indicates which container you are monitoring or configuring.</p> </li> <li> <p>The primary menu navigation functions are the following:</p> <ul> <li>Dashboard: Alerts, Client Access, Infrastructure health, Application Experience, and WIPS</li> <li>Monitor: Monitor and explore Clients, APs, Radios, SSIDs, Application traffic, Tunnels</li> <li>Configure: WiFi SSIDs, APs and Radios, Tunnels, RADIUS, and WIPS settings</li> <li>Troubleshoot: Client connection test, packet trace, live debug logs, historic logging</li> <li>Engage: User insights, Presence, Usage, 3<sup>rd</sup> party integrations</li> <li>Floor Plans: Floor layouts and AP location map view</li> <li>Reports: Detailed information for Infrastructure APs/Radios, Client Connectivity and Experience, WIPS detections</li> <li>System: Locations Hierarchy, AP Groups, 3<sup>rd</sup> party server settings, keys and certificates</li> </ul> </li> </ol> <p>In addition to the menu bar navigation and Locations Hierarchy, the UI provides a common Search bar, Metric summary, and Help button throughout workflows.</p> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"b_wireless/b01_lab/","title":"B01 - Wireless Setup","text":""},{"location":"b_wireless/b01_lab/#b-01-arista-wireless-setup","title":"B-01 | Arista Wireless Setup","text":""},{"location":"b_wireless/b01_lab/#overview","title":"Overview","text":"<p>In this lab we are going to explore the Arista Launchpad in more depth, explain how Access Points are onboarded, configured, and troubleshot in a live environment.</p>"},{"location":"b_wireless/b01_lab/#topology","title":"Topology","text":"Lab Topology"},{"location":"b_wireless/b01_lab/#cv-cue-login","title":"CV-CUE Login","text":"<p>If you're not already logged into CV-CUE, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wirless. Click into <code>CV-CUE (CloudVision Wifi)</code> tile to begin this lab.</p> <p></p>"},{"location":"b_wireless/b01_lab/#arista-launchpad","title":"Arista Launchpad","text":"<p>Launchpad is the portal to access your Arista cloud services including WiFi Management (CV-CUE) and AGNI (Network Access Control). When you open the launcher, you are presented with management applications on the<code>Dashboard</code> menu and access controls with the<code>Admin</code> menu.</p> <p>When you open the launcher, you are presented with multiple applications. Each is included with the subscription (as is support).</p> <p></p> <ul> <li> CV-CUE CloudVision-WiFi: Wireless Manager.</li> <li> Guest Manager: looks at the users and how they are interacting with your environment.</li> <li> Nano: manage your environment from your smartphone</li> <li> Packets: an online .pcap debug allowing you to examine the packet information.</li> <li> WiFi Resources\" includes documentation and over 6 \u00bd hours of online training, also included.</li> <li> WiFi Device Registration: application for importing APs into your account</li> <li> AGNI: network access control</li> <li> CVP Staging (CloudVision Portal): switch Management and staging Environment</li> </ul>"},{"location":"b_wireless/b01_lab/#add-a-user-and-assign-privileges","title":"Add a User and Assign Privileges","text":"<ol> <li>First, use the Admin menu to add a user.</li> <li> <p>Click on the Admin Tab at the top of the Launchpad window:</p> <p></p> </li> <li> <p>Overview of Launchpad Admin menu:</p> <ol> <li>Users - Assign Access to users with different access levels as well as to specific folders</li> <li>Keys - Used with API integrations</li> <li>Profiles - Defines Access levels to CV-CUE, LaunchPad, and Guest Manager</li> <li>Logs - Download User Action Logs</li> <li>Settings - Lockout Policy, Password Policy, and 2-Factor settings</li> </ol> </li> </ol> <p>Authentication</p> <p>CloudVision CUE authenticates users via SAML directory integration or via the Launchpad identity providers. These can be customized with local users in Launchpad or directory single-sign-on users. More information on Arista Communities, Integrating Third-Party SAML Authentication Providers</p>"},{"location":"b_wireless/b01_lab/#ap-registration","title":"AP Registration","text":"<p>Reference Information</p> <p>For this lab, these steps have already been done for you by event staff.</p> <p>Arista AP serial numbers are automatically assigned to the user\u2019s CV-CUE staging area when purchased. In addition, specific devices can be registered for management using the <code>WiFi Device Registration</code> function, accessible from <code>Launchpad Dashboard</code>.</p> <ol> <li> <p>Let\u2019s click on the <code>Dashboard</code> menu option on the left hand side of the screen. This opens the <code>Dashboard Overview</code> screen which provides us with numerous metrics for our wireless environment.</p> <p></p> </li> <li> <p>Within the <code>Import</code> function you can provide individual AP serials and keys or upload a CSV.</p> <p></p> </li> <li> <p>Assign Access points to Wireless Manager Service</p> <p></p> </li> </ol>"},{"location":"b_wireless/b01_lab/#cv-cue-cloudvision-wifi-access","title":"CV-CUE CloudVision WiFi Access","text":"<p>CloudVision CUE - Cognitive Unified Edge, provides the management plane and monitoring functions for the Arista WiFi solution.</p> <ol> <li> <p>Click on the <code>CV-CUE (CloudVision WiFi)</code> Tile in the LaunchPad from the Dashboard menu.</p> <p></p> </li> <li> <p>When the CV-CUE interface launches, you are presented with an initial dashboard to monitor your wireless environment at a glance, we will revisit these metrics later in the lab. Since this is a new setup the initial dashboard screen will be mostly empty.</p> <p></p> </li> <li> <p>Use the left menu bar to select monitoring and configuration functions.</p> <p></p> </li> <li> <p>The primary menu navigation functions are the following:</p> <ol> <li>Dashboard - Alerts, Client Access, Infrastructure health, Application Experience, and WIPS</li> <li>Monitor - Monitor and explore Clients, APs, Radios, SSIDs, Application traffic, Tunnels</li> <li>Configure - WiFi SSIDs, APs and Radios, Tunnels, RADIUS, and WIPS settings</li> <li>Troubleshoot - Client connection test, packet trace, live debug logs, historic logging</li> <li>Engage - User insights, Presence, Usage, 3<sup>rd</sup> party integrations</li> <li>Floor Plans - Floor layouts and AP location map view</li> <li>Reports - Detailed information for Infrastructure APs/Radios, Client Connectivity and Experience, WIPS detections</li> <li>System - Locations Hierarchy, AP Groups, 3<sup>rd</sup> party server settings, keys and certificates</li> </ol> </li> <li> <p>In addition to the menu bar navigation and Locations Hierarchy, the UI provides a common Search bar, Metric summary, and Help button throughout workflows.</p> <p></p> </li> </ol>"},{"location":"b_wireless/b01_lab/#assign-ap-name","title":"Assign AP Name","text":"<p>Access points that successfully receive an IP address, DNS, and default gateway via DHCP, and have connectivity over HTTPS/TCP/443 to CV-CUE.</p> <ol> <li> <p>Using the left navigation bar in CV-CUE, navigate to <code>Monitor &gt; WiFi</code>.</p> <p></p> </li> <li> <p>Select the <code>Access Points</code> section and observe the discovered AP and default name <code>Arista_</code> and the last 3 bytes of the MAC address.</p> </li> <li> <p>Customize the AP\u2019s name by clicking the 3-dots menu and Rename</p> <p></p> </li> <li> <p>Give the AP a name such as: <code>POD##-AP1</code> or <code>POD##-AP2</code> where ## is a 2 digit character between 01-12 that was assigned to your lab/Pod.</p> <p></p> <p></p> </li> </ol>"},{"location":"b_wireless/b01_lab/#managing-the-configuration-hierarchy","title":"Managing the Configuration Hierarchy","text":"<p>Within CV-CUE, much of the configuration is hierarchical, so everything you configure will be inherited from that level and it's children.</p>"},{"location":"b_wireless/b01_lab/#moving-ap-to-location","title":"Moving AP to Location","text":"<p>Expand the <code>Locations</code> pane by clicking on the hamburger icon . Now select the three dots  to the left of <code>Locations</code> and click on <code>Manage Navigator</code>.</p> <p></p> <ol> <li><code>Manage Navigator</code> is where you create Folders, Floors, and Groups.<ol> <li>Folders typically represent a company, branch office name or division.</li> <li>Floors are straightforward and are where maps are placed.</li> <li>Groups are a way to make a configuration more granular. Let\u2019s say you want a branch location to have all of the same configuration but Outdoor APs need to vary from that. You would create a group for the Outdoor APs, put the APs into that group and override the part of the configuration that is unique. Think of your company and how you would want to lay it out.</li> </ol> </li> <li> <p>Add a <code>Folder</code> for your Company Name. In the <code>Navigator</code>, select the 3 dots  next to <code>Locations</code>. Select <code>Add Folder/Floor</code></p> <p></p> </li> <li> <p>Add a new folder using the settings below, depending on your student assignment</p> Folder Name Student Folder Name Student1 <code>ACorp</code> Student2 <code>ACorp</code> <p></p> </li> <li> <p>Next, create a <code>Floor</code> called <code>1st Floor</code>.  Click on the word <code>A/BCorp</code> to expose the 3 dots menu.</p> <p></p> Add Multiple Floors <p>It\u2019s also possible to add multiple floors at once using the <code>Add Multiple Folders/Floors</code> menu option</p> <p> </p> <p>Use the <code>*</code> key to create floors instead of folders</p> </li> <li> <p>Next, move your AP into the <code>1st Floor</code> you created. To move your AP from the staging area, Alternate click on the <code>Staging Area</code> folder, and select <code>Show Available Devices</code>.</p> <p></p> </li> <li> <p>Next, right click on the AP name, select <code>Move</code> and then select the <code>1st Floor</code> folder you created earlier, and then click the <code>Move</code> button at the bottom of the screen.</p> Step 1: AP MoveStep 2: AP MoveStep 3: AP Move <p></p> <p></p> <p></p> </li> <li> <p>You\u2019ll see a pop-up message to confirm the move. Click <code>Move</code> again to finish the process</p> </li> <li> <p>You can verify the move by selecting the <code>1st Floor</code> folder and then <code>Show Available Devices</code>.</p> <p></p> </li> </ol>"},{"location":"b_wireless/b01_lab/#adjusting-powerchannels","title":"Adjusting Power/Channels","text":"<p>For this workshop event, we will be reducing WiFi Radio channel width and transmit power levels to avoid interference with the hosting facility.</p> <ol> <li>To customize these power settings:  Navigate to the <code>Configure &gt; Device &gt; Access Points</code> menu</li> <li> <p>Once in that menu, ensure that <code>ACorp</code> or <code>BCorp</code> is selected from the tree structure on the left. If you do not see the tree structure, click the hamburger icon next to <code>Locations</code> in the top left to expose the tree.</p> </li> <li> <p>Set the following parameters under the <code>WiFi Radios</code> tab and <code>5GHz</code> (you can ignore 2.4GHz) and you will override the following:</p> <ul> <li>Channel Selection: Select <code>Manual</code> and see the \"Channel Settings\" table below.</li> <li>Channel Width: <code>20MHz</code></li> <li>Transmit Power: <code>Manual</code> to <code>4bBm</code></li> </ul> <p>My settings are greyed out</p> <p>At the bottom of your screen you may need to select to override the inheritance policy. It should state: <code>Click here to enable editing and customize the policy</code>.</p> <p>Find your pod number and assigned student number, set the <code>Candidate Channel</code></p> All Channel Settings Pod Student 2.4 GHz 5.GHz Channel Width Transmit Power 01 1 Disabled 36 20MHz 4bBm 02 2 Disabled 44 20MHz 4bBm 03 3 Disabled 52 20MHz 4bBm 04 4 Disabled 60 20MHz 4bBm 05 5 Disabled 100 20MHz 4bBm 06 6 Disabled 108 20MHz 4bBm 07 7 Disabled 120 20MHz 4bBm 08 8 Disabled 128 20MHz 4bBm 09 9 Disabled 136 20MHz 4bBm 10 10 Disabled 144 20MHz 4bBm 11 11 Disabled 153 20MHz 4bBm 12 12 Disabled 161 20MHz 4bBm </li> <li> <p>Click <code>Save</code> at the bottom of the page then click <code>Continue</code> to confirm.</p> </li> <li>Click <code>Continue</code> to commit changes</li> </ol>"},{"location":"b_wireless/b01_lab/#assign-floor-plan","title":"Assign Floor Plan","text":"<p>Let's assign a floor plan to our <code>1st Floor</code> for our respective corporation. Depending on the lab guide format, you can either save the image here or download from the email. We are going to use this image and import it into CV-CUE.</p> <p> Download MkDocs Site</p> <p>If you are viewing this guide as a MkDocs site, simply right click the image below and <code>Save Image As</code> to your Desktop.</p> <p> Use your favorite snip program</p> <p>On your Mac, <code>Command+Shitt+5</code> and snip the image here and save that image to your computer. On Windows, use your favorite snip program to capture the image below and save it to your computer.</p> <p></p> <ol> <li> <p>In the left hand menu, click on <code>Floor Maps</code>.  Make sure to set the location level to be <code>CorpA/B - 1st Floor</code>.  Click the <code>Add Floor Plan</code> button in the upper right corner of the screen.</p> <p></p> </li> <li> <p>Enter floor name as <code>1st Floor</code>, click the <code>Upload Image</code> button to import the floor plan image, and use the following dimensions:  Floor Plan Dimensions: Unit: Feet, Length: 120, Width: 60</p> Floor Plan Settings Key Value Unit Feet Length 120 Width 60 <p></p> </li> <li> <p>Click <code>Save</code> at the bottom of the screen.</p> </li> <li> <p>Next, drag the AP onto the map, from the right hand side menu, to see how easy placing APs is. Choose <code>Place Access Points</code>.</p> I don't see my AP? <p>If you do not see an AP, it is because your AP is assigned to another location (folder) and you\u2019ll need to move it to the <code>1st Floor</code> folder (see steps above). Or, you may have the incorrect menu selected in the upper right hand corner of the screen.</p> <p></p> Screenshots <p></p> <p></p> </li> <li> <p>Hover over the AP image to get more information and then <code>right-click on the AP</code> image to see more options.</p> <ul> <li></li> <li></li> </ul> </li> <li> <p>Next, explore the other menu options like <code>Start LED Blinking</code> (in the menu on the right hand side of the screen).</p> <p></p> </li> <li> <p>Try exploring the <code>Event Logs</code> under the <code>Troubleshoot</code> menu</p> </li> </ol>"},{"location":"b_wireless/b01_lab/#creating-a-psk-ssid","title":"Creating a PSK SSID","text":"<p>The <code>Configure</code> section of CV-CUE is broken into several parts, including <code>WiFi</code>, <code>Device</code>,<code>Network Profiles</code>, <code>WIPS</code>, and <code>Alerts</code>.</p> <p>In this section of the lab, we will be working in the <code>WiFi</code> configuration area. We will create an SSID with a WPA2 PSK for you CorpA/B site.</p> <ol> <li> <p>Hover your cursor over the <code>Configure</code> menu option on the left side of the screen, then click <code>WiFi</code>.</p> <p></p> </li> <li> <p>At the top of the screen, you will see where you are in the location hierarchy. Click on the three lines  next to <code>Locations</code> to expand the hierarchy and choose/highlight the <code>CorpA</code> or <code>CorpB</code> folder. Now click the <code>Add SSID</code> button on the right hand side of the screen.</p> Hierarchy CollapsedHierarchy Expanded <p></p> <p></p> </li> <li> <p>Once on the <code>SSID</code> page, configuration sub-category menu options will appear across the top of the page related to WiFi (the defaults are <code>Basic</code>, <code>Security</code>, and <code>Network</code>). You can click on these sub-category names to change configuration items related to that area of the configuration.</p> </li> <li> <p>To make additional categories visible, click on the 3 dots  next to <code>Network</code> and you can see the other categories that are available to configure (<code>Wifi7</code>,<code>Access Controls</code>, <code>Captive Portal</code>, etc.).</p> <p></p> </li> <li> <p>Walk through the steps (tabs) below to configure the SSID</p> Step 1: SSIDBasicStep 2: SSID SecurityStep 3: SSID Network <p>In the <code>Basic</code> sub-category option, name the SSID <code>ATD-##A/B-PSK</code> (where ## is the pod number you were assigned).  The <code>Profile Name</code> is used to describe the SSID and should have been auto-filled for you.</p> <p>Since this is our corporate SSID, leave the <code>Select SSID Type</code> set to <code>Private</code></p> <p>Guest SSID</p> <p>Note: this is where you would change it to <code>Guest</code> if needed.</p> <p></p> <p>In the <code>Security</code> sub-category, change the following settings, then select <code>Next</code> at the bottom of the screen.</p> <p></p> <p>In the <code>Network</code> configuration sub-category, we\u2019ll leave the <code>VLAN ID</code> set to <code>0</code>, which means it will use the native VLAN. If the switchport the AP is attached to is trunked, you could change this setting to whichever VLAN you want the traffic dropped off on. We are using <code>Bridged</code> mode in this lab. You could use the following for specific scenarios:</p> <ol> <li><code>NAT</code>: often done for Guest</li> <li><code>L2 Tunnel</code> / <code>L3 Tunnel</code>: as you would see for a Guest Anchor or tunneled corporate traffic</li> </ol> <p></p> SSID Name Student Student 1 Student 2 SSID Name <code>ATD-##-PSK</code> <code>ATD-##-PSK</code> Profile Name Auto Fill Auto Fill Association Type (drop down) WPA2 WPA2 Authentication (radio button) PSK PSK Passphrase <code>Wireless!123</code> <code>Wireless!123</code> </li> <li> <p>The rest of the settings can be left at the default values.</p> </li> <li>Click the <code>Save &amp; Turn SSID On</code> button at the bottom of the page.</li> <li> <p>You will be prompted to customize before enabling, check the <code>Customize</code> button</p> <p></p> </li> <li> <p>Only select the <code>5 GHz</code> option on the next screen (un-check the <code>2.4 GHz</code> box), then click <code>Turn SSID On</code>.</p> <p></p> </li> <li> <p>After you turn on the SSID, hover your cursor over <code>Monitor</code> in the left hand side menu, and then click <code>WiFi</code>.</p> <p></p> </li> <li> <p>Now, in the menu options at the top of the page, look at the <code>Radios</code> menu option. Is the 5 GHz radio  (Up) and 2.4 GHz radio  (down)?</p> It may take a minute or two for the radio to become active. <p></p> </li> <li> <p>Next, go ahead and connect your phone to the SSID (PSK is <code>Wireless!123</code>).  Navigate to the <code>Clients</code> menu at the top of the screen and you should see your device.</p> <p></p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"b_wireless/b02_lab/","title":"B02 - WiFi Troubleshooting","text":""},{"location":"b_wireless/b02_lab/#b-02-wifi-troubleshooting","title":"B-02 | WiFi Troubleshooting","text":""},{"location":"b_wireless/b02_lab/#overview","title":"Overview","text":"<p>Explore the wireless troubleshooting features.</p>"},{"location":"b_wireless/b02_lab/#client-troubleshooting","title":"Client Troubleshooting","text":"<ol> <li>Make sure you are at your correct folder (<code>ACorp</code>  or <code>BCorp</code>) in the hierarchy</li> <li> <p>Hover over <code>Troubleshoot</code> in the left hand menu, then click <code>Packet Trace</code>.</p> <p></p> </li> <li> <p>On the top right hand side of the window, click <code>Auto Packet Trace</code> and select the checkbox for the SSID you created earlier (<code>ATD-##A-PSK</code>).</p> <p></p> <p></p> </li> <li> <p>Click <code>Save</code> at the bottom of the window.</p> I don't see my AP? <p>If you don\u2019t see the SSID listed, make sure you are in the correct folder in the navigation pane.</p> </li> <li> <p>Next, connect your device to the AP and type in the wrong PSK.</p> </li> <li>Hover your cursor over the <code>Monitor</code> menu on the left hand side of the screen, then click <code>WiFi</code>.</li> <li> <p>Now click on <code>Clients</code> at the top of the page. You should see your device trying to connect.</p> <p></p> </li> <li> <p>Select on the three dots  next to the device name and select <code>Start Live Client Debugging</code>.</p> <p></p> </li> <li> <p>Select <code>30 Minutes</code> in the <code>Time Duration</code> drop down box, select the <code>Discard Logs</code> radio button, then click <code>Start</code>.</p> <p></p> </li> <li> <p>Next, try connecting the device again with the  Wrong PSK. Watch and review the <code>Live Client Debugging</code> Log.</p> <p></p> </li> <li> <p>After that fails, try again with the  correct PSK (<code>Wireless!123</code>) and review the logs.</p> </li> <li> <p>Once your device has successfully connected to the AP, click on the client name to learn more about the client (on the previous browser tab).</p> <ul> <li></li> <li></li> </ul> </li> <li> <p>After you click on the client name you can gather additional information such as:</p> <ol> <li>Root Cause Analysis</li> <li>Client Events</li> <li>Data Rate</li> <li>Top Apps by Traffic</li> <li>Client Traffic Volume</li> <li>Application Experience</li> <li>etc.</li> </ol> </li> <li> <p>Scroll down a little to the <code>Client Events</code> section select the icon to <code>Switch to Table View</code>.</p> <p></p> </li> <li> <p>Here you can see the success/failure messages, DHCP information, and other events.</p> </li> <li> <p>Scroll down to the failed incorrect PSK entry and select <code>View Packet Trace</code> in the <code>Packet Capture</code> column (you may have to scroll to the right).</p> <p></p> </li> <li> <p>You should see a packet trace that you can download. Click on <code>View Packet Trace</code>.</p> </li> <li> <p>Select <code>Open</code> to open the file right within CV-CUE or the Packets Application. You will be in the <code>Visualize</code> section of Packets.</p> <p></p> </li> <li> <p>You can also download the trace and view it with WireShark if you have it installed.</p> <p></p> </li> <li> <p>Click on <code>Time View</code> and <code>Frames</code> to look through the data and at the trace to see how Arista can help you troubleshoot.</p> </li> <li> <p>Next, click on the back arrow icon to look at the \u201cAnalyze\u201d feature.</p> <p></p> </li> <li> <p>Explore the <code>Analyze</code> feature by clicking on the various menu options and reviewing the data.</p> <p></p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"b_wireless/b03_lab/","title":"B03 - Guest Wireless with AGNI","text":""},{"location":"b_wireless/b03_lab/#b-03-guest-wireless-with-agni","title":"B-03 | Guest Wireless with AGNI","text":""},{"location":"b_wireless/b03_lab/#overview","title":"Overview","text":""},{"location":"b_wireless/b03_lab/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"b_wireless/b03_lab/#agni-guest-captive-portal","title":"AGNI Guest Captive Portal","text":"<p>Let's configure a Guest Captive Portal using AGNI for wireless clients. To configure the guest portal, you must configure both AGNI and CV-CUE.</p> Important: Your access points need to be onboarded in AGNI with RadSec before proceeding. Follow the steps here <ol> <li> <p>Navigate to <code>Guest &gt; Portals</code> under the section <code>Identity</code>.</p> <p></p> </li> <li> <p>Click <code>+ Add Guest Portal</code> and configure the following</p> Network Settings Field Student 1 Student 2 Portal Name <code>ATD-##-GUEST</code> <code>ATD-##-GUEST</code> Authentication Types Clickthrough Clickthrough Re-Authuthenticate Guest Always Always CAPTCHA Disabled Disabled <p></p> </li> <li> <p>Click the Customization tab to customize the portal settings, and notice the elements. When done, click <code>Add Guest Portal</code>. The portal gets listed in the portal listing.</p> <ul> <li> Page</li> <li> Login Toggle</li> <li> Terms of Use and Privacy Policy</li> <li> Logo</li> <li> Guest Login Submit Button</li> <li> Etc</li> </ul> <p></p> </li> <li> <p>Click <code>Back</code></p> </li> <li> <p>Navigate to the <code>Networks</code> under the section <code>Access Control</code>. Click on <code>+ Add Network</code></p> <p></p> </li> <li> <p>Add a new network with following settings</p> Network Settings Field Student 1 Student 2 Name <code>ATD-##-GUEST</code> <code>ATD-##-GUEST</code> Connection Type Wireless Wireless SSID <code>ATD-##-GUEST</code> <code>ATD-##-GUEST</code> Authentication Type Captive Portal Captive Portal Captive Portal Type Internal Internal Select Internal Portal <code>ATD-##-GUEST</code> <code>ATD-##B-GUEST</code> Internal Role for Portal Authentication <code>Portal ## Role</code> <code>Portal ## Role</code> <p></p> </li> <li> <p>Click <code>Add Network</code>.</p> </li> <li> <p>Copy the portal URL at the bottom of the page.</p> <p>AGNI URL</p> <p>Make sure to copy the AGNI Guest Portal URL, we are going to use this in CV-CUE for Guest Portal Redirection.</p> </li> </ol>"},{"location":"b_wireless/b03_lab/#radsec-installing-the-ap-certificate","title":"RadSec | Installing the AP Certificate","text":""},{"location":"b_wireless/b03_lab/#what-is-radsec","title":"What is RadSec?","text":"<p>RadSec is a protocol that supports RADIUS over TCP and TLS. For mutual authentication it is required to install a client certificate with corresponding private key as well as your AGNI CA certificate.</p> <p>With the proliferation of IoT devices, mobile users, and remote access, networks have become more complex and diverse, making traditional RADIUS susceptible to eavesdropping and man-in-the-middle attacks. RadSec's integration of secure Transport Layer Security (TLS) encryption addresses these vulnerabilities, providing a robust defense against unauthorized access, data interception, and tampering.</p> <p>Arista Switches can form a RadSec tunnel using SSL encryption with AGNI:</p> <ul> <li>AGNI integrates with network infrastructure devices (wired switches and wireless access points) through a RadSec tunnel over <code>Port 2083</code></li> <li>The highly secure and encrypted tunnel offers complete protection to the communications that happen in a distributed network environment. This mechanism offers much greater security to AAA workflows when compared with traditional unencrypted RADIUS workflows.</li> </ul> <p>More information on RadSec</p> <ul> <li>Configuring a RadSec profile in EOS</li> <li>RADIUS Dynamic Authorization over TLS</li> </ul> <p>Open AGNI and CV-CUE</p> <p>When applying the Certificate to the AP it is recommended to have both the CV-CUE and AGNI windows opened side by side. - Login to CV-CUE - Login to AGNI</p>"},{"location":"b_wireless/b03_lab/#configure-radsec","title":"Configure RadSec","text":"<p>It's important to identify if the wired or wireless device you are configuring is manufactured with a Trusted Platform Module (TPM) chip. This chip contains the required certificate used for RadSec. However, if the TPM chip does not exist, CV-CUE supports Custom Certificate Management for Access Points.</p> <p>More information on TPM</p> <ul> <li>Wireless TPM vs Non-TPM</li> <li>TPM chip APs - RadSec Tunnel Configuration</li> <li>Non-TPM chip APs - RadSec Tunnel with Custom Certificate</li> </ul>"},{"location":"b_wireless/b03_lab/#summary","title":"Summary","text":"<ol> <li>Launchpad Add AP and assign the Service</li> <li>CV-CUE Create a Folder and move the AP</li> <li>CV-CUE Generate CSR TAG and then Download CSR <code>.zip</code>, unzip for the .CSR</li> <li>AGNI Add the device as a new AP under Access Devices</li> <li>AGNI Click on your AP and then select Get Client Certificate</li> <li>AGNI Upload the CSR and Generate Certificate</li> <li>CV-CUE Click on your AP and Upload Device Certificate and select TAG and <code>AP.pem</code> file</li> <li>AGNI Under Administration click on RadSec settings and download Cert and copy hostname</li> <li>CV-CUE In your Folder, Create a RADIUS RadSec server and apply the RadSec Cert from AGNI and Select your CSR TAG -&gt; FQDN: <code>radsec.beta.agni.arista.io</code></li> <li>CV-CUE Create an SSID and point to the RADIUS client you created using WPA2 802.1X RadSec.</li> <li>AGNI Create a User Account</li> <li>AGNI Add Client</li> <li>AGNI Under Networks, recommend starting with just a MAC auth example to make sure everything is running like you expected and point it to your SSID</li> </ol>"},{"location":"b_wireless/b03_lab/#detailed-steps","title":"Detailed Steps","text":"<ol> <li><code>CV-CUE</code><ol> <li>First we Generate a CSR. Click on <code>Monitor &gt; WiFi Access Points</code></li> <li>On right hand side on top and click on <code>Certificate Actions</code></li> <li>Next, right click on the AP and select <code>Generate CSR</code> and select your <code>Certificate Tag</code>.</li> <li>Next, right click on the AP and select <code>Download CSR</code> and select your <code>Certificate Tag</code>.</li> <li>Unzip the CSR File</li> </ol> </li> <li><code>AGNI</code><ol> <li>Click on Access Devices and Select the AP.</li> <li>Access Devices \u2192 Devices \u2192 Select AP \u2192 Get Client Certificate</li> <li>Select Get Client Certificate.</li> <li>Next, select <code>Generate Certificate: Use CSR (Single Device)</code>, and select <code>Action: Upload CSR File</code>, and browse to and select the CSR file that you unzipped earlier in the process.</li> <li>Select <code>Generate Certificate</code> and the AP Client Certificate will be created and downloaded to your device.</li> </ol> </li> <li><code>CV-CUE</code><ol> <li>Upload the Device Certificate</li> <li>Go to <code>Monitor \u2192 WiFi \u2192 Access Points \u2192 Select AP \u2192 Certificate \u2192 Upload Device Certificate</code>, and upload the Client/Device Certificate that was downloaded to your device. Use the same Certificate Tag as when you Downloaded the CSR above.</li> </ol> </li> <li><code>AGNI</code><ol> <li>Click on Access Devices and then Devices look at the RadSec Status.</li> <li>If the AP does not connect, issue a reboot.</li> </ol> </li> </ol>"},{"location":"b_wireless/b03_lab/#cv-cue-login","title":"CV-CUE Login","text":"<p>If you're not already logged into CV-CUE, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wirless. Click into <code>CV-CUE (CloudVision Wifi)</code> tile to begin this lab.</p> <p></p>"},{"location":"b_wireless/b03_lab/#role-profile-cv-cue","title":"Role Profile (CV-CUE)","text":"<p>Let's configure two role profiles and the SSID settings. This will ensure our guest SSID we will create is enabled with redirection to AGNI captive portal. These roles are</p> <ul> <li>Portal (A/B) Role: This role will be assigned initially to ensure captive portal redirection</li> <li>Guest (A/B) Role: This role will be assigned by AGNI to drop our client into a \"Guest Role\" where we can further define policy</li> </ul>"},{"location":"b_wireless/b03_lab/#portal-role-profile","title":"Portal Role Profile","text":"<ol> <li> <p>Log in to CV-CUE and navigate to <code>Configure &gt; Network Profiles &gt; Role Profile</code>.</p> <p></p> </li> <li> <p>Add a <code>Role Profile</code> using the setting below</p> Network Settings Field Student 1 Student 2 Role Name <code>Portal ## Role</code> <code>Portal ## Role</code> Profile Name <code>Portal ## Role</code> <code>Portal ## Role</code> Redirection Enabled Enabled Redirection Type Static Redirection Static Redirection Redirect URL <code>&lt;Copied from AGNI&gt;</code> <code>&lt;Copied from AGNI&gt;</code> HTTPS Redirection Enabled Enabled Common Name www.arista.com www.arista.com Organization Arista Networks Arista Networks Organization Unit Arista Networks Arista Networks <p></p> </li> <li> <p>Click <code>Save</code> at the bottom of the page.</p> </li> </ol>"},{"location":"b_wireless/b03_lab/#guest-role-profile","title":"Guest Role Profile","text":"<p>Next, we\u2019ll configure a Guest Role in CV-CUE to assign to Guest Users post authentication.</p> <ol> <li> <p>In CV-CUE, navigate back to <code>Configure &gt; Network Profiles &gt; Role Profile</code>.</p> </li> <li> <p>Click <code>Add Role Profile</code>.</p> </li> <li> <p>Add the <code>Role Name</code> as follows, this role is simple, but see the additional information below to explore some of the options you have with roles.</p> Network Profiles Field Student 1 Student 2 Role Name <code>Guest ## Role</code> <code>Guest ## Role</code> <p></p> </li> <li> <p>Click <code>Save</code> at the bottom of the page</p> </li> <li> <p>You should now have two roles, we will refer back to these roles in both the AGNI and CUE SSID configuration.</p> <p></p> </li> </ol>"},{"location":"b_wireless/b03_lab/#additional-information","title":"Additional Information","text":"<ul> <li> <p> VLAN</p> <p>In this lab the VLAN is set to 0. In production networks you would define the Guest VLAN ID or Name that you want to assign to the Guest Users.</p> </li> <li> <p> Firewall</p> <p>Layer 3-4 and Application Firewall Rules can be assigned to the Guest User Role.</p> </li> <li> <p> User Bandwidth Control</p> <p>Upload and Download Bandwidth Limits can be assigned to the Guest User Role.</p> </li> </ul>"},{"location":"b_wireless/b03_lab/#portal-segment-agni","title":"Portal Segment (AGNI)","text":"<p>Next, we\u2019ll configure a Segment in AGNI to assign the Guest Role Profile post authentication.</p> <ol> <li>Go back to AGNI and navigate to the Access Control &gt; Segments.</li> <li> <p>Add a new Segment by clicking on <code>+ Add Segment</code></p> <p>Conditions for segments must MATCH ALL conditions line by line.</p> Network Settings Field Student 1 Student 2 Name <code>ATD-##-GUEST</code> <code>ATD-##-GUEST</code> Condition <code>Network:Name is ATD-##-GUEST</code> <code>Network:Name is ATD-##-GUEST</code> Action <code>Arista-WiFi:Assign Role Profile</code> <code>Arista-WiFi:Assign Role Profile</code> Action Role Profile <code>Guest ## Role</code> <code>Guest ## Role</code> <p></p> </li> <li> <p>Click <code>Add Segment</code> at the bottom of the page.</p> </li> <li>Let's now add the Guest SSID</li> </ol>"},{"location":"b_wireless/b03_lab/#guest-portal-ssid-cv-cue","title":"Guest Portal SSID (CV-CUE)","text":"<p>Lastly, we\u2019ll configure and enable the Guest Captive Portal SSID and assign the pre and post authentication roles.</p> <ol> <li>Let's navigate back to CV-CUE</li> <li> <p>Select Correct location <code>ACorp</code> (student 1) or <code>BCorp</code> (student 2)</p> <p>CV-CUE Locations</p> <p>Reminder, make sure you have selected your appropriate corporation before creating the SSID!</p> </li> <li> <p>Navigate to <code>Configure &gt; WiFi</code> and click on <code>Add SSID</code></p> <p></p> </li> <li> <p>Configure the SSID <code>Basic</code> settings using the settings below</p> SSID Basic Settings Setting Student 1 Student 2 SSID Name <code>ATD-##-GUEST</code> <code>ATD-##-GUEST</code> SSID Type Private Private <p></p> </li> <li> <p>Click the 3 dots and select <code>Access Control</code> tab and configure using the settings below</p> SSID Access Control Settings Setting Value Notes Client Authentication Authentication Type Radius MAC Authentication RadSec Authentication Server <code>AGNI-01</code> AGNI Radsec Server was configured already Accounting     Server <code>AGNI-01</code> Role Based Control Rule Type 802.1X Default VSA Operand Match Assign Role Select All Created in previous section Send DHCP Options and HTTP User Agent <p></p> <p></p> </li> <li> <p>Once all settings have been set, Click the <code>Save &amp; Turn SSID On</code> button at the bottom of the page.</p> </li> <li> <p>You will be prompted to customize before enabling, select the <code>5 GHz</code> option on the next screen (un-check the <code>2.4 GHz</code> box if it\u2019s checked), then click <code>Turn SSID On</code>.</p> <p></p> </li> <li> <p>Join the new WiFi and verify connectivity in CUE and AGNI</p> <p>Join the guest WiFi!</p> <p>Give it a moment for the new SSID to come up, but once it's up try and join the WiFi! You should be prompted with a captive portal, click on the a</p> CV-CUEAGNI <p>Navigate to <code>Monitor &gt; Clients</code> in CV-CUE</p> <p></p> <p>Navigate to <code>Sessions</code> in AGNI</p> <p></p> </li> </ol>"},{"location":"b_wireless/b03_lab/#tunneling-guest-traffic","title":"Tunneling Guest Traffic","text":"<p>To highlight Arista's Controller-less Architecture we will use the labs spine MLAG switches to terminate the AP tunnel with VXLAN configured and tunnel guest traffic.</p>"},{"location":"b_wireless/b03_lab/#create-tunnel-profile-cv-cue","title":"Create Tunnel Profile (CV-CUE)","text":"<ol> <li>Under the <code>Configure</code> section, click on <code>Network Profiles &gt; Tunnels</code></li> <li>Select the correct location in your hierarchy</li> <li> <p>Select <code>Add Tunnel Interface</code></p> Network Profiles Setting Value Tunnel Interface Name tunnel-## Tunnel Type <code>VXLAN</code> Remote Endpoint 1.1.1.1 Local Endpoint VLAN 0 VXLAN VNI Offset 10200 </li> <li> <p>Click <code>Save</code></p> <p></p> </li> </ol>"},{"location":"b_wireless/b03_lab/#assign-ssid-to-tunnel-profile","title":"Assign SSID to Tunnel Profile","text":"<ol> <li>Under the <code>Configure</code> section, click on <code>WiFi</code></li> <li>Select the correct location in your hierarchy</li> <li>Select the pencil to edit Guest SSID</li> <li>Select <code>Network</code></li> <li>Change <code>Network Mode</code> to <code>L2 Tunnel</code></li> <li>Select the tunnel-##</li> <li> <p>Click Save</p> <p></p> </li> </ol>"},{"location":"b_wireless/b03_lab/#monitor-tunnels","title":"Monitor Tunnels","text":"<ol> <li>Under the <code>Monitor</code> section, click on <code>WiFi</code></li> <li>Verify your location in the hierarchy</li> <li> <p>Click on <code>Tunnels</code> or the tunnel icon on the top row</p> <p>Notice the client IP Address is now using network 10.1.200.##</p> <p></p> </li> <li> <p>Verify if the Tunnels are green</p> <p></p> </li> </ol>"},{"location":"b_wireless/b03_lab/#review-vxlan-on-spine1-or-spine2-in-cvaas","title":"Review VXLAN on spine1 or spine2 in CVaas","text":"<p>Screenshot shows VLAN200 mapped to VNI10200 and VXLAN clients with VLAN200 IPs</p> <p></p> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"b_wireless/b04_lab/","title":"B04 - Smart System Upgrade","text":""},{"location":"b_wireless/b04_lab/#b-04-arista-smart-system-upgrade-ssu","title":"B-04 | Arista Smart System Upgrade (SSU)","text":""},{"location":"b_wireless/b04_lab/#overview","title":"Overview","text":"<p>Arista's Smart System Upgrade (SSU) is a feature to minimize traffic loss when upgrading from one SSU-supported EOS version to a newer SSU-supported EOS version. SSU is also referred to as \u2018hitless\u2019 upgrades. The SSU feature allows a switch to maintain packet forwarding (Data Plane) while the Management and Control plane perform the OS upgrade.</p> <p>Arista Smart System Upgrade</p> <p>Additional information about this feature can be found in the Arista TOI for Smart System Upgrade</p> <p>In our workshop lab topology you will see that each leaf in your pod is directly connected to the access point and RaspberryPi client. Traditionally, a firmware upgrade on the lead in the pod would cause the access point, wireless clients connected to the access point, and the raspberry pi client to lose network connectivity. In this lab, we will use Arista SSU on the leaf switch in your pod to perform a firmware upgrade minimizing any network disruptions for both wired and wireless clients.</p>"},{"location":"b_wireless/b04_lab/#prerequisites","title":"Prerequisites","text":"<ul> <li> Continuous POE should be configured to maintain POE power delivery to connected devices.</li> <li> Must be running an EOS version that includes the SSU feature.</li> <li> Must be upgrading to a new EOS version that also includes the SSU feature.</li> <li> Spanning-tree must be running in MST mode or disabled.</li> <li> Spanning-tree edge ports must have portfast and BPDUGuard enabled.</li> <li> Switches running BGP must be configured with <code>graceful-restart</code> otherwise routes are lost and the hardware may fail to forward traffic.</li> </ul>"},{"location":"b_wireless/b04_lab/#caveats","title":"Caveats","text":"<p>As you can imagine, disconnecting the Control and Management plane off the data plane will come with some caveats depending on what features you are running! While that's the case, most instances where SSU is valuable is where we have no resiliency or ability to \"route around\" the switch in maintenance.</p> <ul> <li> SSU only supports upgrades. Hitless image downgrades are not supported.</li> <li> If a new EOS version includes an FPGA upgrade, the FPGA upgrade will be suppressed. FPGA upgrades require a full reboot of a switch to apply.</li> <li> Some switch features, when in use, will prevent SSU from starting. See the Arista TOI for more details</li> </ul> <p>First, download the desired EOS image to the switch flash storage.  Login to your switch using the <code>arista</code> user credentials.</p> <pre><code>copy tftp:10.1.100.50/EOS-4.34.1F.swi flash:\n</code></pre>"},{"location":"b_wireless/b04_lab/#perform-arista-ssu","title":"Perform Arista SSU","text":"<p>Let's begin the hands-on portion of this lab. SSU can be triggered on the command line or via CloudVision. For this lab we will be triggering an SSU upgrade using the command line, preferably using the serial port of the switch. As in</p> <p>Console via SSH</p> <p>Using the console we will get a more in depth look at the logs as the switch upgrades. However, SSH is fine if you do not have a console cable. There is example output below you can refer to.</p> <ol> <li> <p>Connect to the <code>pod&lt;##&gt;-leaf1a</code> switch serial port (where ## is a 2 digit character between 01-20 that was assigned to your lab/Pod). The login username/password is <code>arista/arista</code>. Type <code>enable</code> to enter privileged mode.</p> Example Output <pre><code>pod00-leaf1a login: arista\nLast login: Tue Jul 30 22:16:56 on ttyS0\npod00-leaf1a&gt;enable\npod00-leaf1a#\n</code></pre> </li> <li> <p>Type <code>show version</code> to show the current running version of the switch.</p> <p>EOS Version</p> <p>Smart System Upgrade (SSU) is supported on EOS versions 4.31.5M and later on CCS-710P-12/16P switches. In this example, the switch is currently running EOS-4.34.0F. This is a supported EOS version for Arista SSU.</p> <pre><code>show version\n</code></pre> Example Output <pre><code>        Arista CCS-710P-16P\n        Hardware version: 11.02\n        Serial number: WTW22220037\n        Hardware MAC address: 2cdd.e9fd.af50\n        System MAC address: 2cdd.e9fd.af50\n\n        Software image version: 4.34.0F\n        Architecture: i686\n        Internal build version: 4.34.0F-41661064.4340F\n        Internal build ID: 8346ed5e-061a-4a70-9c36-b6eee6fc0848\n        Image format version: 3.0\n        Image optimization: Strata-4GB\n\n        Uptime: 2 hours and 5 minutes\n        Total memory: 3952472 kB\n        Free memory: 2193016 kB\n</code></pre> </li> <li> <p>Type <code>dir</code> to show the list of files in the <code>flash:</code> filesystem. You should note that there are some EOS image versions already on the flash storage of the leaf1a switch. Choose the latest EOS image version which is our target update version for this lab.</p> <pre><code>dir\n</code></pre> Example Output <pre><code>    Directory of flash:/\n\n    -rw-    25449761           Jul 21  2024  AristaCloudGateway-1.0.0-1.swix\n    -rw-    32184348           Apr 14 21:54  AristaCloudGateway-1.0.2-1.swix\n    -rw-    32566624            Jun 6 13:20  AristaCloudGateway-1.0.3-1.swix\n    -rw-       18480            Jul 2 05:51  AsuFastPktTransmit.log\n    -rw-   783781597            Dec 6  2021  EOS-4.29.1FX-710P-DHCP.swi\n    -rwx   834335804            Jul 1 03:33  EOS-4.31.6M.swi\n    -rwx   894262536            May 5 14:16  EOS-4.34.0F.swi\n    -rw-  1531686247            Jul 2 03:42  EOS-4.34.1F.swi\n    drwx        4096           Jun 15 00:24  Fossil\n    -rw-       11360            Jul 2 05:51  SsuRestore.log\n    -rw-       11360            Jul 2 05:51  SsuRestoreLegacy.log\n    drwx        4096            Dec 6  2021  aboot\n    -rw-          27            Jul 2 05:47  boot-config\n    -rw-          32            Jul 2 05:47  boot-extensions\n    drwx        4096            Jul 2 08:01  debug\n    drwx        4096            Feb 4  2023  fastpkttx.backup\n    drwx       16384            Dec 6  2021  lost+found\n    drwx        4096            Jul 2 08:00  persist\n    drwx        4096            Feb 4  2023  schedule\n    -rw-        5224            Jul 2 05:47  startup-config\n    drwx        4096           Jul 21  2024  tpm-data\n    -rw-           0           Jun 29 20:50  zerotouch-config\n    drwx        4096           Jun 23 20:34  ztp-debug\n\n    7527178240 bytes total (2043318272 bytes free) on flash:\n</code></pre> </li> <li> <p>Type <code>show reload fast-boot</code>.  This command will show you an output of warnings or incompatibilities with the current configuration of the switch. As mentioned in the prerequisites section above, if any configuration is set in a way that prevents SSU from starting, the reasons will be listed here.</p> <pre><code>   show reload fast-boot\n</code></pre> Example Output when SSU will proceed with caution. In this case, MLAG is compatible <pre><code>    pod00-leaf1a#show reload fast-boot\n    Warnings in the current configuration detected:\n    If you are performing an upgrade, and the Release Notes for the new version of EOS indicate that MLAG is not backwards-compatible with the currently installed version (4.34.1F), the upgrade will result in packet loss.\n    Mlag is configured\n</code></pre> Example Output when SSU will proceed without caution <pre><code>    pod00-leaf1a#show reload fast-boot\n    No warnings or unsupported configuration found.\n</code></pre> </li> <li> <p>Now that we have confirmed our configuration is ready to allow SSU, let's prepare the switch for the upgrade process by setting the new boot image in the configuration of the switch. Issue the following commands:</p> <p>\u23f2 Setting the boot flash will take a few seconds!</p> <pre><code>configure\nboot system flash:EOS-4.34.1F.swi\nexit\nwrite\n</code></pre> Example Output <pre><code>    pod00-leaf1a#configure\n    pod00-leaf1a(config)#boot system flash:EOS-4.34.1F.swi\n    pod00-leaf1a(config)#exit\n    pod00-leaf1a#write\n    Copy completed successfully.\n</code></pre> </li> <li> <p>Before we apply the new firmware, let's start a ping test which will run during the switch upgrade process. We will see that the ping traffic will continue to flow through the switch even while its software is being upgraded.</p> <ol> <li>Please make sure that your laptop is connected to the wireless network called <code>ATD-##-PSK</code>. Use the PSK you configured in the previous lab to associate with this wireless network.</li> <li> <p>Open a terminal and ping your gateway using the commands below. If you want to increase the interval to get more granular results, feel free!</p>  MAC OS <p>Open Terminal and run the following, please replace ## with your pod number (1-12)</p> <pre><code>ping 10.1.##.1\n</code></pre>  Windows <p>Open Command Prompt and run the following, please replace ## with your pod number (1-12)</p> <pre><code>ping -t 10.1.##.1\n</code></pre> </li> <li> <p>Now leave this window open for the following steps. We will see ping packets being sent and received every second. You are now pinging the gateway IP address for your pod from your wireless device connected to your pods access point. The ping traffic must traverse the <code>leaf1a</code> or <code>leaf1b</code> switch to reach the gateway.  We should be able to observe how traffic is affected while the switch is upgrading during SSU.</p> </li> </ol> </li> <li> <p>Now, in a standard firmware upgrade process, you would issue a normal reload command. However, in this lab, we want to trigger a SSU upgrade. This is where we use the command below, go ahead and issue that command now. \ud83d\ude80</p> <p>REMINDER</p> <p>During this test, do not plug in or unplug devices from the switch. Recall, the control plane will effectively be down, so changes or updates to the switch at a hardware level (like populating MAC add/removals) are unavailable.</p> <pre><code>    reload fast-boot now\n</code></pre> </li> <li> <p>As the SSU process proceeds, you can watch the output on the serial console showing the switch preparing itself for reboot. The switch will reboot shortly, and you should see the normal output of a switch reboot.</p> <p>ASU vs SSU</p> <p>During the SSU reboot process, you may see messages referring to Arista Smart Upgrade, or ASU. ASU is a previous version of SSU, and some references to ASU still exist in code for the SSU process.</p> </li> <li> <p>When you see the following message in your serial console of the switch, the switch is now rebooting.         </p><pre><code>reloading /mnt/flash/EOS-4.34.1F.swi\n</code></pre><p></p> </li> <li> <p>SSH to the switch is not possible since the management plane of the switch is rebooting. However, the dataplane is still functional. Open the ping terminal window we started in <code>step 6</code> and note that ping packets are still being sent and received even though the switch is in the middle of its reboot process.</p> </li> <li> <p>Below is the output of the full process, with highlights on terminal messages indicating the progress of the upgrade.</p> Example Output <pre><code>    pod00-leaf1a#reload fast-boot now\n    Running AsuPatchDb:doPatch( version=4.34.0F-38783123.4315M, model=Strata ) #(1)!\n    Optimizing image for current system - this may take a minute...\n    No warnings or unsupported configuration found.\n    2024-07-31 17:51:14.459848 Kernel Files /mnt/flash/EOS-4.34.1F.swi extracted from SWI #(2)!\n    2024-07-31 17:51:16.439052 ProcOutput passed to Kernel ['crashkernel=512-4G:45M,4G-8G:59M,8G-32G:89M,32G-:121M', 'nmi_watchdog=panic', 'tsc=reliable', 'pcie_ports=native', 'reboot=p', 'usb-storage.delay_use=0', 'pti=off', 'crash_kexec_post_notifiers', 'watchdog.stop_on_reboot=0', 'mds=off', 'nohz=off', 'printk.console_no_auto_verbose=1', 'CONSOLESPEED=9600', 'console=ttyS0', 'gpt', 'Aboot=Aboot-norcal6-6.2.1-2-25288791', 'net_ma1=pci0000:00/0000:00:12.0/usb1/.*$', 'platform=raspberryisland', 'scd.lpc_irq=3', 'scd.lpc_res_addr=0xf00000', 'scd.lpc_res_size=0x100000', 'block_flash=pci0000:00/0000:00:14.7/mmc_host/.*$', 'block_usb1=pci0000:00/0000:00:12.0/usb1/1-1/1-1.1/.*$', 'block_usb2=pci0000:00/0000:00:12.0/usb1/1-1/1-1.4/.*$', 'block_drive=pci0000:00/0000:00:11.0/.*host./target.:0:0/.*$', 'sid=RaspberryIsland16', 'log_buf_len=2M', 'systemd.show_status=0', 'sdhci.append_quirks2=0x40', 'amd_iommu=off', 'nvme_core.default_ps_max_latency_us=0', 'SWI=/mnt/flash/EOS-4.34.1F.swi', 'arista.asu_hitless']\n    Proceeding with reload\n    No qualified FPGAs to upgrade #(3)!\n    waiting for platform processing ..........................................................ok\n    Shutting down packet drivers\n    2024-07-31 17:52:54.117479 bringing fab down\n    2024-07-31 17:52:54.437128 bringing fifo down\n    reloading /mnt/flash/EOS-4.34.1F.swi #(4)!\n    Shutting down management interface(s)\n    1 block\n    umount: /mnt/flash: target is busy.\n    [71576.090602][T15227] kexec_core: Starting new kernel\n    [    2.363505][  T296] Running e2fsck on: /mnt/flash\n    [    2.803117][  T303] e2fsck on /mnt/flash took 1s\n    [    3.116739][  T370] Running e2fsck on: /mnt/crash\n    [    3.181814][  T375] e2fsck on /mnt/crash took 0s\n    Mounting SWIM Filesystem\n    Optimization Strata-4GB root squash found\n    Optimization Strata-4GB all squashes found\n    Mounting optimization Strata-4GB #(5)!\n    Switching rootfs\n    Welcome to Arista Networks EOS 4.34.1F\n    Architecture: i386\n    [   43.938521] sh[2099]: Starting EOS initialization stage 1\n    Starting NorCal initialization: [  OK  ]\n    [   48.023047] sh[2181]: Starting EOS initialization stage 2\n    Completing EOS initialization (press ESC to skip): [  OK  ]\n    Model: CCS-710P-16P\n    Serial Number: WTW22200366\n    System RAM: 3952504 kB\n    Flash Memory size:  7.1G\n\n    pod00-leaf1a login:\n\n\n\n    Wait for the SSU process to complete. This can take up to 10 minute.  When you see the following console message, the switch management plane has finished its reboot.\n\n\n    pod00-leaf1a login:\n</code></pre> <ol> <li>Remember the mention, there may still be some mention of ASU in the code. This is the SSU process kicking off.</li> <li>Extracting the boot image we configured</li> <li>No FPGAs to upgrade, recall if there were, this would require a full reload!</li> <li>Reloading the management and control plane to the new software image</li> <li>Mounting the software on to the hardware, <code>Strata</code> in this case is the family of ASICs</li> </ol> </li> <li> <p>You can now login with the username/password and type <code>enable</code> to get back to privileged commands mode. Check the new current running version of the switch with the command <code>show version</code>. You should see the switch has upgraded to <code>EOS-4.34.1F</code></p> Example Output <pre><code>Arista CCS-710P-16P\nHardware version: 11.04\nSerial number: WTW23350461\nHardware MAC address: 2cdd.e9f6.e9f2\nSystem MAC address: 2cdd.e9f6.e9f2\n\nSoftware image version: 4.34.1F\nArchitecture: i686\nInternal build version: 4.34.1F-37710335.4314M\nInternal build ID: d26721db-c526-41ec-bf9d-0a14b4edfcf5\nImage format version: 3.0\nImage optimization: Strata-4GB\n\nUptime: 5 minutes\nTotal memory: 3952504 kB\nFree memory: 2880904 kB\n</code></pre> </li> <li> <p>After the management plane boots up, there are still some processes running before SSU can be considered successful. Run the following command to watch for the log message indicating SSU is fully successful. You should see the message <code>reload hitless reconciliation complete</code> about 2 minutes after the switch completes its reload.</p> <pre><code>show log follow | inc hitless\n</code></pre> Example Output <pre><code>campus-pod11-leaf1a#show log follow | inc hitless\nAug  8 19:51:59 campus-pod11-leaf1a StageMgr: %LAUNCHER-6-BOOT_STATUS: 'reload hitless' reconciliation complete.\n</code></pre> </li> <li> <p>As our final step, take another look at the terminal window that was running the consistent pings. You should see pings continue to flow without issue during the upgrade. Only towards the end of the process you may see 1 or 2 pings lost as the ASIC reconnects to the updated management plane.</p> <p>800 ms Cutover \ud83c\udfce\ufe0f</p> <p>The below example output was sending pings every 100ms, as you see below the cutover time to the new EOS image disrupted the dataplane for all of 700-800ms!! This is fast enough you may not even notice the disruption on an active zoom call!</p> Example Output <pre><code>me@MacBook-Pro ~ % ping -i 0.1 10.0.111.1\n64 bytes from 9.9.9.9: icmp_seq=0 ttl=51 time=10.974 ms\n64 bytes from 9.9.9.9: icmp_seq=1 ttl=51 time=10.147 ms\n64 bytes from 9.9.9.9: icmp_seq=2 ttl=51 time=10.583 ms\n64 bytes from 9.9.9.9: icmp_seq=3 ttl=51 time=10.657 ms\n... truncated for brevity\n64 bytes from 9.9.9.9: icmp_seq=4885 ttl=51 time=10.586 ms\n64 bytes from 9.9.9.9: icmp_seq=4886 ttl=51 time=10.954 ms\n64 bytes from 9.9.9.9: icmp_seq=4887 ttl=51 time=10.632 ms\nRequest timeout for icmp_seq 4888\nRequest timeout for icmp_seq 4889\nRequest timeout for icmp_seq 4890\nRequest timeout for icmp_seq 4891\nRequest timeout for icmp_seq 4892\nRequest timeout for icmp_seq 4893\nRequest timeout for icmp_seq 4894\nRequest timeout for icmp_seq 4895\n64 bytes from 9.9.9.9: icmp_seq=4896 ttl=51 time=11.481 ms\n64 bytes from 9.9.9.9: icmp_seq=4897 ttl=51 time=11.637 ms\n64 bytes from 9.9.9.9: icmp_seq=4898 ttl=51 time=11.237 ms\n64 bytes from 9.9.9.9: icmp_seq=4899 ttl=51 time=10.859 ms\n64 bytes from 9.9.9.9: icmp_seq=4900 ttl=51 time=10.595 ms\n64 bytes from 9.9.9.9: icmp_seq=4901 ttl=51 time=10.516 ms\n</code></pre> </li> <li> <p>We see from this example output above, only 8 pings were lost (100 ms each) at the end of the process near the 10 minute mark after starting the ping test. If you we're pinging at 1 per second, you should see 1 maybe 2 pings drop.</p> </li> <li> <p>As a last item to leave you with, you can validate your reload reason to confirm why the switch last reloaded using the command below.</p> <pre><code>show reload cause\n</code></pre> Example Output <pre><code>Reload Cause 1:\n-------------------\nHitless reload requested by the user.\n\nReload Time:\n------------\nReload occurred at Thu Jan 23 11:08:51 2025 CST.\n\nRecommended Action:\n-------------------\nNo action necessary.\n\nDebugging Information:\n-------------------------------\nNone available.\n</code></pre> </li> </ol>"},{"location":"b_wireless/b04_lab/#lab-conclusion","title":"Lab Conclusion","text":"<p>We just observed how Arista SSU allows network connected devices to continue to operate on the network even while an EOS firmware update occurs on the connected switch.</p> <p>\ud83c\udf89 CONGRATS! You have completed the Wireless labs! \ud83c\udf89</p>"},{"location":"c_security/c01_lab/","title":"C01 - AGNI and WiFi EAP-TLS 802.1X","text":""},{"location":"c_security/c01_lab/#c-01-agni-and-wifi-eap-tls-8021x","title":"C-01 | AGNI and WiFi EAP-TLS 802.1X","text":""},{"location":"c_security/c01_lab/#overview","title":"Overview","text":"<p>In this lab we will be working within the <code>WiFi</code> configuration section of CV-CUE. Create an SSID (WPA2 802.1X) with your <code>ATD-##-EAP</code> as the name (where ## is a 2 digit character between 01-12 that was assigned to your lab/Pod).</p>"},{"location":"c_security/c01_lab/#cv-cue-login","title":"CV-CUE Login","text":"<p>If you're not already logged into CV-CUE, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wirless. Click into <code>CV-CUE (CloudVision Wifi)</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c01_lab/#create-an-eap-tls-ssid","title":"Create an EAP-TLS SSID","text":"<p>The <code>Configure</code> section of CV-CUE is composed of multiple parts, including WiFi, Alerts, WIPS, etc. In this lab we are focused on the <code>WiFi</code> section.</p> <p>Other configuration sections</p> <ul> <li>Alerts: Where syslog and other alert related settings are configured</li> <li>WIPS: Where the policies are configured for the WIPS sensor.</li> </ul> <ol> <li> <p>Let's go through the steps to create a new SSID</p> Step 1Step 2Step 3Step 4 <p>Hover your cursor over the <code>Configure</code> menu option on the left side of the screen, then click <code>WiFi</code></p> <p></p> <p>At the top of the screen, you will see where you are in the location hierarchy. Click on your respective <code>Corp</code> (<code>ACorp</code> or <code>BCorp</code>),</p> <p></p> <p>Expand Hierarchy</p> <p>If you do not see the hierarchy, click on the three lines  next to <code>Locations</code> to expand choose/highlight the appropriate <code>Corp</code> folder.</p> <p>Let's disable the previous SSIDs from the prior labs bey toggling the <code>On/Off</code> button</p> <p></p> <p>Now click the <code>Add SSID</code> button on the right hand side of the screen.</p> <p></p> </li> <li> <p>Once on the \u201cSSID\u201d page, configuration sub-category menu options will appear across the top of the page related to WiFi (the defaults are <code>Basic</code>, <code>Security</code>, and <code>Network</code>). You can click on these sub-category names to change configuration items related to that area of the configuration.</p> </li> <li> <p>To make additional categories visible, click on the 3 dots next to <code>Network</code> and you can see the other categories that are available to configure (<code>Analytics</code>, <code>Captive Portal</code>, etc.).</p> </li> <li> <p>In the <code>Basic</code> sub-category option, name the SSID using the settings below. The <code>Profile Name</code> is used to describe the SSID and should have been auto-filled for you.</p> Settings Student Name Student 1 <code>ATD-##-EAP</code> Student 2 <code>ATD-##-EAP</code> <p>where ## is a 2 digit character between 01-20 that was assigned to your lab/Pod</p> <p></p> </li> <li> <p>Since this is our corporate SSID, leave the <code>Select SSID Type</code> set to <code>Private</code></p> </li> <li>Select <code>Next</code> at the bottom.</li> <li> <p>In the <code>Security</code> sub-category, set the following select <code>WPA2</code> and change the association type to \u201c802.1X\u201d.</p> Settings Field Value Security Method WPA2 / 802.1X Radius Settings Select <code>RadSec</code> Authentication Server <code>AGNI-##</code> Accounting Server <code>AGNI-##</code> <p></p> </li> <li> <p>Select <code>Next</code> at the bottom of the screen.</p> </li> <li> <p>In the <code>Network</code> configuration sub-category, we\u2019ll leave the <code>VLAN ID</code> set to <code>0</code>, which means it will use the native VLAN. If the switchport the AP is attached to is trunked, you could change this setting to whichever VLAN you want the traffic mapped to. The rest of the settings can be left at the default values.</p> <p>Alternative Settings</p> <p>Instead of <code>Bridged</code> You could use <code>NAT</code> (often done for Guest) or <code>L2 Tunnel</code> / <code>L3 Tunnel</code>, as we completed in the wireless lab.</p> <p></p> </li> <li> <p>Click the <code>Save &amp; Turn SSID On</code> button at the bottom of the page.</p> </li> <li> <p>Only select the <code>5 GHz</code> option on the next screen (deselect the 2.4 GHz box if it\u2019s checked), then click <code>Turn SSID On</code>.</p> <p></p> </li> <li> <p>After you turn on the SSID, hover your cursor over <code>Monitor</code> in the left hand side menu, and then click <code>WiFi</code>.</p> </li> <li> <p>Now, in the menu options at the top of the page, look at the <code>Radios</code> menu option. Is the 5 GHz radio  (Up) and 2.4 GHz radio  (down)? It may take a minute or two for the radio to become active.</p> <p></p> </li> <li> <p>Check the <code>Active SSIDs</code> menu at the top of the screen. Is your SSID listed?</p> <p></p> </li> <li> <p>Now that we have a 802.1X backed SSID, let's go to AGNI to configure the policy.</p> </li> </ol>"},{"location":"c_security/c01_lab/#cloudvision-agni-access","title":"CloudVision AGNI Access","text":""},{"location":"c_security/c01_lab/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c01_lab/#create-agni-networks-segments-for-the-eap-tls-wireless-policy","title":"Create AGNI Networks &amp; Segments for the EAP-TLS Wireless Policy","text":"<ol> <li> <p>Click on <code>Networks</code> and select <code>+ Add Network</code></p> <p></p> </li> <li> <p>Configure the network with the following settings</p> Network Settings Field Student 1 Student 2 Name <code>ATD-##-SSID-EAP-TLS</code> <code>ATD-##-SSID-EAP-TLS</code> Connection Type Wireless Wireless SSID <code>ATD-##-EAP</code> <code>ATD-##-EAP</code> Authentication Type Client Certificate (EAP-TLS) Client Certificate (EAP-TLS) <p></p> </li> <li> <p>Click on <code>Add Network</code> at the bottom of the screen.</p> </li> <li> <p>Next, click on <code>Segments</code> and then <code>+ Add Segment</code></p> <p></p> </li> <li> <p>Configure the segment with the following settings</p> Network Settings Field Student 1 Student 2 Name <code>ATD-##-SSID-EAP-TLS</code> <code>ATD-##-SSID-EAP-TLS</code> Description <code>ATD-##-SSID-EAP-TLS</code> <code>ATD-##-SSID-EAP-TLS</code> <p></p> </li> <li> <p>Next, let\u2019s add two conditions to match the network we've defined (tied to the SSID) and the authentication type</p> <p>Conditions</p> <p>Conditions for segments must MATCH ALL conditions line by line.</p> <ol> <li>Select, <code>Network</code>, <code>Name</code>, <code>is</code>, <code>ATD-##X-SSID-EAP-TLS</code> from the drop down lists. Chose your <code>A</code> or <code>B</code> policy accordingly.</li> <li>Select, <code>Network</code>, <code>Authentication Type</code>, <code>is</code>, <code>Client Certificate (EAP-TLS)</code> from the drop down lists.</li> <li>Your Conditions should now look like this.</li> </ol> <p></p> </li> <li> <p>Under Actions select <code>Add Action</code> and select <code>Allow Access</code></p> <p></p> </li> <li> <p>Finally, select <code>Add Segment</code> at the bottom of the page.</p> </li> <li> <p>You should now be able to expand and review your segment.</p> <p></p> </li> <li> <p>Next, click on <code>Sessions</code> to see if your ATD Raspberry Pi has a connection via the Wireless connection.</p> <p>Client Connectivity</p> <p>The Client Certificate has already been applied to the Raspberry Pi and is configured to connect to the SSID ATD-##A-EAP.</p> <p></p> </li> <li> <p>Click on the session and explore the information we learn about the client, we're going to come back to this in more detail later.</p> <p></p> </li> <li> <p>If you don\u2019t see any new sessions within 2 minutes AGNI, power cycle the Raspberry Pi.</p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"c_security/c02_lab/","title":"C02 - AGNI UPSK Wireless Policy","text":""},{"location":"c_security/c02_lab/#c-02-agni-upsk-wireless-policy","title":"C-02 | AGNI UPSK Wireless Policy","text":""},{"location":"c_security/c02_lab/#overview","title":"Overview","text":"<p>In this lab we're going to explore the power of Unique Pre-Shared Keys (UPSK),</p>"},{"location":"c_security/c02_lab/#cv-cue-login","title":"CV-CUE Login","text":"<p>If you're not already logged into CV-CUE, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wirless. Click into <code>CV-CUE (CloudVision Wifi)</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c02_lab/#create-identity-upsk-ssid","title":"Create Identity UPSK SSID","text":"<p>Let's create our new UPSK SSID by copying/modifying the PSK SSID we created in the CV-CUE lab.</p> <ol> <li> <p>While on your <code>CorpA</code> folder, Click on <code>Configure</code> and then <code>WiFi</code></p> <p></p> </li> <li> <p>Next, click on the  and select <code>Create a Copy</code> on your specific SSID</p> Your SSID Student Name Student 1 <code>ATD-##-PSK</code> Student 2 <code>ATD-##-PSK</code> <p>where ## is a 2 digit character between 01-12 that was assigned to your lab/Pod</p> <p></p> </li> <li> <p>Select <code>Currently Selected Folders</code> and then <code>Continue</code>.</p> <p></p> </li> <li> <p>Click on the new SSID and select <code>Edit</code> </p> <p></p> </li> <li> <p>On the <code>Basic</code> Tab rename the SSID to the following</p> Settings Student Student 1 Student 2 Name <code>ATD-##-UPSK</code> <code>ATD-##-UPSK</code> Profile Name <code>ATD-##-UPSK</code> <code>ATD-##-UPSK</code> <p></p> </li> <li> <p>Next, click on the <code>Security</code> tab and configure the following</p> <p>UPSK Information</p> <p>For more information on UPSK visit the article on Unique PSK</p> Settings Field Value Security Method WPA2 / UPSK UPSK Identity Lookup Enabled <p></p> </li> <li> <p>Next, click on the <code>Access Control</code> tab and configure the following</p> Settings Field Value Radius Settings Select <code>RadSec</code> Authentication Server <code>AGNI-##</code> Accounting Server <code>AGNI-##</code> Username and Password MAC Address without Delimiter Call Station ID <code>%m-%s</code> Change of Authorization Enabled <p></p> </li> <li> <p>Finally, <code>Save and turn on the SSID</code> and <code>Save SSID</code></p> <p></p> </li> <li> <p>Only select the <code>5 GHz</code> option on the next screen (deselect the 2.4 GHz box if it\u2019s checked), then click <code>Turn SSID On</code>.</p> <p></p> </li> </ol>"},{"location":"c_security/c02_lab/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c02_lab/#create-upsk-network-and-segment","title":"Create UPSK Network and Segment","text":"<p>In this section we are going to configure AGNI for our new SSID network and apply segmentation policy to enforce UPSK.</p> <ol> <li> <p>Click on <code>Networks</code> and then <code>+ Add Network</code>.</p> <p></p> </li> <li> <p>Add the following:</p> Settings Field Student 1 Student 2 Name <code>ATD-##-UPSK</code> <code>ATD-##-UPSK</code> Connection Type Wireless Wireless SSID <code>ATD-##-UPSK</code> <code>ATD-##-UPSK</code> Authentication Type Unique PSK (UPSK) Unique PSK (UPSK) <p></p> </li> <li> <p>Finally, click <code>Add Network</code></p> </li> <li> <p>You should now see this listed in your <code>Networks</code>.</p> <p></p> </li> <li> <p>Next, we will add the Segment.</p> </li> <li> <p>Under Access Control, click on <code>Segments</code> and then <code>+ Add Segment</code></p> <p></p> </li> <li> <p>Configure the following:</p> <p>Segment Conditions</p> <p>If there are multiple conditions, they must MATCH ALL.</p> Settings Field Student 1 Student 2 Name <code>ATD-##-UPSK</code> <code>ATD-##-UPSK</code> Description <code>ATD-##-UPSK</code> <code>ATD-##-UPSK</code> Condition #1 <code>Network:Name is ATD-##-UPSK</code> <code>Network:Name is ATD-##-UPSK</code> Condition #2 <code>Network:Authentication Type is UPSK</code> <code>Network:Authentication Type is UPSK</code> Action #1 <code>Allow Access</code> <code>Allow Access</code> <p></p> </li> <li> <p>Finally, click on <code>Add Segment</code>.</p> </li> <li> <p>You should now see your new segment in the list of segments.</p> <p></p> </li> </ol>"},{"location":"c_security/c02_lab/#enroll-personal-device-with-local-user","title":"Enroll Personal Device with Local User","text":"<p>In this section you will create a local user and enroll the MAC of your device.</p> <ol> <li> <p>In AGNI, under <code>Identity</code>, click on <code>User</code> and then <code>+ Add User</code>.</p> <p></p> </li> <li> <p>Fill out the fields for a new user</p> Settings Field Student 1 Student 2 Name whatever_you_want whatever_you_want UserId whatever_you_want whatever_you_want Password <code>Arista!123</code> <code>Arista!123</code> User must change password at next login Disabled Disabled <p></p> </li> <li> <p>Click <code>Add User</code></p> </li> <li> <p>You will notice that <code>Password</code> has now changed to <code>UPSK Passphrase</code></p> <p></p> </li> <li> <p>Copy and write down or save to text file the new UPSK Passphrase.</p> </li> <li>Next, connect your client to <code>ATD-##A/B-UPSK</code> using your UPSK Passphrase.</li> <li> <p>Click on <code>Sessions</code> and validate your device connection.</p> <p></p> </li> <li> <p>Next, validate your device by clicking on <code>User</code> and then <code>Users</code>. Select your user.</p> <p></p> </li> <li> <p>Click on <code>Show Clients</code></p> <p></p> </li> </ol>"},{"location":"c_security/c02_lab/#create-an-agni-client-group","title":"Create an AGNI Client Group","text":"<p>In this section, you will simulate your device as an IoT device.</p> <ol> <li>Disable and forget previously saved lab networks so your wireless connection on your test device does not auto connect.</li> <li> <p>In AGNI under your <code>User Clients</code> list, <code>Delete</code> your <code>Device</code>.</p> <p></p> </li> <li> <p>Next, you will add your client device as an IoT device in a Client Group.</p> </li> <li>First, we will need to create the Client Group.</li> <li>In AGNI, under <code>Identity</code>, click on <code>Clients &gt; Client Groups</code> and then <code>+ Add Client Group</code>.</li> <li> <p>Configure the following</p> Settings Field Student 1 Student 2 Name <code>CorpA Approved Devices</code> <code>CorpA Approved Devices</code> Description <code>CorpA Approved Devices</code> <code>CorpA Approved Devices</code> User Association Not user associated Not user associated Group UPSK Enabled Enabled </li> <li> <p><code>Copy</code> the UPSK Passphrase and click on <code>Add Group</code></p> </li> <li>Next, connect your client to ATD-##-UPSK using the Client Group UPSK Passphrase.</li> <li> <p>Click on <code>Sessions</code> and validate your device connection.</p> </li> <li> <p>Next Click on your <code>Client</code>.</p> </li> <li> <p>Notice your Client Group. Here you have the option to change the Client Group your device belongs to.</p> </li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed this lab! \ud83c\udf89</p> <p> LET'S GO TO THE NEXT LAB!</p>"},{"location":"c_security/c03_lab/","title":"C03 - AGNI and Wired EAP-TLS 802.1X","text":""},{"location":"c_security/c03_lab/#c-03-agni-and-wired-eap-tls-8021x","title":"C-03 | AGNI and Wired EAP-TLS 802.1X","text":""},{"location":"c_security/c03_lab/#overview","title":"Overview","text":"<p>In this lab we enhance the port security to our Raspberry Pi! We will do the following:</p> <ul> <li> Update our port profile</li> <li> Configure our switch to communicate over RadSec to AGNI</li> <li> Configure the AGNI EAP-TLS wired policy</li> <li> Verify it all works!</li> </ul>"},{"location":"c_security/c03_lab/#topology","title":"Topology","text":"Lab Topology Important: Your switches need to be onboarded in AGNI with RadSec before proceeding. Follow the steps here Reminder on logging in and creating a workspace"},{"location":"c_security/c03_lab/#configuring-radsec-on-eos","title":"Configuring RadSec on EOS","text":"<p>Arista Switches can form a RadSec tunnel using SSL encryption with AGNI. RadSec is a protocol that supports RADIUS over TCP and TLS. For mutual authentication it is required to install a client certificate with corresponding private key as well as your AGNI CA certificate. The steps below assumes the use of AGNI's internal PKI.</p> <p>Follow the steps to create, upload and establish the RadSec tunnel.</p> <ol> <li>Generate private key and CSR</li> <li>Generate client certificate for the Switch in AGNI. </li> <li>Upload the Certificate to the Switch.</li> <li>Configure an SSL profile and and RadSec profile  </li> </ol>"},{"location":"c_security/c03_lab/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c03_lab/#configuration-steps","title":"Configuration Steps","text":"<ol> <li> <p>Generate the key pair</p> <pre><code>security pki key generate rsa 2048 switch.key\n</code></pre> </li> <li> <p>Generate the certificate signing request using the key just created.</p> Common Name must correspond to the Switch MAC address and the DNS needs to match the hostname of the switch <pre><code>security pki certificate generate signing-request key switch.key\n</code></pre> Certificate Signing Request <pre><code>Common Name for use in subject: 2c:dd:e9:fe:cd:68 \nTwo-Letter Country Code for use in subject: US \nState for use in subject: FL \nLocality Name for use in subject: NFM \nOrganization Name for use in subject: Arista \nOrganization Unit Name for use in subject: acws \nEmail address for use in subject:\nIP addresses (space separated) for use in subject-alternative-name:\nDNS names (space separated) for use in subject-alternative-name: pod00-leaf1a \nEmail addresses (space separated) for use in subject-alternative-name:\nURIs (space separated) for use in subject-alternative-name:\n-----BEGIN CERTIFICATE REQUEST-----\nMIIC0DCCAbgCAQAwYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAkZMMQwwCgYDVQQH\nDANORk0xDTALBgNVBAoMBGFjd3MxDDAKBgNVBAsMA2NzZTEaMBgGA1UEAwwRMmM6\nZGQ6ZTk6ZmY6MzI6YjIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC1\nUDFDsidF4qhGzIEgNUlcNPtfvAGic/hQelaD9MgvOUbbVUhEg0hcbA/LLcyZQ+f/\nB0f/UK7eyuNhtS3lTYf7A1TqCQ7md8d4opcKbiP7vFg6+dpvAXT8giBlstv790LY\nwEpuCKX4igkLx+jMlNNOP7tKnuX2tuK/EYi20O2a0e4LR77ebBZpztiia9prCyvk\nneNhtAPMeb/O/kUBnmPwpPDy4jtpPhp8I+xX9zo4nRNjVlFcRRNao/N72kIpnmX8\nnnAXIcG/I1bLsgspWIwwiV3MUL3pOKUNqXaKf824/ZJgPAtUA2zgp9JayMbbddOE\nA3dKTwBkGOXihZkVDTnrAgMBAAGgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQ\nMA6CDHBvZDAwLWxlYWYxYTANBgkqhkiG9w0BAQsFAAOCAQEAp8pxdX1qJ8uPFrQW\nZmMmOZ+RM3lEDOJkhNA2aRVonWeejp0bz5qToT8E41RPyLIdQ56Pa+zeGx5occg8\n3nK3aFAu1ARPR1EJ8E04656c9v6zpF9np3juwLJm0uiM16XgUMvEmQd1anRELndn\nr53jlXKAcsKdFMSaW0MqXY6DN8a1PmI3KL0zzOKpwtcRSjvAXFTN8viSPOL/vrRL\nXTqVaa+P1d7PgRBoSi5DFY6U9nwHD42yP0kCbq98wxDrLyTfMV20ymY083XHdKPz\nY4dI+YfHeK48QLBSLUKB9CrOC0XyhIMtCxBGkJ+umZy3wktZHCCkvDej7NoiNZal\n4uEbIg==\n-----END CERTIFICATE REQUEST-----\n</code></pre> </li> <li> <p>Copy the certificate including the text \u201c-----BEGIN CERTIFICATE REQUEST-----\u201d and \u201c-----END CERTIFICATE REQUEST-----\u201d</p> </li> <li> <p>Select your Access Device from the list and select Get Client Certificate.</p> </li> <li> <p>Select Use CSR (Single Device) and Paste CSR.</p> Note 1: CSR can also be uploaded from file by selecting action Upload CSR File Note 2: For signing multiple CSRs select Upload Zip with multiple CSRs <p></p> </li> <li> <p>Click Generate Certificate. A certificate <code>pod00-leaf1a.pem</code> will be generated and downloaded. Rename this file to <code>switch.pem</code></p> </li> <li> <p>Go to RadSec Setting in the Navigator under Administration section to download the CA certificate.</p> </li> <li> <p>Download the RadSec CA certificate (radsec_ca_certificate.pem) by clicking Download Certificate.</p> <p>In AGNI Click on <code>Configuration \u2192 System \u2192 RadSec Settings</code> on the left hand side.</p> <p></p> <p>Copy the FQDN <code>radsec.beta.agni.arista.io</code> and <code>Download the Certificate</code> at the bottom.</p> <p></p> </li> <li> <p>Copy certificates to the switch     The certificate and root certificate need to be copied to the switch flash using SCP.     Prerequisites:     Settings on switch to be able to SCP over the certs. Provide a username and password with network-admin role. Ensure the following settings are configured on the switch:</p> <pre><code>aaa authentication login console local\naaa authorization exec default local\n</code></pre> </li> <li> <p>Copy the certificates to the switch flash using SCP.</p> <pre><code>scp switch.pem radsec_ca_certificate.pem arista@&lt;switch_ip&gt;:/mnt/flash:\n</code></pre> </li> <li> <p>Login to your switch using the <code>arista</code> user credentials and verify the certificates are present in the flash.</p> <pre><code>dir\n</code></pre> </li> <li> <p>Copy the certificates to the certificate store.</p> <pre><code>copy flash:switch.pem certificate:switch.pem\ncopy flash:radsec_ca_certificate.pem certificate:radsec_ca_certificate.pem\ndir certificate:\n</code></pre> </li> <li> <p>Verify the certificate validity.</p> <pre><code>show management security ssl profile agni-server\n</code></pre> <pre><code>    Profile     State\n    ----------- -----\n    agni-server valid\n</code></pre> </li> </ol>"},{"location":"c_security/c03_lab/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c03_lab/#create-a-workspace","title":"Create a Workspace","text":"<p>We are going to create a workspace to propose changes to the Network Infrastructure.  A workspace acts as a sandbox where you can stage your configuration changes before deploying them.</p> What is a Workspace? <p>To make a comparison, a workspace is like a <code>configuration session</code> in EOS or a branch in Git!</p> Studios Step 1Studios Step 2 <p>Click on the <code>Provisioning</code>  on the left side, then choose <code>Studios</code>.</p> <p></p> <p>Click <code>Create a Workspace</code>, give it any name you would like and click <code>Create</code>.</p> <p></p>"},{"location":"c_security/c03_lab/#update-port-profile","title":"Update Port Profile","text":"<p>Here we will update our existing raspberry pi port profile to enable 802.1X</p> <p>Single Workspace</p> <p>You and your fellow student will work together to create the port profile for your campus fabric in a single workspace.</p> <ol> <li> <p>From the <code>Studios</code> home page, disable the <code>Active Studios</code> toggle to display all available CloudVision Studios (which when enabled will only show used/active Studios).</p> <p>The toggle may already be in the disabled position</p> <p></p> </li> <li> <p>Let's update the <code>Wired-RasPi</code> port profile for our Raspberry Pi and enable 802.1x, click the arrow on the right and enable the following:</p> Wired-RasPi Key Value 802.1X Enabled MAC Based Authentication Yes </li> <li> <p>Our port profiles have been staged, click <code>Review Workspace</code></p> </li> <li> <p>We can see the only studio changed is the <code>Access Interface Configuration</code>, we will see the ports assigned are updated.</p> </li> <li> <p>Go ahead and <code>Submit the Workspace</code> when you ready</p> </li> <li> <p>Click View <code>Change Control</code></p> </li> <li> <p>Review the Change Control and select <code>Review and Approve</code></p> </li> <li> <p>Toggle the <code>Execute Immediately</code> button and select <code>Approve and Execute</code></p> </li> <li> <p>The port is now enabled for 802.1X, let's now get your switch talking back to AGNI.</p> </li> </ol>"},{"location":"c_security/c03_lab/#enable-radsec","title":"Enable RadSec","text":"<p>In this lab you will be configuring RadSec on your lab switches by adding the RadSec configuration to the switches via the Static Configuration Studio.</p> <ol> <li>Click on the <code>Provisioning</code> menu option, then choose <code>Studios</code>.</li> <li>Let's open the <code>Static Configuration Studio</code></li> </ol> <p></p> <ol> <li>Select your respective switch</li> <li>In the <code>Device Container</code> window, click on <code>+ Configlet</code> followed by <code>Configlet Library</code>.</li> </ol> <p></p> <ol> <li>Select the configlet named for your switch, should be <code>radsec</code> and click <code>Assign</code> to add the configlet to the switch</li> </ol> <p></p> <ol> <li> <p>Click <code>Review Workspace</code> to review all the changes proposed to the CloudVision Studio</p> </li> <li> <p>Review the workspace details showing the summary of modified studios, the build status, and the proposed configuration changes for each device. When ready click <code>Submit Workspace</code></p> <p></p> What does this configuration do?! <p>Click below on the lines to understand what each line does</p> <pre><code>!\nmanagement security\n    ssl profile agni-server #(1)!\n        certificate pod00-leaf1a.crt key agni-private.key #(2)!\n        trust certificate radsec_ca_certificate.pem #(3)!\n!\nradius-server host radsec.beta.agni.arista.io tls ssl-profile agni-server #(4)!\n!\naaa group server radius agni-server-group #(5)!\n    server radsec.beta.agni.arista.io tls\n!\naaa authentication dot1x default group agni-server-group\naaa accounting dot1x default start-stop group agni-server-group\n!\n</code></pre> <ol> <li>Create an SSL profile</li> <li>This is the switch key and certificate, this certificate was generated on EOS, signed by AGNI, and installed in the store.</li> <li>This is the trusted certificate downloaded from AGNI and installed on the EOS certificate store</li> <li>This enabled RadSec on the device, configured to using our SSL profile</li> <li>Create the AAA radius server group, we use this to enforce client authentication via dot1x later on in this lab</li> </ol> </li> <li> <p>Click <code>View Change Control</code> and review the Change Control, hit <code>Review and Approve</code> when ready.</p> <p></p> </li> <li> <p>Select <code>Execute immediately</code> and click <code>Approve and Execute</code></p> <p></p> </li> <li> <p>The change control will execute and apply all the RadSec configuration changes to the device. This will enable RadSec connectivity between the switch and AGNI.</p> <p>&lt;!-- !!! tip \"Automating Certificates\"</p> <pre><code>The switch and AGNI certs were generated, signed, and installed using automation before hand. Specifically ansible and leveraging both the switch eAPI and AGNI API. You can read more on how this role works [EOS AGNI Radsec (GitHub)](https://github.com/carl-baillargeon/eos_agni_radsec/tree/main){target=\"_blank\"}\n</code></pre> <p></p> </li> <li> <p>See the Configuring RadSec in EOS for additional information. \u2192</p> </li> </ol>"},{"location":"c_security/c03_lab/#agni-login_1","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"c_security/c03_lab/#create-wired-eap-tls-network-and-segment","title":"Create Wired EAP-TLS Network and Segment","text":"<ol> <li> <p>Click on <code>Access Devices &gt; Devices</code> to confirm the RadSec connection is up.</p> <p></p> </li> <li> <p>In this section we will create a Network and Segment in CloudVision AGNI to utilize a certificate based TLS authentication method on a wired connection with a Raspberry Pi.</p> </li> <li> <p>Click on <code>Networks</code> and select <code>+ Add Network</code></p> <p></p> </li> <li> <p>Before configuring the network, see <code>Access Device Group</code>, click on the <code>+</code> to create a new device group.</p> Network Settings Field Student 1 Student 2 Name WIRED-A WIRED-A Description WIRED-A WIRED-A Available Devices (<code>+ Add</code>) pod##-leaf1 pod##-leaf1 </li> <li> <p>Fill in and select the Following fields on the <code>Add Network</code> page.</p> Network Settings Field Student 1 Student 2 Name ATD-##-WIRED ATD-##-WIRED Connection Type Wired Wired Access Device Group WIRED-A WIRED-A Status Enabled Enabled Authentication type Client Certificate (EAP-TLS) Client Certificate (EAP-TLS) Fallback to mac Authentication Enabled Enabled MAC Authentication Type Allow Registered Clients Only Allow Registered Clients Only Onboarding Enabled Enabled Authorized User Groups Arista Arista <p></p> </li> <li> <p>When done, click on <code>Add Network</code> at the bottom of the screen.</p> </li> <li> <p>Next, click on <code>Segments</code> and then <code>+ Add Segment</code></p> <p></p> </li> <li> <p>Configure the network segment with the following settings:</p> Segment Settings Field Student 1 Student 2 Name ATD-##-WIRED ATD-##-WIRED Description ATD-##-WIRED ATD-##-WIRED Condition #1 <code>Network:Name is ATD-##A-WIRED</code> <code>Network:Name is ATD-##-WIRED</code> Condition #2 <code>Network:Authentication Type is Client Certificate (EAP-TLS)</code> <code>Network:Authentication Type is Client Certificate (EAP-TLS)</code> Action #1 <code>Allow Access</code> <code>Allow Access</code> <p></p> </li> <li> <p>Finally, select <code>Add Segment</code> at the bottom of the page.</p> </li> <li> <p>You should now be able to expand and review your segment.</p> <p></p> </li> <li> <p>Next, click on <code>Sessions</code> to see if your ATD Raspberry Pi has a connection via the Wired connection.</p> <p></p> <p>Client Certificate</p> <p>The Client Certificate has already been applied to the Raspberry Pi.</p> </li> </ol>"},{"location":"c_security/c03_lab/#validate-and-verify-wired-eap-tls-device","title":"Validate and Verify Wired EAP-TLS Device","text":""},{"location":"c_security/c03_lab/#agni","title":"AGNI","text":"<ol> <li>Once the device is connected you will be able to view the status of the connection and additional session details if you click on the Eye to the right of the device.</li> <li>AGNI will then display more in depth session information regarding the device and connection.</li> </ol>"},{"location":"c_security/c03_lab/#cloudvision-endpoint-overview","title":"CloudVision Endpoint Overview","text":"<p>Show Endpoint Overview, search for a device on the students pod, sflow will be enabled, should be able to see more info about authentication, traffic flows, and</p>"},{"location":"c_security/c03_lab/#eos-cli","title":"EOS CLI","text":"<p>You can also validate the session on the switch by issuing the following commands in the switch CLI</p> <pre><code>show dot1x host\nshow dot1x host mac d83a.dd98.6183 detail\n</code></pre> <pre><code>pod00-leaf1a#show dot1x host\nPort      Supplicant MAC Auth  State                   Fallback               VLAN\n--------- -------------- ----- ----------------------- ---------------------- ----\nEt2       d83a.dd98.6183 EAPOL SUCCESS                 NONE\n\npod00-leaf1a#show dot1x host mac d83a.dd98.6183 detail\nOperational:\nSupplicant MAC: d83a.dd98.6183\nUser name: aristaatd01@outlook.com\nInterface: Ethernet2\nAuthentication method: EAPOL\nSupplicant state: SUCCESS\nFallback applied: NONE\nCalling-Station-Id: D8-3A-DD-98-61-83\nReauthentication behaviour: DO-NOT-RE-AUTH\nReauthentication interval: 0 seconds\nVLAN ID:\nAccounting-Session-Id: 1x00000004\nCaptive portal:\nAAA Server Returned:\nArista-WebAuth:\nClass: Rcnlkerh9ci3s72u197e0|C4151a596-baab-444b-a4fd-ad40946d8b5f\nFilter-Id:\nFramed-IP-Address: 192.168.101.21 sourceArp\nNAS-Filter-Rule:\nService-Type: None\nSession-Timeout: 86400 seconds\nTermination-Action: RADIUS-REQUEST\nTunnel-Private-GroupId:\nArista-PeriodicIdentity:\n</code></pre> <p>\ud83c\udf89 CONGRATS! You have completed the Security labs! \ud83c\udf89</p>"},{"location":"lab/access/","title":"Lab Access","text":""},{"location":"lab/access/#campus-lab-overview","title":"Campus Lab Overview","text":"<p>Welcome to the Arista Campus Workshop! You've made it to our hands-on lab environment where you'll get practical experience with real Arista hardware and software.</p> <p>In front of you is a complete campus network pod featuring Arista switches running the same EOS operating system found in our enterprise-grade chassis switches, along with wireless access points and all the tools needed for a comprehensive campus networking experience.</p> <p>Throughout this workshop, you'll work collaboratively with your assigned lab partner to explore both wired and wireless campus solutions, from initial device provisioning through advanced security configurations. Each pod is equipped with dedicated instances of Arista's cloud management platforms, giving you the full production experience.</p> <p>Get ready to dive into real-world scenarios including Zero-Touch Provisioning, CloudVision management, wireless deployment with CV-CUE, and network security with AGNI!</p> <p>In total there are:</p> <ul> <li> 1 x Student assigned per pod</li> <li> Up to 20 x Arista Campus Pods</li> </ul>"},{"location":"lab/access/#topology","title":"Topology","text":""},{"location":"lab/access/#equipment","title":"Equipment","text":"<p>The hardware you see sitting in front of you can</p> <ul> <li> <p> Lab Software</p> <p>Except for CVaas, each pod will be provided their own instance of:</p> <ul> <li> Arista CloudVision as a Service (CVaaS) - Our management, orchestration, and visibility</li> <li> Arista CloudVision Cognitive Unified Edge (CV-CUE) - Our wireless management, orchestration, and visibility</li> <li> Arista Guardian Network Identity (AGNI) - Our Network Access Control</li> </ul> </li> <li> <p> Lab Hardware</p> <p>The hardware you see sitting in front of you:</p> <ul> <li> 2 x C-230 controllerless AP</li> <li> 1 x 710P-12P running EOS</li> </ul> </li> <li> <p> Student Equipment</p> <p>As part of this lab workshop, it was recommended to have brought the following:</p> <ul> <li> Laptop</li> <li> Extra screen (optional)</li> <li> USB/USB-C Ethernet dongle</li> <li> Ethernet Cable</li> <li> Console Cable</li> </ul> </li> <li> <p> Student Config</p> <p>You will work in collaboration with your fellow student, keep this information handy</p> <ul> <li> Student a or b. See Lab Assignment</li> <li> Your POD number. See Lab Assignment</li> <li> Your assigned spine login. See Lab Assignment</li> <li> Your LOGIN ID to Arista Launchpad. Your corporate email address</li> <li> Your PASSWORD. Emailed to you upon Arista Launchpad account creation</li> </ul> </li> </ul>"},{"location":"lab/access/#lab-assignment","title":"Lab Assignment","text":"Email Lab Assignment Student Pod # ATD Token derek.legler@wwt.com student1 pod01 ATD Instance 1 greg.asher@wwt.com student2 pod02 ATD Instance 2 Ignatius.Chibale@wwt.com student3 pod03 ATD Instance 3 joseph.marentette@wwt.com student4 pod04 ATD Instance 4 matt.jones@wwt.com student5 pod05 ATD Instance 5 nate.jennemann@wwt.com student6 pod06 ATD Instance 6 nathan.bogan@wwt.com student7 pod07 ATD Instance 7 tanner.paige@wwt.com student8 pod08 ATD Instance 8 dennis.jaeger@wwt.com student9 pod09 ATD Instance 9 nicolas.rodgers@wwt.com student10 pod10 ATD Instance 10 nathan.litz@wwt.com student11 pod11 ATD Instance 11 john.stillwell@wwt.com student12 pod12 ATD Instance 12 tyler.turner@wwt.com student13 pod13 ATD Instance 13 dave.keiner@wwt.com student14 pod14 ATD Instance 14 bob.seiter@wwt.com student15 pod15 ATD Instance 15 justin.girdler@wwt.com student16 pod16 ATD Instance 16 ryan.salihar@wwt.com student17 pod17 ATD Instance 17 nathan.nielsen@wwt.com student18 pod18 ATD Instance 18 Christopher.Hoff@wwt.com student19 pod19 ATD Instance 19 rita.younger@wwt.com student20 pod20 ATD Instance 20 brandon.mainock+cws@arista.com student21 pod21 ATD Instance 21 dcapetz@arista.com - - ATD Instance 22"},{"location":"lab/access/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"references/agenda/","title":"Agenda","text":""},{"location":"references/agenda/#campus-workshop-agenda","title":"Campus Workshop Agenda","text":"Time Activity Day 1 Wired and Wireless 8:30 - 8:55 Intros 9:00-9:25 Overview of Arista Campus Architecture 9:30-10:30 Labs: Arista CloudVision for Campus - Build the Campus Fabric Wired Lab A-02-ATD: Provisioning a Campus Fabric - Virtual Lab Wired Lab A-03: Access Interface Configuration 10:35 - 11:55 Labs: Arista Wireless with CV-CUE - Build the Wireless Fabric Wireless Lab B-01: Wireless Setup Wireless Lab B-02: Troubleshooting WiFi 12:00pm - 12:50pm Lunch-and-Learn Overview of Arista Zero Trust Networking Security Remote Presentation 1:00 - 1:25 Q&amp;A and Recap of the morning sessions 1:30 - 2:25 Labs: Guest Wireless and Hitless Upgrade Wireless Lab B-03: Guest WiFi with AGNI Wireless Lab B-04: Smart System Upgrade (SSU) 2:30 - 3:25 Labs: Closer look at EOS Wired Lab A-01 Explore EOS 3:30 - 4:25 Labs: CloudVision Telemetry Wired Lab A-04: Operations, Dashboards and Events 4:30 - 5:00 Q&amp;A and Recap of the afternoon session 5:00 - 6:00 Happy Hour - Location TBD 6:00 - 8:00 Team Dinner Day 2 Security, Design and Competition 8:30 - 8:55 Q&amp;A and Recap of Day 1 9:00 - 9:25 Overview of Arista Network Access Control (NAC) with AGNI 9:30 - 10:25 Labs: AGNI - Enforce Network Access Policies - Wireless AGNI Lab C-01: AGNI and WiFi EAP-TLS 802.1X AGNI Lab C-02: AGNI and Unique Pre-Shared Keys (UPSK) 10:30 - 10:55 Labs: AGNI - Enforce Network Access Policies - Wired AGNI Lab C-03: AGNI and Wired EAP-TLS 11:00 - 11:25 Overview of Intangi Iris 11:30 - 11:55 Labs: Iris - Design, Configure and Price Out Your Network Iris Lab D-00: Iris Design, Configuration and Pricing 12:00 - 12:50pm Lunch and Q&amp;A 1:00 - 2:00 Till the next time!"},{"location":"references/agni_tacacs/","title":"AGNI Tacacs","text":""},{"location":"references/agni_tacacs/#configuring-agni-tacacs","title":"Configuring AGNI Tacacs","text":""},{"location":"references/agni_tacacs/#overview","title":"Overview","text":"<p>This lab is intended to use the Campus Workshop to showcase how to configure TACACS+ with AGNI. There are many online resources available, this will only include the basics of what's required.</p>"},{"location":"references/agni_tacacs/#agni-configuration","title":"AGNI Configuration","text":""},{"location":"references/agni_tacacs/#arista-cloud-gateway-agni","title":"Arista Cloud Gateway (AGNI)","text":"<p>Login into AGNI to begin this lab, you will create the Arista Cloud Gateway.</p> <ol> <li>Under the <code>Configuration</code> section, click on <code>Access Devices &gt; Cloud Gateways</code></li> <li> <p>Add the gateway with the settings below</p> ACG Settings Setting Student 1 Name <code>ATD-POD01</code> Location <code>Locations</code> TACACS+ Termination Enabled Shared Secret Name <code>Access</code> Value <code>Arista!123</code> </li> <li> <p>Be sure to copy the generated <code>Token</code> value, this will used in our EOS configuration</p> <p>Token Generation</p> <p>The token can only be viewed this one time, if you forget to copy you must regenerate the token.</p> </li> <li> <p>Verify the settings and click <code>Add Cloud Gateway</code> when complete</p> </li> <li>That's it, there is now a ACG instance configured for all devices</li> </ol>"},{"location":"references/agni_tacacs/#acg-connection-cvp","title":"ACG Connection (CVP)","text":"<p>Configuring your switches for Tacacs is easy as applying a configlet to all or select devices. We're going to use studios to demonstrate</p> <ol> <li>Login to CloudVision</li> <li>Navigate to <code>Provisioning &gt; Studios</code></li> <li>Click on <code>Create Workspace</code> and name it whatever you'd like</li> <li>Next, select <code>Static Configuration</code></li> <li> <p>Select only your device and click <code>+ Configlet &gt; Configlet Library</code>, select the <code>tacacs</code> configuration</p> <p>Apply to all devices</p> <p>You could apply the configuration at the container <code>Workshop</code>. This container has the device tag <code>Device: All Devices</code>, this means all devices would inherit this configuration without the need to go to each device. You could also create your own container and leverage any tag query to target specific subset of devices.</p> <ol> <li>Once the configlet is applied, click on <code>Review Workspace</code></li> <li>Validate the configuration is correct and <code>Submit Workspace</code></li> <li>Click on <code>Change Control</code> and <code>Approve and Execute</code> the change</li> </ol> </li> </ol>"},{"location":"references/agni_tacacs/#acg-connection-eos","title":"ACG Connection (EOS)","text":"<p>Whil we used cloudvision to configure the device, you can also log directly into the switch</p> <ol> <li>Login to the switch</li> <li> <p>Cloud Gateway should have been downloaded and installed on the switch. You can verify on EOS by running the following command</p> <pre><code>show extensions:\nshow boot-extensions:\n</code></pre> <pre><code>POD00-LEAF1A[12:07:37]#show extensions\nName                                 Version/Release      Status       Extension\n------------------------------------ -------------------- ------------ ---------\nAristaCloudGateway-1.0.2-1.swix      1.0.2/1              A, I, B      1\n\n\nA: available | NA: not available | I: installed | F: forced | B: install at boot\nS: valid signature | NS: invalid signature\nThe extensions are stored on internal flash (flash:)\n\nPOD00-LEAF1A[12:07:38]#show boot-extensions\nAristaCloudGateway-1.0.2-1.swix\n</code></pre> </li> <li> <p>Let's add the configuration to start the ACG daemon</p> <pre><code>daemon AristCloudGateway\n    exec /usr/bin/acg\n    option AGNI_API_TOKEN value {{ your_agni_acg_token }}\n    no shutdown\n</code></pre> Example Output<pre><code>This is an EosSdk application\nFull agent name is 'acg-AristCloudGateway'\n</code></pre> </li> <li> <p>You can verify the configuration works as expected</p> <pre><code>trace monitor acg\n</code></pre> Example Output<pre><code>POD00-LEAF1A[12:23:54]#trace monitor acg\n--- Monitoring /var/log/agents/acg-AristCloudGateway-30753 ---\n2025/02/04 12:23:58 DEBUG [swix] AGNI_API_TOKEN(md5sum) : 76938f1bb8fc5517c01c106d1febdaf0\n2025/02/04 12:23:58 DEBUG [swix] ENABLE_DEBUG_LOG : false\n2025/02/04 12:23:58 DEBUG [swix] AGNI_ACG_TACACS_PORT : 49\n2025/02/04 12:23:58 DEBUG [swix] AGNI_ACG_ENABLE_DHCP : false\n2025/02/04 12:23:58 DEBUG [swix] AGNI_ACG_VRF : default\n2025/02/04 12:23:58 DEBUG [swix] acg service started\n2025/02/04 12:23:58 DEBUG [swix] acg service started [pid=30809]\n2025/02/04 18:24:03 INFO acg - dhcp module is disabled\n2025/02/04 18:24:03 INFO tacacs - started gateway at 0.0.0.0:49\n2025/02/04 18:24:03 INFO websocket - connected successfully to wss://beta.agni.arista.io/acg/connect\n</code></pre> </li> <li> <p>You can look in AGNI under the <code>Access Devices &gt; Cloud Gateways</code> and now see the status is green </p> </li> </ol>"},{"location":"references/agni_tacacs/#tacacs-configuration","title":"TACACS Configuration","text":""},{"location":"references/agni_tacacs/#tacacs-profile","title":"TACACS Profile","text":"<ol> <li>Configure a Tacacs Profile under <code>Device Administration &gt; TACACS+ Profiles</code></li> <li> <p>Create a new profile with the basic settings</p> TACACS Profile Settings Setting Value Name <code>network-admin</code> Description <code>Network Administrator</code> Privilege Level 15 Allow Enabled Enabled Action for unmatched commands Permit </li> <li> <p>Next add a Service Attribute using these settings</p> TACACS Profile Settings Setting Value Select Service <code>shell</code> Attribute #1 <code>priv-lvl</code> = <code>15</code> </li> <li> <p>Click <code>Add TACACS+ Profile</code> when complete</p> </li> </ol>"},{"location":"references/agni_tacacs/#access-policy","title":"Access Policy","text":"<ol> <li>Configure a Access Policy under <code>Device Administration &gt; Access Policy</code></li> <li> <p>Create a new profile with the basic settings</p> TACACS Profile Settings Setting Value Enable Device Administration Enabled Authorized User Groups Employees Device Login Pass Validity 30 </li> <li> <p>Next, create a policy by selecting <code>Add Policy</code></p> TACACS Profile Settings Setting Value Name network-admin Description Network Administrator Policy Type TACACS+ Status Enabled Condition <code>User:Group</code> <code>is</code> <code>Employees</code> Action <code>TACACSProfile</code> <code>network-admin</code> </li> <li> <p>Click <code>Add Policy</code></p> </li> <li>End of this section</li> </ol>"},{"location":"references/agni_tacacs/#user-add","title":"User Add","text":"<p>Typically this would be populated via an identity management platform, here we will add a static user.</p> <ol> <li>User &gt; Users</li> <li>Add User</li> <li>User Groups</li> <li>Add user to Employees</li> <li>Update User Groups</li> </ol>"},{"location":"references/agni_tacacs/#eos-tacacs-configuration","title":"EOS Tacacs Configuration","text":"<ol> <li> <p>Use the following configuration</p> <pre><code>tacacs-server policy unknown-mandatory-attribute ignore\n!\ntacacs-server host 0.0.0.0 key Arista!123\n!\naaa group server tacacs+ agni-tacacs\n    server 0.0.0.0\n!\naaa authentication login default local group agni-tacacs\naaa authorization exec default local group agni-tacacs\naaa authorization commands all default local group agni-tacacs\n</code></pre> </li> </ol> <p>2.</p> <p>show users detail</p>"},{"location":"references/arista_eos_guide/","title":"Arista EOS Tips & Tricks","text":""},{"location":"references/arista_eos_guide/#eos-overview-and-tips-for-network-operators","title":"EOS Overview and Tips for Network Operators","text":""},{"location":"references/arista_eos_guide/#overview","title":"Overview","text":"<p>Arista EOS (Extensible Operating System) is built on a foundation of quality, reliability, and programmability. This guide covers essential EOS features and practical tips for network operators.</p>"},{"location":"references/arista_eos_guide/#eos-architecture","title":"EOS Architecture","text":"<p>EOS features a unique architecture with several key advantages:</p> <ul> <li>Decoupled State from Process: Self-healing processes ensure system stability</li> <li>Live Patching: Updates without downtime</li> <li>Unmodified Linux Kernel: Full Linux compatibility</li> <li>Industry Standard CLI: Familiar command-line interface</li> <li>Consistent API: eAPI for automation</li> <li>Access to Bash: Direct Linux shell access</li> </ul>"},{"location":"references/arista_eos_guide/#platform-flexibility","title":"Platform Flexibility","text":"<p>EOS runs across multiple deployment models:</p> Platform Use Case Description Standard EOS Production Networks Hardware + Software bundled solution vEOS Lab Simulation EOS in a virtual machine cEOS Container Networks EOS in a container CloudEOS Cloud Native Multi-hypervisor cloud deployment"},{"location":"references/arista_eos_guide/#quality-metrics","title":"Quality Metrics","text":"<p>Over approximately 12 years of development:</p> <ul> <li>1 OS version across all switching &amp; routing platforms</li> <li>8 Software regression bugs</li> <li>30 Security advisories (CVEs)</li> <li>2 Security advisories requiring downtime</li> <li>~1,000 Quality control testbeds</li> <li>230,000+ Auto-tests per day</li> <li>&lt;1% EOS defect rate</li> </ul>"},{"location":"references/arista_eos_guide/#eos-lifecycle","title":"EOS Lifecycle","text":""},{"location":"references/arista_eos_guide/#release-types","title":"Release Types","text":""},{"location":"references/arista_eos_guide/#f-releases-new-feature-phase","title":"F Releases (New Feature Phase)","text":"<ul> <li>Introduces new features and/or platforms</li> <li>Multiple releases for ongoing development</li> <li>Active development phase</li> </ul>"},{"location":"references/arista_eos_guide/#m-releases-maintenance-phase","title":"M Releases (Maintenance Phase)","text":"<ul> <li>Identified with \"M\" in version number</li> <li>Incremental fixes only</li> <li>No new functionality added</li> <li>Periodic releases as needed</li> <li>30 months support duration</li> </ul>"},{"location":"references/arista_eos_guide/#support-only-phase","title":"Support Only Phase","text":"<ul> <li>Software upgrade required for bug fixes</li> <li>6 months duration before end-of-life</li> </ul>"},{"location":"references/arista_eos_guide/#basic-system-commands","title":"Basic System Commands","text":""},{"location":"references/arista_eos_guide/#system-information","title":"System Information","text":""},{"location":"references/arista_eos_guide/#show-version","title":"Show Version","text":"<pre><code>SWITCH#show version\n</code></pre> <p>Example output: </p><pre><code>Arista CCS-720XP-48ZC2-F\nHardware version: 10.50\nSerial number: JPE19181588\nHardware MAC address: fcbd.670f.3c31\nSystem MAC address: fcbd.670f.3c31\nSoftware image version: 4.31.3M\nArchitecture: i686\nInternal build version: 4.31.3M-36737551.4313M\nInternal build ID: c8d3a574-c649-455d-90a4-b2510051cf0d\nImage format version: 3.0\nImage optimization: Strata-4GB\nUptime: 8 hours and 4 minutes\nTotal memory: 3952980 kB\nFree memory: 2220948 kB\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#system-environment","title":"System Environment","text":"<pre><code>SWITCH#show system environment all\n</code></pre>"},{"location":"references/arista_eos_guide/#interface-status","title":"Interface Status","text":"<pre><code>SWITCH#show interface ethernet1\n</code></pre>"},{"location":"references/arista_eos_guide/#configuration-management","title":"Configuration Management","text":""},{"location":"references/arista_eos_guide/#save-configuration","title":"Save Configuration","text":"<pre><code># Save running config to startup config\nSWITCH#copy running-config startup-config\n\n# Alternative method\nSWITCH#write memory\n\n# Short form\nSWITCH#wr mem\n</code></pre>"},{"location":"references/arista_eos_guide/#erase-startup-configuration","title":"Erase Startup Configuration","text":"<pre><code>SWITCH#erase startup-config\n</code></pre>"},{"location":"references/arista_eos_guide/#eos-upgrades","title":"EOS Upgrades","text":""},{"location":"references/arista_eos_guide/#installation-process","title":"Installation Process","text":"<ol> <li> <p>Copy new EOS image to flash:    </p><pre><code># Verify current boot configuration\nEOS1#show boot-config\n</code></pre><p></p> </li> <li> <p>Install new image:    </p><pre><code>EOS1(config)#install system flash:EOS-4.31.3M.swi\n</code></pre><p></p> </li> <li> <p>Reload the switch:    </p><pre><code>EOS1(config)#reload\n</code></pre><p></p> </li> </ol>"},{"location":"references/arista_eos_guide/#advanced-cli-features","title":"Advanced CLI Features","text":""},{"location":"references/arista_eos_guide/#show-active-configuration","title":"Show Active Configuration","text":"<p>View configuration for current context instead of full running-config: </p><pre><code>SWITCH(config-if-Et1)#show active\n</code></pre><p></p> <p>Example output: </p><pre><code>interface Ethernet1\n   description EOS1\n   mtu 9216\n   no switchport\n   ip address 10.1.18.18/24\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#event-monitor","title":"Event Monitor","text":"<p>Monitor changes to system tables in real-time:</p>"},{"location":"references/arista_eos_guide/#enable-event-monitor","title":"Enable Event Monitor","text":"<pre><code>SWITCH(config)#event-monitor\nSWITCH(config)#event-monitor sync\n</code></pre>"},{"location":"references/arista_eos_guide/#view-event-monitor-data","title":"View Event Monitor Data","text":"<pre><code>SWITCH#show event-monitor arp\n</code></pre> <p>Automatically stores changes to: - ARP tables - IGMP snooping - LACP - MAC address tables - Multicast routes - Routes (IPv4/IPv6) - Spanning Tree Protocol</p>"},{"location":"references/arista_eos_guide/#watch-command","title":"Watch Command","text":"<p>Real-time monitoring of command output:</p>"},{"location":"references/arista_eos_guide/#basic-watch","title":"Basic Watch","text":"<pre><code># Update every 2 seconds (default)\nSWITCH#watch show ip arp\n\n# Update every 1 second with diff highlighting\nSWITCH#watch 1 diff show ip arp\n</code></pre>"},{"location":"references/arista_eos_guide/#advanced-watch-example","title":"Advanced Watch Example","text":"<pre><code># Watch MAC address table changes\nSWITCH#watch 1 diff show mac address-table\n</code></pre>"},{"location":"references/arista_eos_guide/#command-history","title":"Command History","text":"<p>View command history for current session: </p><pre><code>SWITCH#show history | begin conf\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#cli-command-discovery","title":"CLI Command Discovery","text":"<p>Find available commands with grep filtering: </p><pre><code># Show all commands containing \"distance\"\nSWITCH#show cli commands all-modes | grep -i distance\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#cli-scheduler","title":"CLI Scheduler","text":""},{"location":"references/arista_eos_guide/#default-tech-support-collection","title":"Default Tech-Support Collection","text":"<p>EOS automatically runs tech-support every 60 minutes: </p><pre><code>SWITCH#show schedule tech-support\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#custom-scheduler-examples","title":"Custom Scheduler Examples","text":"<p>Basic Interface Monitoring: </p><pre><code>SWITCH(config)#schedule show-int interval 10 max-log-files 10 command show interface counters\n</code></pre><p></p> <p>Automated Backup with TFTP: </p><pre><code>SWITCH(config)#schedule backup-config interval 30 timeout 1 max-log-files 10 command bash sudo ip netns exec ns-MGMT tftp 172.31.0.8 -c put /mnt/flash/startup-config $(hostname)_$(date +%Y-%m-%d-%H%M.%S.txt)\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#support-bundle-generation","title":"Support Bundle Generation","text":"<p>Generate comprehensive support bundle for TAC: </p><pre><code># Basic support bundle to flash\nSWITCH#send support-bundle flash:\n\n# Support bundle with case number\nSWITCH#send support-bundle flash: case-number 123456\n\n# Available destinations\nSWITCH#send support-bundle ?\n# flash:, ftp:, http:, https:, scp:, sftp:, tftp:\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#configuration-analysis-tools","title":"Configuration Analysis Tools","text":""},{"location":"references/arista_eos_guide/#configuration-differences","title":"Configuration Differences","text":"<p>Compare running and startup configurations: </p><pre><code>SWITCH#show running-config diffs\n</code></pre><p></p> <p>Example output: </p><pre><code>--- flash:/startup-config\n+++ system:/running-config\n@@ -70,7 +70,9 @@\n no switchport\n !\n interface Ethernet10\n- no switchport\n+ description Whoops...should have saved this\n+ switchport mode trunk\n+ switchport\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#non-zero-values-filter","title":"Non-Zero Values Filter","text":"<p>Show only non-zero statistics: </p><pre><code>SWITCH#show interfaces counters rates | nz\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#sanitized-configuration","title":"Sanitized Configuration","text":"<p>Remove passwords and sensitive data for sharing: </p><pre><code>SWITCH#show running-config sanitized\n</code></pre><p></p> <p>Example: </p><pre><code># Before sanitization\nSWITCH#show run sec snmp\nsnmp-server community asdf1234asdf ro\n\n# After sanitization  \nSWITCH#show run sanitized sec snmp\nsnmp-server community &lt;removed&gt; ro\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#configuration-sessions","title":"Configuration Sessions","text":"<p>Configuration sessions allow batch application of changes:</p>"},{"location":"references/arista_eos_guide/#create-configuration-session","title":"Create Configuration Session","text":"<pre><code>SWITCH#configure session MySession\nSWITCH(config-s-mysess)#\n</code></pre>"},{"location":"references/arista_eos_guide/#review-changes","title":"Review Changes","text":"<pre><code>SWITCH#show session-config diffs\n</code></pre>"},{"location":"references/arista_eos_guide/#commit-changes","title":"Commit Changes","text":"<pre><code># Immediate commit\nSWITCH(config-s-mysess)#commit\n\n# Commit with auto-rollback timer\nSWITCH(config-s-mysess)#commit timer 00:05:00\n\n# Confirm commit (if timer was set)\nSWITCH#configure session MySession commit\n</code></pre>"},{"location":"references/arista_eos_guide/#configuration-checkpoints","title":"Configuration Checkpoints","text":""},{"location":"references/arista_eos_guide/#list-previous-commits","title":"List Previous Commits","text":"<pre><code>SWITCH#show configuration checkpoints\n</code></pre>"},{"location":"references/arista_eos_guide/#view-previous-configuration","title":"View Previous Configuration","text":"<pre><code>SWITCH#more checkpoint:ckp-20240513-0\n</code></pre>"},{"location":"references/arista_eos_guide/#rollback-to-previous-configuration","title":"Rollback to Previous Configuration","text":"<pre><code>SWITCH#configure checkpoint restore ckp-20240513-0\n</code></pre>"},{"location":"references/arista_eos_guide/#advanced-cli-techniques","title":"Advanced CLI Techniques","text":""},{"location":"references/arista_eos_guide/#multiple-commands","title":"Multiple Commands","text":"<p>Execute multiple commands in sequence: </p><pre><code>SWITCH#run show version; show ip int brief; show int e5\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#advanced-multi-command-with-watch","title":"Advanced Multi-Command with Watch","text":"<pre><code>SWITCH#watch 1 diff run show int e48 counters rates | nz;!;!; show int e48 counters queue detail\n</code></pre> <p>Tip: Use <code>;!;!</code> to create buffer space between command outputs</p>"},{"location":"references/arista_eos_guide/#structured-data-output","title":"Structured Data Output","text":"<p>Convert command output to JSON format: </p><pre><code>SWITCH#show version | json\n</code></pre><p></p> <p>Example JSON output: </p><pre><code>{\n  \"mfgName\": \"Arista\",\n  \"modelName\": \"DCS-7280SR3K-48YC8-F\",\n  \"hardwareRevision\": \"11.02\",\n  \"serialNumber\": \"JPE21043548\",\n  \"systemMacAddress\": \"94:8e:d3:51:77:94\",\n  \"version\": \"4.31.1F\",\n  \"architecture\": \"x86_64\",\n  \"uptime\": 9452806.97,\n  \"memTotal\": 65734516,\n  \"memFree\": 61283092\n}\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#vrf-context","title":"VRF Context","text":"<p>Set CLI to operate within a specific VRF context: </p><pre><code>SWITCH#cli vrf MGMT\nSWITCH(vrf:MGMT)#show ip route\nSWITCH(vrf:MGMT)#ping 172.31.0.1\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#event-handlers","title":"Event Handlers","text":"<p>Event handlers allow automated responses to system events:</p>"},{"location":"references/arista_eos_guide/#event-handler-components","title":"Event Handler Components","text":"<ul> <li>Trigger: Condition that activates the handler</li> <li>Action: Response when trigger condition is met</li> </ul>"},{"location":"references/arista_eos_guide/#available-actions","title":"Available Actions","text":"<pre><code>SWITCH(config-handler-config-backup)#action ?\n# bash    - Define BASH command action\n# increment - Define INCREMENT command action  \n# log     - Log a message when triggered\n</code></pre>"},{"location":"references/arista_eos_guide/#available-triggers","title":"Available Triggers","text":"<pre><code>SWITCH(config-handler-config-backup)#trigger ?\n# on-boot           - System boot\n# on-config         - Handler configuration\n# on-counters       - Statistical counter evaluation\n# on-intf           - Interface changes\n# on-logging        - Log message regex match\n# on-maintenance    - Maintenance operations\n# on-startup-config - Startup config changes\n# vm-tracer         - VmTracer events\n</code></pre>"},{"location":"references/arista_eos_guide/#configuration-backup-example","title":"Configuration Backup Example","text":"<p>Automatically backup configuration when user exits config mode: </p><pre><code>SWITCH(config)#event-handler config-backup\nSWITCH(config-handler-config-backup)#action bash\nFastCli -p 15 -c 'copy running-config flash:staged_backup'\nsudo ip netns exec ns-MGMT tftp 172.31.0.8 -c put /mnt/flash/staged_backup $(hostname)_$(date +%Y-%m-%d-%H%M.%S.txt)\nEOF\nSWITCH(config-handler-config-backup)#delay 1\nSWITCH(config-handler-config-backup)#trigger on-logging\nSWITCH(config-handler-config-backup-on-logging)#regex .*SYS-5-CONFIG_I.*Configured from.*\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#command-aliases","title":"Command Aliases","text":""},{"location":"references/arista_eos_guide/#basic-alias-creation","title":"Basic Alias Creation","text":"<pre><code>SWITCH#alias whatsdiff show run diffs | include ^\\+|^\\-\n</code></pre>"},{"location":"references/arista_eos_guide/#alias-with-variables","title":"Alias with Variables","text":"<pre><code>SWITCH(config)#alias shporc show port-channel %1 detail\n</code></pre> <p>Usage: </p><pre><code>SWITCH#shporc 10\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#advanced-regex-aliases","title":"Advanced Regex Aliases","text":"<pre><code># Port-channel summary alias\nSWITCH(config)#alias \"sh port-c sum\"\nSWITCH(config-alias-regex)#10 show port-channel dense\n\n# VRF-aware interface brief\nSWITCH(config)#alias \"sh ip int br vrf (\\w+)\"\nSWITCH(config-alias-regex)#10 show ip interface vrf %1 brief\n</code></pre>"},{"location":"references/arista_eos_guide/#hardware-diagnostics","title":"Hardware Diagnostics","text":""},{"location":"references/arista_eos_guide/#cable-testing-base-t","title":"Cable Testing (Base-T)","text":"<p>Test Ethernet cables remotely: </p><pre><code>SWITCH#test l1 cable base-t interfaces e17\n</code></pre><p></p> <p>View cable test results: </p><pre><code>SWITCH#show interfaces e17 cable detail\n</code></pre><p></p> <p>Example output: </p><pre><code>Ethernet17\nCable test runs: 1\nCable length accuracy: +/-10m\nCurrent State Changes Last Change\nDiagnostics status completed 2 0:00:07 ago\nCable status ok 1 0:00:07 ago\nLength of pair A 47m 1 0:00:07 ago\nLength of pair B 39m 1 0:00:07 ago\n</code></pre><p></p> <p>Note: Cable testing will cause the interface to flap</p>"},{"location":"references/arista_eos_guide/#transceiver-simulation","title":"Transceiver Simulation","text":"<p>Simulate transceiver removal without physical access: </p><pre><code>SWITCH(config-if-Et49/1)#transceiver diag simulate removed\nSWITCH(config-if-Et49/1)#show interface e49/1 status\n\n# Restore transceiver\nSWITCH(config-if-Et49/1)#no transceiver diag simulate removed\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#led-identification","title":"LED Identification","text":"<p>Flash LEDs to identify hardware components: </p><pre><code># Flash interface LED\nSWITCH#locator-led interface ethernet 1\n\n# Flash fan tray LED\nSWITCH#locator-led fantray 1\n\n# Flash power supply LED  \nSWITCH#locator-led powersupply 1\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#interface-capabilities","title":"Interface Capabilities","text":"<p>View interface speed and feature capabilities: </p><pre><code># Show default capabilities\nSWITCH#show int e9/1 hardware default\n\n# Show current transceiver capabilities\nSWITCH#show int e9/1 hardware\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#monitoring-and-troubleshooting","title":"Monitoring and Troubleshooting","text":""},{"location":"references/arista_eos_guide/#command-audit-trail","title":"Command Audit Trail","text":"<p>View detailed command history with user attribution: </p><pre><code>SWITCH#show aaa accounting logs\n</code></pre><p></p> <p>Filter by time range or username: </p><pre><code>SWITCH#show aaa accounting logs username mitch\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#real-time-log-monitoring","title":"Real-time Log Monitoring","text":"<p>Follow system logs in real-time: </p><pre><code># Basic log following\nSWITCH#show logging follow\n\n# Filtered log following\nSWITCH#show logging follow | grep -i ethernet\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#packet-capture","title":"Packet Capture","text":""},{"location":"references/arista_eos_guide/#control-plane-capture","title":"Control-Plane Capture","text":"<p>All platforms support control-plane packet capture:</p> <ol> <li> <p>Create Monitor Session: </p><pre><code>SWITCH(config)#monitor session test-sess source Ethernet2\nSWITCH(config)#monitor session test-sess destination cpu\n</code></pre><p></p> </li> <li> <p>Verify Monitor Session: </p><pre><code>SWITCH#show monitor session\n</code></pre><p></p> </li> <li> <p>Start Packet Capture: </p><pre><code>SWITCH#tcpdump interface mirror0\n</code></pre><p></p> </li> </ol>"},{"location":"references/arista_eos_guide/#advanced-capture-options","title":"Advanced Capture Options","text":"<pre><code>SWITCH#tcpdump ?\n# file          - Set output file\n# filecount     - Number of output files\n# filter        - Filtering expression\n# interface     - Interface to monitor\n# packet-count  - Limit number of packets\n# size          - Maximum bytes per packet\n# verbose       - Enable verbose mode\n</code></pre>"},{"location":"references/arista_eos_guide/#remote-live-capture","title":"Remote Live Capture","text":"<p>Stream packet capture directly to Wireshark:</p> <p>Windows: </p><pre><code>plink -l admin -pw admin -batch 172.31.0.28 \"bash sudo tcpdump -s 0 -Un -w - -i mirror0\" | wireshark -k -i - -o \"gui.window_title:Eth1\"\n</code></pre><p></p> <p>macOS/Linux: </p><pre><code>ssh admin@172.31.0.28 \"bash sudo tcpdump -s 0 -Un -w - -i mirror0\" | wireshark -k -i - -o \"gui.window_title:Eth1\"\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#performance-testing","title":"Performance Testing","text":""},{"location":"references/arista_eos_guide/#iperf-network-testing","title":"iPerf Network Testing","text":"<p>EOS includes iPerf for network performance testing: </p><pre><code>SWITCH#bash\n[arista@SWITCH ~]$ iperf --help\n[arista@SWITCH ~]$ iperf --version\n</code></pre><p></p> <p>Note: Throughput is limited by CPU-to-ASIC interface capacity</p>"},{"location":"references/arista_eos_guide/#advanced-troubleshooting","title":"Advanced Troubleshooting","text":""},{"location":"references/arista_eos_guide/#agent-logs","title":"Agent Logs","text":"<p>Access detailed per-agent logging:</p>"},{"location":"references/arista_eos_guide/#list-available-agent-logs","title":"List Available Agent Logs","text":"<pre><code>SWITCH#bash ls /var/log/agents\n</code></pre>"},{"location":"references/arista_eos_guide/#view-specific-agent-log","title":"View Specific Agent Log","text":"<pre><code>SWITCH#bash more /var/log/agents/Acl-3671\n</code></pre>"},{"location":"references/arista_eos_guide/#quicktrace-analysis","title":"QuickTrace Analysis","text":"<p>For detailed debugging (typically used with TAC support): </p><pre><code>SWITCH#bash qtcat /var/log/qt/Acl.qt | more\n</code></pre><p></p>"},{"location":"references/arista_eos_guide/#best-practices","title":"Best Practices","text":""},{"location":"references/arista_eos_guide/#configuration-management_1","title":"Configuration Management","text":"<ol> <li>Always save configurations after changes: <code>copy running-config startup-config</code></li> <li>Use configuration sessions for complex changes</li> <li>Test changes with commit timers for automatic rollback</li> <li>Regular configuration backups using event handlers</li> </ol>"},{"location":"references/arista_eos_guide/#monitoring","title":"Monitoring","text":"<ol> <li>Enable event monitoring for change tracking</li> <li>Use scheduled commands for regular health checks</li> <li>Implement custom aliases for frequently used command sequences</li> <li>Leverage structured data output for automation</li> </ol>"},{"location":"references/arista_eos_guide/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Use <code>show active</code> instead of full running-config in specific contexts</li> <li>Filter outputs with <code>nz</code> for relevant non-zero values</li> <li>Utilize real-time monitoring with <code>watch</code> command</li> <li>Generate support bundles for TAC cases with complete system state</li> </ol>"},{"location":"references/arista_eos_guide/#security","title":"Security","text":"<ol> <li>Use <code>sanitized</code> output when sharing configurations</li> <li>Implement command accounting for audit trails</li> <li>Regular review of system logs with filtering</li> <li>Proper access control and authentication</li> </ol>"},{"location":"references/arista_eos_guide/#conclusion","title":"Conclusion","text":"<p>Arista EOS provides a comprehensive set of tools and features for network operation and troubleshooting. The combination of Linux-based architecture, extensive CLI capabilities, and built-in automation features makes EOS a powerful platform for modern network infrastructure.</p> <p>Key advantages include: - Unmatched software quality and reliability - Extensive troubleshooting and monitoring capabilities - Flexible deployment options across physical and virtual environments - Rich automation and programmability features - Comprehensive support and diagnostic tools</p> <p>For additional information and updates, refer to the official Arista documentation and support resources.</p>"},{"location":"references/arista_home/","title":"Configuring Arista switches and APs for Home Use","text":""},{"location":"references/arista_home/#configuring-your-arista-switch-and-access-points-for-home-use","title":"Configuring your Arista Switch and Access Points for Home Use","text":""},{"location":"references/arista_home/#overview","title":"Overview","text":"<p>This document provides a guide to configure your Arista switch for home use, including setting up wired and wirelesourss network connectivity and management access.</p>"},{"location":"references/arista_home/#prerequisites","title":"Prerequisites","text":"<ul> <li>An Arista switch (e.g., Arista 710P-12P)</li> <li>Console cable or SSH access to the switch</li> <li>Home network details (IP address, subnet mask, gateway IP, DNS server IP)</li> </ul>"},{"location":"references/arista_home/#step-1-connect-to-the-switch","title":"Step 1: Connect to the Switch","text":"<ol> <li>Connect your computer to the switch using a console cable or SSH.</li> <li>Open a terminal emulator (e.g., PuTTY, Tera Term) and connect to the switch's console port or SSH into the switch.</li> <li>Log in to the switch using the default username and password (arista/arista).</li> </ol>"},{"location":"references/arista_home/#step-2-configure-basic-network-connectivity","title":"Step 2: Configure Basic Network Connectivity","text":"<ol> <li>Enter global configuration mode by typing <code>configure</code>.</li> <li>Configure a VLAN for management access using the <code>vlan</code> command. For example:     <pre><code>vlan 10\nname Management\n</code></pre></li> <li>Configure VLAN 20 and VLAN 30 for guest and IoT networks respectively:     <pre><code>vlan 20\nname Guest\nexit\nvlan 30\nname IoT\nexit\n</code></pre></li> <li>Configure the switch's hostname using the <code>hostname</code> command. For example:     <pre><code>hostname MyAristaSwitch\n</code></pre></li> <li>Configure the switch's IP address, subnet mask, and default gateway using the <code>interface ethernet5</code> command. For example:     <pre><code>interface ethernet5\nswitchport access vlan 10\n</code></pre></li> <li>Assign an IP address to the VLAN interface:     <pre><code>interface vlan 10\nip address 10.10.1.1 255.255.255.0\nexit\n</code></pre></li> <li>Set the default gateway. This is your home router's IP address:     <pre><code>ip route 0.0.0.0/0 10.10.1.254\n</code></pre></li> <li>Save the configuration:     <pre><code>write\n</code></pre></li> </ol>"},{"location":"references/arista_home/#step-3-configure-dhcp-services","title":"Step 3: Configure DHCP Services","text":"<ol> <li>Configure DHCP pool for VLAN 10:     <pre><code>dhcp server\ndns server ipv4 8.8.8.8\nsubnet 10.10.1.0/24\n  range 10.10.1.40 10.1.1.250\n  lease time 0 days 12 hours 0 minutes\n  default-gateway 10.10.1.1\nexit\n</code></pre></li> <li>Enable DHCP pool for VLAN 20:     <pre><code>dhcp server\ndns server ipv4 8.8.8.8\nsubnet 10.20.1.0/24\n  range 10.20.1.40 10.20.1.250\n  lease time 0 days 12 hours 0 minutes:\n  default-gateway 10.20.1.1\nexit\n</code></pre></li> <li>Enable DHCP pool for VLAN 30:     <pre><code>dhcp server\ndns server ipv4 8.8.8.8\nsubnet 10.30.1.0/24\n  range 10.30.1.40 10.30.1.250\n  lease time 0 days 12 hours 0 minutes:\n  default-gateway 10.30.1.1\nexit\n</code></pre></li> <li>Save the configuration:     <pre><code>write\n</code></pre></li> </ol>"},{"location":"references/arista_home/#step-4-configure-your-access-points","title":"Step 4: Configure your access points","text":"<ol> <li>Connect your access points to the switch interface ethernet 7 or ethernet 9.</li> <li>Configure interface ethernet 7 or ethernet 9 as a trunk port to allow multiple VLANs:     <pre><code>interface ethernet7\nswitchport mode trunk\nswitchport trunk allowed vlan add 10,20,30\nexit\n</code></pre></li> <li>Save the configuration:     <pre><code>write\n</code></pre></li> </ol>"},{"location":"references/arista_home/#step-5-login-to-cv-cue-launchpad","title":"Step 5: Login to CV-CUE Launchpad","text":"<ol> <li>Login to the Arista Launchpad for your lab.</li> <li>Click on the <code>CV-CUE (CloudVision WiFi)</code> Tile in the LaunchPad from the Dashboard menu.</li> <li>Click on <code>Configure &gt; WiFi</code> and click on <code>Add SSID</code></li> <li>Configure your SSID and security settings. Configure the SSID to use the appropriate VLAN (e.g., VLAN 10 for management, VLAN 20 for guest, VLAN 30 for IoT).</li> <li>Click on <code>Save</code> to apply the changes.</li> </ol>"},{"location":"references/captive_portal/","title":"Captive portal","text":"<p>Create an AGNI Guest Captive Portal</p> <p>Next, we\u2019ll configure a Guest Captive Portal using AGNI for wireless clients. To configure the guest portal, you must configure both AGNI and CV-CUE. Configuring AGNI Log in to AGNI and navigate to Configuration &gt; System &gt; Portal Settings. In Portal Settings, the Default portal is always present, which is non-removable. You can use the same for configuration. Let\u2019s create a new guest portal. Click the Add Guest Portal button.  In the Configuration tab, provide the portal name (AGNI Portal) and select the theme of the portal. The available theme options are Default or Split Screen.  Select the Authentication Type as Clickthrough. Click the Customization tab to customize the portal settings, including: Page Login Toggle Terms of Use and Privacy Policy Logo Guest Login Submit Button Etc</p> <p>When done, click Add Guest Portal. The portal gets listed in the portal listing.</p> <p>Navigate to the Access Control &gt; Networks. Add a new network with following settings: Name - Wireless-Guest-CP Connection Type \u2014 Wireless SSID - Guest SSID in CV-CUE (ATD-##-CP) Authentication Type - Captive Portal Captive Portal Type - Internal Select Internal Portal - AGNI Portal Internal Role for Portal Authentication - Portal Role</p> <p>Click Add Network.  Copy the portal URL at the bottom of the page.</p> <p>Configuring CV-CUE In CV-CUE, configure a role profile and the SSID settings. Ensure that the SSID is enabled for the captive portal with redirection to the portal URL. Configuring Portal and Guest Role Profiles</p> <p>Portal Role Profile Log in to CV-CUE and navigate to Configure &gt; Network Profiles &gt; Role Profile. Add Role Profile. Add the Role Name as Portal Role. Enable the Redirection check box and select Static Redirection. In the Redirect URL field, add the portal URL that you have copied from AGNI.</p> <p>Click SAVE at the bottom of the page.</p> <p>*Note: The Guest Role and Wireless-Guest-CP Segment are not required for Click Through Guest Access. If users are required to create a guest account or receive approval, then the Guest Role and Wireless-Guest-CP Segment are required. </p> <p>The sections below with *** preceding the section are not required for Click Through Guest Access.</p> <p>***Guest Role Profile Next, we\u2019ll configure a Guest Role in CV-CUE to assign to Guest Users post authentication.</p> <p>In CV-CUE, navigate to Configure &gt; Network Profiles &gt; Role Profile. Add Role Profile. Add the Role Name as Guest Role. Select the check box next to VLAN.</p> <p>Additional Information VLAN In this lab the VLAN is set to 0. In production networks you would define the Guest VLAN ID or Name that you want to assign to the Guest Users.</p> <p>Firewall Layer 3-4 and Application Firewall Rules can be assigned to the Guest User Role.</p> <p>User Bandwidth Control Upload and Download Bandwidth Limits can be assigned to the Guest User Role.</p> <p>Click SAVE at the bottom of the page.</p> <p>***Configure AGNI Wireless-Guest-CP Segment Next, we\u2019ll configure a Segment in AGNI to assign the Guest Role Profile post authentication. Go back to AGNI and navigate to the Access Control &gt; Segments. Add a new Segment with following settings: Name - Wireless-Guest-CP Conditions - Network Name is Wireless-Guest-CP Actions - Arista-WiFi - Role Profile - Guest Role</p> <p>Click on Segments and then + Add Segment</p> <p>Next, type in the name: Wireless-Guest-CP.</p> <p>Next, let\u2019s Add Conditions. *Note: Adding more than one condition means MATCH ALL </p> <p>Select, Network, Name, Is, Wireless-Guest-CP from the drop down lists. </p> <p>Your Conditions should now look like this.</p> <p>Under Actions select Add Action. Select, Arista-WiFi - Role Profile - Guest Role</p> <p>Finally, select Add Segment at the bottom of the page. </p> <p>Configuring the Guest Captive Portal SSID</p> <p>Next we\u2019ll configure the Guest Captive Portal SSID and assign the pre and post authentication roles.</p> <p>Navigate to Configure &gt; WiFi Add SSID SSID Name: ATD-##-CP SSID Type: Private</p> <p>Click the Access Control tab. Enable the Client Authentication check box and select RADIUS MAC Authentication. Select RadSec</p> <p>Authentication Server - AGNI Accounting Server - AGNI</p> <p>Select AGNI for the Authentication and Accounting servers, and select the check box next to Send DHCP Options and HTTP User Agent. Select the Role Based Control checkbox and configure the following settings:  Rule Type \u2014 802.1X Default VSA Operand \u2014 Match Assign Role \u2014 Select All. You created the Portal and Guest Roles profile in the previous section. </p> <p>Save &amp; Turn SSID On. Once you are done, connect your phone to this SSID and select Connect from the Captive Portal page.  The clients get connected and authenticated via the portal authentication.</p> <p>D. Adding Access Control Lists In this section we will add an acl to AGNI which we can push to the switch. </p> <p>First navigate to Access Control - &gt; ACLs  and  + Add ACL in the upper right corner</p> <p>Next fill in the Name and Description fields with Guest Access and ACL Field with the below config then select Add ACL</p>"},{"location":"references/captive_portal/#permit-servers","title":"permit servers","text":"<p>permit in ip from any to 192.168.125.11</p>"},{"location":"references/captive_portal/#deny-network-access","title":"deny network access","text":"<p>deny in ip from any to 192.168.0.0/16 deny in ip from any to 10.0.0.0/8</p>"},{"location":"references/captive_portal/#allow-internet-access","title":"Allow internet access","text":"<p>permit in ip from any to any</p> <p>It should now show in the Access Control list </p> <p>Next we will apply it to a Segment. Navigate to Segments, then select edit on the Wired-EAP-TLS segment</p> <p>Next under the actions section Select Add Action and choose Apply ACL from the drop down list then choose Standard ACL and Guest Access to build out the Action. When Complete it should look as below. You can then select \u201cUpdate Segment\u201d</p> <p>From here navigate back to the Sessions screen and find the client session for the raspberry pi select the eye on the right hand side to view details. </p> <p>At the top of the session details page select the Disconnect button to disconnect and re-authenticate the session. </p> <p>Next you will then see a new session come up as the client re-authenticates you can validate the acl being applied by selecting the Eye next to this new session and viewing the details </p> <p>Next we can validate on the switch by issuing Show dot1x host command </p> <p>Take this mac address and issue the command  show dot1x host mac   detail here we will see the Access list applied in the Nas-Filter-Rule</p> <p>Lastly issue the show ip access-lists command to view the dynamic access list applied </p> <p>You can try pinging the device ip from your laptop to confirm acl functionality. </p> <p>This completes the Access Control List lab. </p>"},{"location":"references/config_tools/","title":"Intangi Iris","text":""},{"location":"references/config_tools/#intangi-iris-configuration-tool","title":"Intangi Iris Configuration Tool","text":""},{"location":"references/config_tools/#overview","title":"Overview","text":"<p>This lab is intended for the Campus Workshop and to showcase the partner tool to design, configure and price out Arista campus products and solutions. Authorized Arista partners are able to download and access the tool at <code>intangi.com/support</code> website. They are required to login with their corporate email address. Contact <code>iris-help-ext@arista.com</code> for assistance. There are many online resources available which includes videos, documentation, and more at intangi.com/support.</p>"},{"location":"references/config_tools/#iris-dashboard","title":"Iris Dashboard","text":"<pre><code>1. Upon successful login, you will be presented with the Iris dashboard. Click on the Arista catalog to start.\n</code></pre>"},{"location":"references/config_tools/#arista-catalog-at-a-glance","title":"Arista Catalog at a glance","text":"<pre><code>2. Expand the catalog to view the various devices and features available\n</code></pre>"},{"location":"references/config_tools/#design-configure-and-price-out-your-network","title":"Design, Configure and Price Out Your Network","text":"<p>You are now ready to create a new network design.</p> <p>Under the <code>Start</code> section, click on <code>New System</code> Provide a name for your system, accept all defaults and click `OK.</p> <p></p> <p>Select the Arista price list.</p> <p>Navigate to Tools on the horizontal menu bar, select <code>Subscriptions</code> then select <code>Manage Subscriptions</code>. Select the <code>Arista</code> price list and click <code>Enable</code>. Optionally click on <code>Price Lists</code> to view the price list details. USD and EUR price lists are available. Click <code>OK</code> to continue.</p> <p></p> <p>Create a new site.</p> <p>Navigate to <code>Sites</code> and click on <code>New Site</code>. Provide a name for your site, select the desired <code>Power</code>. <code>Contact</code>, <code>Description</code> are optional and click <code>OK</code> continue. Double-click on your workshop name on the map. A clean worshop space will be provided.</p> <p></p> <p>Choose a desired spine switch from the catalog. Double-click on the <code>7050X Switch Series</code>, select one of the pre-configured <code>7050SX3-24YC2-F</code> bundles. <code>-F</code> is with front-to-back fan trays, <code>-R</code> is rear-to-front. Cut-and-paste the device on the site workspace to build a two-switch spine network layer.</p> <p></p> <p>Interconnect the spine switches using the <code>Connect</code> tool. Select the spine switch and then the other spine switch. Choose the 100G DAC interface for the connection. We are pre-configuring the spine switches with MLAG </p> <p>Edit the quantity multipler of 100G DAC to <code>2</code></p> <p></p> <p>Using the same method of choosing the right Arista products for your design, select <code>720XP-48ZC2</code> POE switches for the leaf layer. Add two switches for each leaf layer.</p> <p> Connect the spine and leaf layer together using the <code>Connect</code> tool. Select the spine switch and then the leaf switch. Repeat for the second leaf switch.</p> <p> Add an wireless access point to the leaf layer. Double-click on the <code>Wireless Access Points</code> and select the <code>C-460</code> WiFi7 model. Cut-and-paste the device on the site workspace to build a two-switch active-active wireless layer.</p> <p> Connect the wireless access point to the leaf layer using the <code>Connect</code> tool. Select the leaf switch and then the wireless access point. </p>"},{"location":"references/config_tools/#create-a-bill-of-material-bom","title":"Create a Bill Of Material (BOM)","text":"<pre><code>Iris can generate a Bill Of Material (BOM) for your design.\n</code></pre> <ol> <li>Navigate to <code>Quotation</code> or press <code>Ctrl+Q</code></li> <li>The <code>Quotation Composite View</code> will appear.  You can see the devices and features selected for your design.  You can also see the price for each device and feature.  The total price is also displayed. Hover your cursor over the <code>Export menu</code> and select <code>Export to Excel</code> to download the BOM.</li> </ol> <p>\ud83c\udf89 CONGRATS! You have completed the Iris labs! \ud83c\udf89</p>"},{"location":"references/cut_paste_certs/","title":"Cut-and-Paste Method","text":""},{"location":"references/cut_paste_certs/#copying-certificats-using-cut-and-paste-method","title":"Copying Certificats using Cut-and-Paste Method","text":""},{"location":"references/cut_paste_certs/#agni-ca-signed-certificates","title":"AGNI CA signed certificates","text":"<p>We will work with radsec_ca_certificate.pem and switch.pem certificatesfrom AGNI.  The radsec cerficate is provided by AGNI and switch.pem is generated on the switch and signed by AGNI.  You will need to copy these certificates to the switch flash storage. The following steps assume you have already downloaded the certificates to your local machine. Ensure that you are in the same directory as the certificates.</p>  MAC OS <ol> <li>Open Terminal and run the following. </li> <li>You will cut-and-paste the certificate contents of radsec_ca_certificate.pem and switch.pem to the switch's terminal.</li> <li> <p>Copy the content of the certficate from BEGIN and END CERTIFICATE lines.</p> <pre><code>ls -al *.pem\ncat radsec_ca_certificate.pem\n</code></pre> </li> <li> <p>Login to your switch using the <code>arista</code> user credentials and paste the certificate. Hit return and control-d to exit.</p> <pre><code>copy terminal: flash:radsec_ca_certificate.pem\nenter input line by line; when done enter one or more control-d\n</code></pre> </li> <li> <p>Repeat the previoussteps for the switch.pem certificate.</p> <pre><code>cat switch.pem\n</code></pre> </li> <li> <p>Login to your switch using the <code>arista</code> user credentials and paste the certificate. Hit return and control-d to exit.</p> <pre><code>copy terminal: flash:switch.pem\nenter input line by line; when done enter one or more control-d\n</code></pre> </li> <li> <p>Copy the certificates to the certificate store.</p> <pre><code>copy flash:radsec_ca_certificate.pem certificate:radsec_ca_certificate.pem\ncopy flash:switch.pem certificate:switch.pem\n</code></pre> </li> </ol>  Windows <ol> <li>Open Command Prompt and run the following. </li> <li>You will cut-and-paste the certificate contents of radsec_ca_certificate.pem and switch.pem to the switch's terminal.</li> <li> <p>Copy the content of the certficate from BEGIN and END CERTIFICATE lines.</p> <pre><code>dir *.pem\ntype radsec_ca_certificate.pem\n</code></pre> </li> <li> <p>Login to your switch using the <code>arista</code> user credentials and paste the certificate. Hit return and control-d to exit.</p> <pre><code>copy terminal: flash:radsec_ca_certificate.pem\nenter input line by line; when done enter one or more control-d\n</code></pre> </li> <li> <p>Repeat the previous steps for the switch.pem certificate.</p> <pre><code>type switch.pem\n</code></pre> </li> <li> <p>Login to your switch using the <code>arista</code> user credentials and paste the certificate. Hit return and control-d to exit.</p> <pre><code>copy terminal: flash:switch.pem\nenter input line by line; when done enter one or more control-d\n</code></pre> </li> <li> <p>Copy the certificates to the certificate store.</p> </li> </ol> <pre><code>copy flash:radsec_ca_certificate.pem certificate:radsec_ca_certificate.pem\ncopy flash:switch.pem certificate:switch.pem\n</code></pre>"},{"location":"references/interface_diag/","title":"Interface Diagnostics","text":""},{"location":"references/interface_diag/#cloudvision-interface-diagnostics","title":"CLoudVision Interface Diagnostics","text":""},{"location":"references/interface_diag/#overview","title":"Overview","text":"<p>The CloudVision Campus features are targeted at streamlining Campus operations, interface diagnostics are no exception to this! You have tools at your fingertips to troubleshoot wired endpoints.</p> <p></p>"},{"location":"references/interface_diag/#cable-test","title":"Cable Test","text":"<p>Test your ethernet run between your devices or down to a connected endpoint like a desktop, phone, printer, etc. This can be helpful in validating the ethernet pairs are operating as expected, the length of the cable is not beyond specs, and you are able to transfer expected speeds.</p> <p></p>"},{"location":"references/interface_diag/#interface-cycle","title":"Interface Cycle","text":""},{"location":"references/interface_diag/#admin-down","title":"Admin Down","text":"<p>Sometimes in troubleshooting a good bounce of the port will assist in triggering and endpoint to reauthenticate, power cycle, etc. Using the <code>Administratively</code> option to admin down the port and back up is an easy way to execute this action</p> <p></p>"},{"location":"references/interface_diag/#poe-cycle","title":"PoE Cycle","text":"<p>There are situations where you simply want a PoE device to power cycle. Use the <code>Power over Ethernet cycle</code> to quickly reboot any PoE device.</p> <p></p>"},{"location":"references/interface_diag/#telemetry","title":"Telemetry","text":"<p>We have telemetry data as you've seen throughout CloudVision and as expected, you are presented with relevant telmetry as these interfaces are tested. You can see here what the various cycles look like </p> <p></p>"},{"location":"references/l2tunnel/","title":"Guest AP Tunnel","text":""},{"location":"references/l2tunnel/#tunnel-guest-traffic-to-core-switch","title":"Tunnel Guest Traffic to Core Switch","text":""},{"location":"references/l2tunnel/#overview","title":"Overview","text":"<p>To highlight Arista's Controllerless Architecture we will use the labs Core 720DP switch to termainate AP tunnels via VXLAN.</p>"},{"location":"references/l2tunnel/#tunnel-configuration","title":"Tunnel Configuration","text":""},{"location":"references/l2tunnel/#arista-cv-cue","title":"Arista CV-CUE","text":"<p>Login into CV-CUE to begin this lab, you will create the AP tunnel.</p> <ol> <li>Under the <code>Configure</code> section, click on <code>Network Profiles &gt; Tunnels</code></li> <li>Select the correct location in your hierarchy</li> <li> <p>Select <code>Add Tunnel Interface</code></p> Network Profiles Setting Value Tunnel Interface Name tunnel-## Tunnel Type <code>VXLAN</code> Remote Endpoint 1.1.1.1 Local Endpoint VLAN 0 VXLAN VNI Offset 10200 </li> <li> <p>Click <code>Save</code></p> <p></p> </li> </ol>"},{"location":"references/l2tunnel/#assign-ssid-to-tunnel-profile","title":"Assign SSID to Tunnel Profile","text":"<ol> <li>Under the <code>Configure</code> section, click on <code>Wifi</code></li> <li>Select the correct location in your hierarchy</li> <li>Select the pencil to edit Guest SSID</li> <li>Select <code>Network</code></li> <li>Change <code>Network Mode</code> to <code>L2 Tunnel</code></li> <li>Select the tunnel-##</li> <li> <p>Click Save</p> <p></p> </li> </ol>"},{"location":"references/l2tunnel/#monitor-tunnels","title":"Monitor Tunnels","text":"<ol> <li>Under the <code>Monitor</code> section, click on <code>Wifi</code></li> <li>Verify your location in the hierarchy</li> <li> <p>Click on <code>Tunnels</code> or the tunnel icon on the top row</p> <p>Notice the client IP Address is now using network 10.1.200.##</p> <p></p> </li> <li> <p>Verify if the Tunnels are green</p> <p></p> </li> </ol>"},{"location":"references/lab_assignment/","title":"Lab Assignment","text":""},{"location":"references/lab_assignment/#wwt-lab-assignment-sept-24-25-2025","title":"WWT Lab Assignment - Sept. 24-25, 2025","text":""},{"location":"references/lab_assignment/#access-points-serial-numbers","title":"Access Points Serial Numbers","text":"Email AP#1 AP#2 derek.legler@wwt.com 30862DC6B66F 30862DC6B2AF greg.asher@wwt.com 30862DC6B2DF 30862DC6B27F Ignatius.Chibale@wwt.com 30862DC6B39F 30862DC6B3FF joseph.marentette@wwt.com 30862DC6B45F 30862DC6B3CF matt.jones@wwt.com 30862DC6B42F 30862DC6B48F nate.jennemann@wwt.com 30862DC67A3F 30862DC67A9F nathan.bogan@wwt.com 30862DC67AFF 30862DC67A0F tanner.paige@wwt.com 30862DC67A6F 30862DC67ACF dennis.jaeger@wwt.com 30862DC6B06F 30862DC6B0CF nicolas.rodgers@wwt.com 30862DC6B12F 30862DC6B03F nathan.litz@wwt.com 30862DC6B09F 30862DC6B0FF john.stillwell@wwt.com 30862DC6332F 30862DC633BF tyler.turner@wwt.com 30862DC6341F 30862DC6329F dave.keiner@wwt.com 30862DC6335F 30862DC633EF bob.seiter@wwt.com 30862DC6AF4F 30862DC6AFAF justin.girdler@wwt.com 30862DC6B00F 30862DC6AF1F ryan.salihar@wwt.com 30862DC6AF7F 30862DC6AFDF nathan.nielsen@wwt.com 30862DC8E9AF 30862DC8EB5F Christopher.Hoff@wwt.com 30862DC8F4BF 30862DC8E1CF rita.younger@wwt.com 30862DC8EA3F 30862DC8F45F brandon.mainock+cws@arista.com - - dcapetz@arista.com - -"},{"location":"references/mac_cert/","title":"EAP-TLS Using Macbook","text":""},{"location":"references/mac_cert/#eap-tls-using-macbook","title":"EAP-TLS Using Macbook","text":"<p>Example of using your Macbook to test EAP-TLS</p>"},{"location":"references/mac_cert/#exporting-trusted-cert","title":"Exporting Trusted Cert","text":"<ol> <li>To start, hop on your mac keychain and find the internal CA that signed your arista certificate. This is under <code>Keychain &gt; System &gt; My Certificates</code>.</li> <li>Find the internal CA in your Certificates under <code>Keychain &gt; System &gt; Certificates</code></li> <li>Click <code>Export</code> and export the internal CA as a <code>.cer</code></li> <li>Using that public key, you can then hop in AGNI and add it to <code>Certificate &gt; Trusted Certificates &gt; External</code>.</li> <li>In addition, since we don't have access to the internal identity store, you'll want to build a username in Agni's local database that matches the common name of your user certificate</li> </ol>"},{"location":"references/mac_cert/#agni-networks","title":"AGNI Networks","text":"<ol> <li>Under <code>Access Control &gt; Networks</code>, you'll want to build out your connection policy.</li> <li>Match the SSID name, enable auth type of <code>EAP-TLS</code>, set <code>User Identity Binding</code> as <code>Required</code>, and <code>Enable</code> the Trust External Certificates.</li> <li>Click Save</li> </ol>"},{"location":"references/mac_cert/#connect-to-ssid","title":"Connect to SSID","text":"<ol> <li>Try and connect to your EAP-TLS SSID</li> <li>Present it with your local certificate</li> <li>You may be prompted to continue</li> <li>Supply your username</li> <li>Validate your session in AGNI under <code>Sessions</code></li> </ol> <p>Reference: https://docs.google.com/document/d/1tuqhdpFDrVC4YVEO0fUKipQfdpzh-mKXXAWBqArwdbA/edit?tab=t.0</p>"},{"location":"references/radius/","title":"Configuring Radius","text":""},{"location":"references/radius/#setup-radius-radsec-server","title":"Setup Radius RadSec Server","text":""},{"location":"references/radius/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"references/radius/#configuration","title":"Configuration","text":"<ol> <li> <p>In AGNI Click on <code>Configuration \u2192 System \u2192 RadSec Settings</code> on the left hand side.</p> <p></p> </li> <li> <p>Copy the FQDN <code>radsec.beta.agni.arista.io</code> and <code>Download the Certificate</code> at the bottom.</p> <p></p> </li> <li> <p>Next, go back to <code>CV-CUE</code> and let\u2019s set up a RadSec Server.  </p> <p></p> </li> <li> <p>Click on <code>Add RADIUS Server</code></p> </li> <li> <p>Navigate to <code>Configure \u2192 Network Profiles \u2192 RADIUS</code></p> <p></p> </li> </ol>"},{"location":"references/radsec/","title":"RadSec","text":""},{"location":"references/radsec/#radsec-installing-the-ap-certificate","title":"RadSec | Installing the AP Certificate","text":""},{"location":"references/radsec/#what-is-radsec","title":"What is RadSec?","text":"<p>RadSec is a protocol that supports RADIUS over TCP and TLS. For mutual authentication it is required to install a client certificate with corresponding private key as well as your AGNI CA certificate.</p> <p>With the proliferation of IoT devices, mobile users, and remote access, networks have become more complex and diverse, making traditional RADIUS susceptible to eavesdropping and man-in-the-middle attacks. RadSec's integration of secure Transport Layer Security (TLS) encryption addresses these vulnerabilities, providing a robust defense against unauthorized access, data interception, and tampering.</p> <p>Arista Switches can form a RadSec tunnel using SSL encryption with AGNI:</p> <ul> <li>AGNI integrates with network infrastructure devices (wired switches and wireless access points) through a RadSec tunnel over <code>Port 2083</code></li> <li>The highly secure and encrypted tunnel offers complete protection to the communications that happen in a distributed network environment. This mechanism offers much greater security to AAA workflows when compared with traditional unencrypted RADIUS workflows.</li> </ul> <p>More information on RadSec</p> <ul> <li>Configuring a RadSec profile in EOS</li> <li>RADIUS Dynamic Authorization over TLS</li> </ul> <p>Open AGNI and CV-CUE</p> <p>When applying the Certificate to the AP it is recommended to have both the CV-CUE and AGNI windows opened side by side. - Login to CV-CUE - Login to AGNI</p>"},{"location":"references/radsec/#configure-radsec","title":"Configure RadSec","text":"<p>It's important to identify if the wired or wireless device you are configuring is manufactured with a Trusted Platform Module (TPM) chip. This chip contains the required certificate used for RadSec. However, if the TPM chip does not exist, CV-CUE supports Custom Certificate Management for Access Points.</p> <p>More information on TPM</p> <ul> <li>Wireless TPM vs Non-TPM</li> <li>TPM chip APs - RadSec Tunnel Configuration</li> <li>Non-TPM chip APs - RadSec Tunnel with Custom Certificate</li> </ul>"},{"location":"references/radsec/#summary","title":"Summary","text":"<ol> <li>Launchpad Add AP and assign the Service</li> <li>CV-CUE Create a Folder and move the AP</li> <li>CV-CUE Generate CSR TAG and then Download CSR <code>.zip</code>, unzip for the .CSR</li> <li>AGNI Add the device as a new AP under Access Devices</li> <li>AGNI Click on your AP and then select Get Client Certificate</li> <li>AGNI Upload the CSR and Generate Certificate</li> <li>CV-CUE Click on your AP and Upload Device Certificate and select TAG and <code>AP.pem</code> file</li> <li>AGNI Under Administration click on RadSec settings and download Cert and copy hostname</li> <li>CV-CUE In your Folder, Create a RADIUS RadSec server and apply the RadSec Cert from AGNI and Select your CSR TAG -&gt; FQDN: <code>radsec.beta.agni.arista.io</code></li> <li>CV-CUE Create an SSID and point to the RADIUS client you created using WPA2 802.1X RadSec.</li> <li>AGNI Create a User Account</li> <li>AGNI Add Client</li> <li>AGNI Under Networks, recommend starting with just a MAC auth example to make sure everything is running like you expected and point it to your SSID</li> </ol>"},{"location":"references/radsec/#detailed-steps","title":"Detailed Steps","text":"<ol> <li><code>CV-CUE</code><ol> <li>First we Generate a CSR. Click on <code>Monitor &gt; WiFi Access Points</code></li> <li>On right hand side on top and click on <code>Certificate Actions</code></li> <li>Next, right click on the AP and select <code>Generate CSR</code> and select your <code>Certificate Tag</code>.</li> <li>Next, right click on the AP and select <code>Download CSR</code> and select your <code>Certificate Tag</code>.</li> <li>Unzip the CSR File</li> </ol> </li> <li><code>AGNI</code><ol> <li>Click on Access Devices and Select the AP.</li> <li>Access Devices \u2192 Devices \u2192 Select AP \u2192 Get Client Certificate</li> <li>Select Get Client Certificate.</li> <li>Next, select <code>Generate Certificate: Use CSR (Single Device)</code>, and select <code>Action: Upload CSR File</code>, and browse to and select the CSR file that you unzipped earlier in the process.</li> <li>Select <code>Generate Certificate</code> and the AP Client Certificate will be created and downloaded to your device.</li> </ol> </li> <li><code>CV-CUE</code><ol> <li>Upload the Device Certificate</li> <li>Go to <code>Monitor \u2192 WiFi \u2192 Access Points \u2192 Select AP \u2192 Certificate \u2192 Upload Device Certificate</code>, and upload the Client/Device Certificate that was downloaded to your device. Use the same Certificate Tag as when you Downloaded the CSR above.</li> </ol> </li> <li><code>AGNI</code><ol> <li>Click on Access Devices and then Devices look at the RadSec Status.</li> <li>If the AP does not connect, issue a reboot.</li> </ol> </li> </ol>"},{"location":"references/radsec_on_eos/","title":"Configuring RadSec on EOS","text":""},{"location":"references/radsec_on_eos/#configuring-radsec-on-eos","title":"Configuring RadSec on EOS","text":"<p>Arista Switches can form a RadSec tunnel using SSL encryption with AGNI. RadSec is a protocol that supports RADIUS over TCP and TLS. For mutual authentication it is required to install a client certificate with corresponding private key as well as your AGNI CA certificate. The steps below assumes the use of AGNI's internal PKI.</p> <p>Follow the steps to create, upload and establish the RadSec tunnel.</p> <ol> <li>Generate private key and CSR</li> <li>Generate client certificate for the Switch in AGNI. </li> <li>Upload the Certificate to the Switch.</li> <li>Configure an SSL profile and and RadSec profile  </li> </ol>"},{"location":"references/radsec_on_eos/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"references/radsec_on_eos/#configuration-steps","title":"Configuration Steps","text":"<ol> <li> <p>Generate the key pair</p> <p></p><pre><code>security pki key generate rsa 2048 switch.key\n</code></pre> 2.  Generate the certificate signing request using the key just created.<p></p> Common Name must correspond to the Switch MAC address and the DNS needs to match the hostname of the switch <pre><code>security pki certificate generate signing-request key switch.key\n</code></pre> Certificate Signing Request <pre><code>Common Name for use in subject: 2c:dd:e9:fe:cd:68 \nTwo-Letter Country Code for use in subject: US \nState for use in subject: FL \nLocality Name for use in subject: NFM \nOrganization Name for use in subject: Arista \nOrganization Unit Name for use in subject: acws \nEmail address for use in subject:\nIP addresses (space separated) for use in subject-alternative-name:\nDNS names (space separated) for use in subject-alternative-name: pod00-leaf1a \nEmail addresses (space separated) for use in subject-alternative-name:\nURIs (space separated) for use in subject-alternative-name:\n-----BEGIN CERTIFICATE REQUEST-----\nMIIC0DCCAbgCAQAwYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAkZMMQwwCgYDVQQH\nDANORk0xDTALBgNVBAoMBGFjd3MxDDAKBgNVBAsMA2NzZTEaMBgGA1UEAwwRMmM6\nZGQ6ZTk6ZmY6MzI6YjIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC1\nUDFDsidF4qhGzIEgNUlcNPtfvAGic/hQelaD9MgvOUbbVUhEg0hcbA/LLcyZQ+f/\nB0f/UK7eyuNhtS3lTYf7A1TqCQ7md8d4opcKbiP7vFg6+dpvAXT8giBlstv790LY\nwEpuCKX4igkLx+jMlNNOP7tKnuX2tuK/EYi20O2a0e4LR77ebBZpztiia9prCyvk\nneNhtAPMeb/O/kUBnmPwpPDy4jtpPhp8I+xX9zo4nRNjVlFcRRNao/N72kIpnmX8\nnnAXIcG/I1bLsgspWIwwiV3MUL3pOKUNqXaKf824/ZJgPAtUA2zgp9JayMbbddOE\nA3dKTwBkGOXihZkVDTnrAgMBAAGgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQ\nMA6CDHBvZDAwLWxlYWYxYTANBgkqhkiG9w0BAQsFAAOCAQEAp8pxdX1qJ8uPFrQW\nZmMmOZ+RM3lEDOJkhNA2aRVonWeejp0bz5qToT8E41RPyLIdQ56Pa+zeGx5occg8\n3nK3aFAu1ARPR1EJ8E04656c9v6zpF9np3juwLJm0uiM16XgUMvEmQd1anRELndn\nr53jlXKAcsKdFMSaW0MqXY6DN8a1PmI3KL0zzOKpwtcRSjvAXFTN8viSPOL/vrRL\nXTqVaa+P1d7PgRBoSi5DFY6U9nwHD42yP0kCbq98wxDrLyTfMV20ymY083XHdKPz\nY4dI+YfHeK48QLBSLUKB9CrOC0XyhIMtCxBGkJ+umZy3wktZHCCkvDej7NoiNZal\n4uEbIg==\n-----END CERTIFICATE REQUEST-----\n</code></pre> </li> <li> <p>Copy the certificate including the text \u201c-----BEGIN CERTIFICATE REQUEST-----\u201d and \u201c-----END CERTIFICATE REQUEST-----\u201d</p> </li> <li> <p>Select your Access Device from the list and select Get Client Certificate.</p> </li> <li> <p>Select Use CSR (Single Device) and Paste CSR.</p> Note 1: CSR can also be uploaded from file by selecting action Upload CSR File Note 2: For signing multiple CSRs select Upload Zip with multiple CSRs <p></p> </li> <li> <p>Click Generate Certificate. A certificate <code>pod00-leaf1a.pem</code> will be generated and downloaded. Rename this file to <code>switch.pem</code></p> </li> <li> <p>Go to RadSec Setting in the Navigator under Administration section to download the CA certificate.</p> </li> <li> <p>Download the RadSec CA certificate (radsec_ca_certificate.pem) by clicking Download Certificate.</p> <p>In AGNI Click on <code>Configuration \u2192 System \u2192 RadSec Settings</code> on the left hand side.</p> <p></p> <p>Copy the FQDN <code>radsec.beta.agni.arista.io</code> and <code>Download the Certificate</code> at the bottom.</p> <p></p> </li> <li> <p>Copy certificates to the switch     The certificate and root certificate need to be copied to the switch flash using SCP.     Prerequisites:     Settings on switch to be able to SCP over the certs. Provide a username and password with network-admin role. Ensure the following settings are configured on the switch:</p> <p></p><pre><code>aaa authentication login console local\naaa authorization exec default local\n</code></pre> 10. Copy the certificates to the switch flash using SCP.<p></p> <p></p><pre><code>scp switch.pem radsec_ca_certificate.pem arista@&lt;switch_ip&gt;:/mnt/flash:\n</code></pre> 11. Login to your switch using the <code>arista</code> user credentials and verify the certificates are present in the flash.<p></p> <p></p><pre><code>dir\n</code></pre> 12. Copy the certificates to the certificate store.<p></p> <p></p><pre><code>copy flash:switch.pem certificate:switch.pem\ncopy flash:radsec_ca_certificate.pem certificate:radsec_ca_certificate.pem\ndir certificate:\n</code></pre> 13. Verify the certificate validity.<p></p> <pre><code>show management security ssl profile agni-server\n</code></pre> <pre><code>    Profile     State\n    ----------- -----\n    agni-server valid\n</code></pre> </li> </ol>"},{"location":"references/streaming/","title":"Streaming Telemetry","text":""},{"location":"references/streaming/#streaming-telemetry","title":"Streaming Telemetry","text":""},{"location":"references/streaming/#multiple-instances","title":"Multiple Instances","text":"<pre><code>daemon TerminAttr\n    exec /usr/bin/TerminAttr \n    -disableaaa\n\n    -cvaddr=apiserver.cv-staging.corp.arista.io:443\n    -cvauth=token-secure,/tmp/cv-onboarding-token\n    -cvvrf=MGMT\n\n    -cvopt instructor.addr=apiserver.cv-staging.corp.arista.io:443\n    -cvopt instructor.auth=token-secure,/tmp/instructor_pod\n    -cvopt instructor.vrf=MGMT\n\n    -taillogs\n    -cvproxy=\n    -cvauth=certs,/persist/secure/ssl/terminattr/primary/certs/client.crt,/persist/secure/ssl/terminattr/primary/keys/client.key\n    -smashexcludes=ale,flexCounter,hardware,kni,pulse,strata\n</code></pre>"},{"location":"references/under_constructions/","title":"This product is under development","text":""},{"location":"references/under_constructions/#this-product-is-under-development","title":"This product is under development","text":""},{"location":"references/under_constructions/#work-in-progress","title":"Work in progress","text":"<p>We will update this page once the product and solution is available</p>"},{"location":"references/wifi_password/","title":"WiFi Passwords","text":""},{"location":"references/wifi_password/#lab-guide-wifi-password-and-login-information","title":"Lab Guide, WiFi Password and Login Information","text":""},{"location":"references/wifi_password/#topology","title":"Topology","text":""},{"location":"references/wifi_password/#fabric-switches-and-management-ip","title":"Fabric Switches and Management IP","text":"POD Type Node Management IP Platform Provisioned in CloudVision WORKSHOP spine spine1 10.1.100.2/24 CCS-720XP-24Z Provisioned WORKSHOP spine spine2 10.1.100.3/24 CCS-720XP-24Z Provisioned"},{"location":"references/wifi_password/#online-lab-guides","title":"Online Lab Guides","text":""},{"location":"references/wifi_password/#accesible-from-your-browser","title":"Accesible from your browser","text":"<ol> <li>On the web Arista Campus Workshop Lab Guides</li> <li>Local server Arista Campus Workshop Lab Guides </li> </ol>"},{"location":"references/wifi_password/#wireless","title":"Wireless","text":""},{"location":"references/wifi_password/#ssid-arista-workshop","title":"SSID: <code>Arista-Workshop</code>","text":""},{"location":"references/wifi_password/#password-aristarox-case-sensitive","title":"Password: <code>AristaRox!</code> (case sensitive)","text":""},{"location":"references/wifi_password/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"references/wips/","title":"WIPS","text":""},{"location":"references/wips/#c-04-best-in-class-wips","title":"C-04 | Best in Class WIPS","text":""},{"location":"references/wips/#overview","title":"Overview","text":""},{"location":"references/wips/#wips-wireless-intrusion-prevention-system","title":"WIPS Wireless Intrusion Prevention System","text":"<p>Arista Wireless Intrusion Prevention System (WIPS) leverages RF broadcast and protocol properties including packet formats like probe requests and beacons common to all 802.11 standards(including 802.11ac and 802.11ax) to detect and prevent unauthorized access.</p> <p>More Information</p> <p>For more information about how Arista\u2019s WIPS feature works, refer to this whitepaper: https://www.arista.com/assets/data/pdf/Whitepapers/Arista-Marker-Packet-Whitepaper.pdf</p> <p>Wi-Fi threats include an ever changing landscape of vulnerabilities, such as:</p> <ul> <li> Rogue APs</li> <li> Unauthorized BYOD Client</li> <li> Misconfigured APs</li> <li> Client misassociation</li> <li> Unauthorized association</li> <li> Ad-hoc connections</li> <li> Honeypot AP or evil twin \u201cPineapple\u201d</li> <li> AP MAC spoofing</li> <li> DoS attack</li> <li> Bridging client</li> </ul>"},{"location":"references/wips/#configure-wips","title":"Configure WIPS","text":"<p>Let's go ahead and configure WIPS on our Access Point</p> <ol> <li>In the menu on the left hand side of the screen, navigate to <code>Monitor &gt; WIPS</code></li> <li>Click on <code>Access Points</code> and <code>Clients</code> in the menu at the top of the screen and explore if any Rogue APs or Clients are connected to other APs in the area.</li> <li>Access points that have been detected by WIPS but are not managed within Arista CV-CUE, they are designated as Rogue or External Access Points.</li> <li>Next, let\u2019s explore the information we can gather about the wireless environment using Arista\u2019s WIPS.</li> <li>Select <code>Monitor &gt; WIPS</code></li> <li>In the simple lab environment, only your pod\u2019s single AP is part of your managed wireless infrastructure. All of the other access points and clients on the network are like crowded neighbors or businesses in a shared office work space.</li> <li> <p>Under Monitor, WIPS, Access Points you can see all of the detected Rogue Access points. From this screen you can reclassify, set auto-prevention, add to ban list, name or move the AP.</p> <p>Additional Information</p> <p>Additional information about WIPS AP classification and Wireless Intrusion Prevention Techniques</p> </li> </ol> <ul> <li> <p> Authorized APs</p> <p>Access Points (APs) that are wired to the corporate network and are compliant with the Authorized Wireless LAN (WLAN) configuration defined by the Administrator in CV-CUE are classified as Authorized APs. Typically, these will be Arista APs, but the administrator can configure the Authorized WiFi policies for any AP vendors.</p> </li> </ul> <ul> <li> <p> Rogue Access Point</p> <p>APs that are wired to the corporate network and do not follow the Authorized WiFi configuration defined in CV-CUE are classified as Rogue APs.</p> <p>Even if this AP is disconnected from the network, it will continue to be classified as a Rogue. These APs are a potential threat to the corporate environment and can be used for intrusion into the corporate network over Wi-Fi. It is recommended to enable Intrusion Prevention for Rogue APs so that Wi-Fi communication with these APs is always disrupted. Using the Location Tracking ability of Arista WIPS, Rogue APs should be tracked down and physically removed from the network. Rogue APs are displayed in Red rows on the console.</p> </li> </ul> <ul> <li> <p> External Access Point</p> <p>APs that are not wired to your corporate network are classified as External APs. Through the connectivity tests performed by the WIPS Sensors, Wireless Manager is able to determine that these APs are not connected to the wired network. These are neighboring APs that share the same spectrum as the Authorized APs and may cause interference with your Authorized WLAN. A site survey and channel optimization should be performed to reduce radio interference from the External APs. These APs are not always a threat and hence they should not be quarantined/prevented by default, as it would disrupt neighboring Wi-Fi activity. Intrusion Prevention policies can be configured to prevent Authorized clients from connecting to External APs.</p> <p>A Rogue Access point can be reclassified, moved or named from the 3-dots menu for each detected AP.</p> <p>Within an existing campus WiFi environment or one with a mix of wireless solutions, these discovered APs can be explicitly allowed to show the most accurate security profile.</p> <p>For this lab you do not need to authorize any APs.</p> </li> </ul>"},{"location":"references/wips/#classify-and-prevent-individual-client","title":"Classify and Prevent Individual client","text":"<p>Next, let\u2019s use the WIPS system to identify and prevent an example problematic client from connecting to your network.</p> <ol> <li>Navigate to <code>WIPS &gt; Clients</code></li> <li>Find your smartphone device connected to the previous PSK SSID. Reconnect if it has been disconnected.</li> <li>Since this client is associated with the correct PSK for the SSID, it is automatically classified as <code>Authorized</code>.</li> <li>Next, click the 3-dots menu for the device, <code>Change Classification</code>, <code>Rogue</code></li> <li>Now, sort the clients menu by Classification column (left) and find the red marked Rogue device.</li> <li>Next, Select the 3-dots menu for the Rogue client and click \u201cPrevent This Device\u201d</li> <li>Click Prevent to start the WIPS prevention mechanism to disrupt the selected client from sending and receiving traffic.</li> <li>Try to connect to a public website with your test client device with the prevention setting enabled versus disabled (be sure to disable backup wireless/LTE radios).</li> <li>The test device should fail to connect to other devices through the protected WiFi network when prevention is active.</li> <li> <p>When you are finished, STOP the client prevention</p> <p>STOP Client Protection</p> <p>\ud83d\uded1 When you are finished, STOP the client prevention so that you can use this test device in upcoming labs, optionally. \ud83d\uded1</p> </li> </ol>"},{"location":"snippets/channel_widths_all/","title":"Channel widths all","text":"All Channel Settings <p>You will select the <code>5GHz</code> tab (you can ignore 2.4GHz) and you will override both:</p> <ul> <li>Channel Selection: <code>Manual</code></li> <li>Transmit Power: <code>Manual</code></li> </ul> <p>Find your pod number and assigned student number.</p> Pod Student 2.4 GHz 5.GHz Channel Width Transmit Power 01 1 Disabled 52 20MHz 4bBm 01 2 Disabled 56 20MHz 4bBm 02 1 Disabled 60 20MHz 4bBm 02 2 Disabled 64 20MHz 4bBm 03 1 Disabled 100 20MHz 4bBm 03 2 Disabled 105 20MHz 4bBm 04 1 Disabled 108 20MHz 4bBm 04 2 Disabled 112 20MHz 4bBm 05 1 Disabled 116 20MHz 4bBm 05 2 Disabled 120 20MHz 4bBm 06 1 Disabled 124 20MHz 4bBm 06 2 Disabled 128 20MHz 4bBm 07 1 Disabled 132 20MHz 4bBm 07 2 Disabled 136 20MHz 4bBm 08 1 Disabled 140 20MHz 4bBm 08 2 Disabled 144 20MHz 4bBm 09 1 Disabled 149 20MHz 4bBm 09 2 Disabled 153 20MHz 4bBm 10 1 Disabled 157 20MHz 4bBm 10 2 Disabled 161 20MHz 4bBm 11 1 Disabled 165 20MHz 4bBm 11 2 Disabled 52 20MHz 4bBm 12 1 Disabled 56 20MHz 4bBm 12 2 Disabled 60 20MHz 4bBm All Channel Settings <p>You will select the <code>5GHz</code> tab (you can ignore 2.4GHz) and you will override both:</p> <ul> <li>Channel Selection: <code>Manual</code></li> <li>Transmit Power: <code>Manual</code></li> </ul> <p>Find your pod number and assigned student number.</p> Student 5.GHz Channel Width Transmit Power 1 52 20MHz 4bBm 2 56 20MHz 4bBm <p>|    3    |  60   |     20MHz     |      4bBm      | |    4    |  64   |     20MHz     |      4bBm      |</p> <p>|    5    |  100  |     20MHz     |      4bBm      | |    6    |  105  |     20MHz     |      4bBm      |</p> <p>|    7    |  108  |     20MHz     |      4bBm      | |    8   |  112  |     20MHz     |      4bBm      |</p> <p>|    9    |  116  |     20MHz     |      4bBm      | |   10    |  120  |     20MHz     |      4bBm      |</p> <p>|    11    |  124  |     20MHz     |      4bBm      | |    12    |  128  |     20MHz     |      4bBm      |</p> <p>|    13    |  132  |     20MHz     |      4bBm      | |    14    |  136  |     20MHz     |      4bBm      |</p> <p>|    16    |  140  |     20MHz     |      4bBm      | |    17    |  144  |     20MHz     |      4bBm      |</p> <p>|    18    |  149  |     20MHz     |      4bBm      | |    19    |  153  |     20MHz     |      4bBm      |</p> <p>|    20    |  157  |     20MHz     |      4bBm      | |    21    |  161  |     20MHz     |      4bBm      |</p> <p>|    22    |  165  |     20MHz     |      4bBm      | |    23    |  52   |     20MHz     |      4bBm      |</p> <p>|    24    |  56   |     20MHz     |      4bBm      | |    25    |  60   |     20MHz     |      4bBm      |</p>"},{"location":"snippets/login_agni/","title":"Login agni","text":""},{"location":"snippets/login_agni/#agni-login","title":"AGNI Login","text":"<p>If you're not already logged into AGNI, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>AGNI (Beta)</code> tile to begin this lab.</p> <p></p>"},{"location":"snippets/login_cv/","title":"Login cv","text":""},{"location":"snippets/login_cv/#cloudvision-login","title":"CloudVision Login","text":"<p>If you're not already logged into CloudVision (CVaaS), navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> WiFi LoginLogin Step 1Login Step 2 <p>Workshop SSID: <code>Arista-Workshop</code> Workshop Password: <code>AristaRox!</code> (case sensitive)</p> <p>Click the <code>Log in with Launchpad</code> button and provide your assigned lab/pod email address and password:</p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wireless. Click into <code>CVaas Instance</code> tile to begin this lab.</p> <p></p>"},{"location":"snippets/login_cvcue/","title":"Login cvcue","text":""},{"location":"snippets/login_cvcue/#cv-cue-login","title":"CV-CUE Login","text":"<p>If you're not already logged into CV-CUE, navigate to the Arista Launchpad for your lab.</p> <p> Open Launchpad</p> Login Step 1Login Step 2 <p>Provide your assigned lab/pod email address and password and clieck <code>Sign In</code></p> <p></p> <p>You will see the various tools tied to your tenant, this includes CVP, AGNI (NAC), and CV-CUE for wirless. Click into <code>CV-CUE (CloudVision Wifi)</code> tile to begin this lab.</p> <p></p>"},{"location":"snippets/topology/","title":"Topology","text":""},{"location":"snippets/topology/#topology","title":"Topology","text":"Lab Topology"},{"location":"snippets/workspace/","title":"Workspace","text":""},{"location":"snippets/workspace/#create-a-workspace","title":"Create a Workspace","text":"<p>We are going to create a workspace to propose changes to the Network Infrastructure.  A workspace acts as a sandbox where you can stage your configuration changes before deploying them.</p> What is a Workspace? <p>To make a comparison, a workspace is like a <code>configuration session</code> in EOS or a branch in Git!</p> Studios Step 1Studios Step 2 <p>Click on the <code>Provisioning</code>  on the left side, then choose <code>Studios</code>.</p> <p></p> <p>Click <code>Create a Workspace</code>, give it any name you would like and click <code>Create</code>.</p> <p></p>"}]}